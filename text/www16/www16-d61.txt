6 1 0 2 b e F 9
] I S . s c [
2 v 4 7 2 5 0
.
1 0 6 1 : v i X r a
Discovering and Characterizing Mobility Patterns in
Urban Spaces : A Study of Manhattan Taxi Data∗
Lisette Espín Noboa
GESIS Leibniz Institute for the Social Sciences
LisetteEspin@gesisorg
Florian Lemmerich
GESIS Leibniz Institute for the Social Sciences
FlorianLemmerich@gesisorg
Philipp Singer
GESIS Leibniz Institute for the Social Sciences
PhilippSinger@gesisorg
Markus Strohmaier
GESIS Leibniz Institute for the Social Sciences
& University of Koblenz Landau
MarkusStrohmaier@gesisorg
ABSTRACT Nowadays , human movement in urban spaces can be traced digitally in many cases . It can be observed that movement patterns are not constant , but vary across time and space . In this work , we characterize such spatio temporal patterns with an innovative combination of two separate approaches that have been utilized for studying human mobility in the past . First , by using non negative tensor factorization ( NTF ) , we are able to cluster human behavior based on spatio temporal dimensions . Second , for understanding these clusters , we propose to use HypTrails , a Bayesian approach for expressing and comparing hypotheses about human trails . To formalize hypotheses we utilize data that is publicly available on the Web , namely Foursquare data and census data provided by an open data platform . By applying this combination of approaches to taxi data in Manhattan , we can discover and characterize different patterns in human mobility that cannot be identified in a collective analysis . As one example , we can find a group of taxi rides that end at locations with a high number of party venues ( according to Foursquare ) on weekend nights . Overall , our work demonstrates that human mobility is not one dimensional but rather contains different facets both in time and space which we explain by utilizing online data . The findings of this paper argue for a more fine grained analysis of human mobility in order to make more informed decisions for eg , enhancing urban structures , tailored traffic control and location based recommender systems . Keywords : Human Mobility ; Tensor Factorization ; HypTrails
1 .
INTRODUCTION
Human mobility can be studied from several perspectives utilizing different kinds of data from the online ( eg , Twitter or Foursquare ) and the offline ( eg , taxi rides or bike trips ) world . A large body of work has focused on identifying general mechanisms that guide and explain human mobility behavior on an individual [ 13 , 34 ] or collective level [ 1 , 25 ] . For example , previous research has shown that human mobility is highly predictable [ 34 ] and shows temporal and spatial regularity [ 13 ] . At the same time , spatiotemporal heterogeneity exists , as , for example , discussed in previous studies [ 3 , 23 ] . For instance , daily routines such as going from home to work ( space ) in the morning ( time ) and from work to home in the evening can be observed . This argues for a more fine grained analysis , that goes beyond the universal ( mobility ) patterns which ∗Please cite the WWW’16 version of this paper . tend to ignore several aspects of human mobility such as time , weather , race of people or means of transportation . Towards that end , we propose to discover and characterize mobility patterns in human behavior in urban space . Material and approach . In this work , we expand existing research [ 3 , 23 ] on studying human mobility with a case study using taxi data of Manhattan . For identifying behavioral differences in terms of time and space , previous research [ 29 , 36 ] has suggested to utilize tensor decomposition [ 5 , 14 ] . However , interpreting results from tensor decomposition can be difficult and has been based on personal intuitions in previous approaches . On the other hand , recent research [ 1 , 33 ] proposed methods that allow to understand human sequences by comparing hypotheses about the production of mobility trails at interest . Yet , this approach is limited in the sense that it can only explain global behavior without being able to provide more detailed insights . To circumvent these limitations , we propose a unique and original combination of tensor decomposition and HypTrails to understand human behavior on a spatio temporal level . In particular , we first utilize non negative tensor factorization ( NTF ) [ 5 , 14 ] for automatically identifying clusters of mobility behavior . Second , for characterizing these clusters , we utilize HypTrails [ 33]—a Bayesian approach for expressing and comparing hypotheses , ie , transitional assumptions , about human trails . Findings and contributions . In summary , our main contributions are three fold : First , we present an innovative combination of two methodologies , ie , non negative tensor factorization and HypTrails , in order to characterize heterogeneous human mobility behavior . Second , we incorporate existing human mobility patterns into a hypothesis based schema built upon human beliefs . Third , we demonstrate the benefits of online data in our attempt to explain human behavior on a spatio temporal level . As one example , we can discover a group of taxi rides that have drop off locations with a high number of party venues ( according to Foursquare ) on weekend nights . Results of this study could improve eg , planning of future events or reconstructions , traffic control , location based recommender systems to enable public transportation companies to adapt their capacities based on the demand at certain hours or areas .
2 . DATASETS
We focus on Manhattan , one of the most densely populated areas in the world , since it has a huge amount of governmental and private data publicly available on the Web . In detail , we study taxi ride data in this work . While this data represents a prominent representative of human mobility , our methodology presented in this paper can be applied to other kinds of mobility data . We represent human mobility as user trails which can be seen as single transitions between pickup and drop off locations of taxi rides . In order to construct a rich set of hypotheses for explaining the movement of users , we additionally retrieved information on local venues ( eg , parks , schools , churches ) from Foursquare and public census data ( ie , demographics , landuse and socio economics ) . Next , we shortly explain the various datasets in greater detail . Taxi rides . We use publicly available data1 of 173,179,759 NYC Taxi rides in 2013 . It consists of anonymized records registering when and where a taxi ride started and ended and various features such as the number of passengers or the total fare of the trip . From all records , we removed taxi rides outside the area ( polygon ) of Manhattan and some inconsistencies such as records with trip_distance ≤ 0 , trip_time_in_secs ≤ 0 and passenger_count ≤ 0 ; our final dataset consists of 143,064,684 rides . A description of all attributes and datatypes can be found in the TLC Taxi Data API Documentation2 . Census data . Instead of working directly with longitude and latitude data , our methodological approach ( see Section 3 ) operates on a discrete tract state space . Tracts are small subdivisions of a county that provide a stable set of geographic units for the presentation of statistical data3 . We extracted the specifications of all 288 tracts in Manhattan from the NYC Planning portal4 as a shape file from the 2010 census . Having this information , we mapped the GPS coordinates of all taxi rides to one of the 288 tracts . Besides the area and location of tracts , we queried the NYC OpenData5 and the American FactFinder6 databases for accessing relevant online data such as census and land use . Moreover , we calculated the overlap between landuse types such as residential and commercial zones and each tract to obtain information on a tract level . Foursquare venues . According to previous works , human mobility can be explained by the transition of visited places [ 29 ] or by intervening opportunities [ 25 , 35 ] . For studying these and similar theories , we gathered information about physical places such as churches , houses and parks situated in Manhattan by querying the Foursquare Search API7 to extract places in each tract for 10 different categories8 ( eg , Residence , Work Place or Nightlife Spot ) . Overall , we collected 153,694 unique places within Manhattan . Since every venue is described ( besides others attributes ) by a GPS location , they all were mapped to their respective tract . Centroids . Typically , popular places are most likely to be visited at any time . For this reason , we considered three candidate places as centroids to study whether people visit them or not . Table 1 , shows the geographical coordinates and respective tracts of the center of Manhattan ( approximated as the geographical center of Manhattan ) , the iconic Flatiron building and well known Times Square .
3 . METHODOLOGY
The goal of this work is to discover and characterize mobility patterns in taxi data , in order to better understand people ’s travel behavior from one place to another within the city . To that end , we propose an innovative combination of two methodologies . First ,
1http://wwwandresmhcom/nyctaxitrips/ 2https://devsocratacom/foundry/datacityofnewyorkus/gkne dk5s 3https://wwwcensusgov/geo/reference/gtc/gtc_cthtml 4http://wwwnycgov/dcp 5https://nycopendatasocratacom/ 6http://factfindercensusgov/faces/nav/jsf/pages/indexxhtml 7https://developerfoursquarecom/docs/venues/search 8https://developerfoursquarecom/categorytree
Table 1 : Centroids of places of interest : This table lists geocoordinates and corresponding tracts of the geographical center of Manhattan , the Flatiron building and Times Square . Tract ID 018100 005600 011900
40.79090 , 73.96640 40.74111 , 73.98972 40.75773 , 73.98570
Manhattan ( geo center )
Flatiron Building
Times Square
Place lat , lon we suggest to use non negative tensor factorization ( NTF ) [ 5 ] for automatically clustering human mobility behavior . Research has shown that NTF can detect latent features of human mobility in different dimensions such as space and time , cf . for example [ 36 ] . Second , for intuitively characterize these clusters , we utilize HypTrails [ 33]—a Bayesian approach for expressing and comparing hypotheses about human trails . We outline in the following both methodological components of this work , but refer to the original publications for details . Clustering mobility patterns . For clustering the data , we utilize NTF which decomposes a given n way tensor X into n components ( matrices ) that approximate the original tensor when multiplied with each other . Each matrix contains information on r factors ( clusters ) . In this paper , we define a three way tensor of taxi rides whose dimensions capture human transitions from one place to another at a certain time : pick up tract , drop off tract and pickup time ( hour of week ) respectively ; thus , clustering in terms of both space and time . Each element of every component determines the scale of mobility flow ( weight ) with respect to the corresponding factor . In other words , the higher the weight , the more dominant that instance is in that cluster . Similar to other clustering methods , defining the number of clusters is arbitrary . However , there exist some guidelines to determine a good value of r , see eg , [ 12 ] . In this work , we are not focused on finding the most appropriate number of behavioral components , but being able to characterize different behaviors , which will be detailed in the following section . Characterizing clustered mobility patterns . For characterizing the clustered human mobility behavior , we utilize HypTrails [ 33 ] , a Bayesian approach for expressing and comparing hypotheses about human trails . Technically , HypTrails models the data with firstorder Markov chain models where the state space contains all 288 tracts of Manhattan . Fundamentally , hypotheses are represented as matrices Q expressing beliefs in Markov transitions ; Section 4 describes the hypotheses about human mobility used in this work . Elements qi , j indicate the belief in the corresponding transition probability between states i and j ; higher values refer to higher belief . The main idea of HypTrails is to incorporate these hypotheses as Dirichlet priors into the Bayesian inference process . HypTrails automatically elicits these priors from expressed hypotheses ; an additional parameter k ( weighting factor ) needs to be provided to steer the overall belief in a hypothesis . For then comparing the relative plausibility of hypotheses , HypTrails utilizes the marginal likelihood ( evidence ) of the Bayesian framework which describes the probability of a hypothesis given the data . We can infer the partial ordering based on the plausibility of a given set of hypotheses by ranking their evidences from the largest to the smallest for a specific value of k .
4 . HYPOTHESES
In this section , we describe our different hypotheses at interest that are used to explain the individual clusters with HypTrails . These are expressed as hypothesis matrices Q where the elements qi , j capture a
Table 2 : Universal Theories : List of 10 universal theories on human mobility . Following the Markov chain assumption , indexes i and j refer to start and end states respectively . Functions dist( . , . ) , venues(. ) , and checkins( . ) denote the geographical distance between two states , all Foursquare venues in a given state , and the number of check ins in Foursquare from a given venue , respectively . Vectors A and B represent categorical information of the start and end state , respectively ( eg , race , poverty , land use ) .
#
Mobility Theory
Formula for qi , j
Description
1
2
3
4
5
6
7
8
9
Uniform
Inverse Geographic Distance
Gaussian Distribution
Density
Popularity
Gravitational Mass
Gravitational Target
Rank Distance
1
1 dist(i , j ) e− dist(i , j)2
2σ2
√ 1 2π
σ
|(venues( j)|
The next location is chosen randomly , independently of the current location .
The closer the target location , the more likely it is to be visited , see [ 15 ] .
The probability of visiting a place j is given by a two dimensional Gaussian distribution with standard deviation σ ; the smaller the σ around the place i , the closer to the location i . i can either be the current location or a fixed landmark in the city , see [ 1 ] .
People get attracted by the amount of venues at destination place .
∑V∈venues( j ) checkins(V ) Venues with more number of check ins attract more people , see [ 26 ] . venues(i).venues( j ) dist(i , j )
People get attracted by the product of forces from the current and close target locations , see [ 42 ] . venues( j ) dist(i , j )
People get attracted only by a force in a target location which is close to the current place . This is a variant of ( 6 )
|{w:dist(i,w)<dist(i , j)}|
1
The probability of moving to a place increases if there are few venues w around the current location , see [ 25 ] .
Intervening Opportunities
|{w1:dist(i,w1)=dist(i , j)}| |{w2:dist(i,w2)<dist(i , j)}|
The number of persons going a given distance is directly proportional to the number of opportunities at that distance and inversely proportional to the number of intervening opportunities , see [ 35 ] .
10 Cosine Similarity
A.B
||A||||B||
Measures how similar the current and next location are , see [ 37 ] . belief in people transitioning to state ( tract ) j when currently located at state ( tract ) i ( see Section 3 ) .
Our hypotheses are mostly based on existing theories . In this regard , the most prevailing human mobility model is the gravitational law [ 42 ] , which explains mobility by an attraction force between two places that is determined by some weight for each place ( eg , density of venues/points of interest ) and the inverted shortest distance between them . However , due to some limitations found in this model [ 32 ] , many other solutions have emerged to circumvent such problems . For example , the rank model [ 25 ] has been proposed as a variation of the radiation model , which indicates that the number of people traveling to a given location is inversely proportional to the number of places surrounding the source location . Similarly , the so called intervening opportunities [ 35 ] , additionally includes the number of opportunities at a given distance . Cosine similarity can also be used under the assumption that people prefer to visit places which are similar ( according to some metric ) to the departure place . Table 2 summarizes 10 universal theories considered in this work . For practical applications these theories require additional data , eg , to determine the weight of places for the gravitational law . In our attempt to explain mobility we also utilize online data from Foursquare venues and census data . We categorize our hypotheses into three types : Distance based , Foursquare and Census hypotheses , see Table 3 . Additionally , we use the uniform hypothesis as a baseline to express the belief that all tracts are equally likely for the next stop of a taxi . For all hypotheses , we set the diagonal of Q to 0 to avoid self loop transitions—accounting for only 1.5 % of all taxi rides—which ( in this work ) do not contribute on mobility ( ie , taxi rides that start and end in the same tract ) . Distance based hypotheses . Based on the geographic distance [ 15 ] , we can construct very simple and intuitive hypotheses : the proximity hypothesis and the centroid hypothesis . The proximity hypothesis assumes that places nearby the current location are more likely to be visited next , the centroid hypothesis suggests that locations near to the city center ( specified by fixed geographic coordinates , see Section 2 ) are more likely for the next stop . According to these hypotheses , the location of the next visited place follows a twodimensional Gaussian distribution that is centered at the current location or the city center respectively , see [ 1 ] for a more detailed description . For the parametrization of the distribution , we included several variations of the hypotheses with different values for the standard deviation σ , ie , σ ∈ {001,05,10,20,30,40,50}km Foursquare hypotheses . To build more informed hypotheses , we leverage Foursquare venues by measuring the density of a place , which consists of counting the number of all venues ( regardless of their categories ) in a given location . Similarly , the number of check ins can be used to measure the popularity of a given place . These can be combined with the geographical distance in various ways according to mobility theories , see theories No . 6,7,8 and 9 in Table 2 . Additionally , we group places according to their category ( eg , residence , shop or church ) based on venues of a single type . In other words , we use categories as filters of the available venues . Thus , every Foursquare category induces a subset of all venues per state ( ie , tract ) . Table 3 shows all 10 categories included in this
Table 3 : Tract properties . These three categories contain all tract indicators , ie , statistics about tracts , used in combination with universal theories to construct hypotheses . For instance , the hypothesis church expresses that the probability of visiting a certain location is proportional to its number of churches ( using for example the density theory ) .
Properties per tract Fixed points of interest : Geographical Center , Flatiron Building , Times Square .
Category
Distance based
Foursquare
Number of venues : Arts & Entertainment , Education ( ie , colleges , universities , elementary schools and high schools ) , Food , Nightlife Spot , Outdoors & Recreation , Work ( ie , auditoriums , buildings , convention centers , event space , factories , government buildings , libraries , medical centers , military base , non profit , office , post office , prison , radio station , recruiting agency , TV station , and ware house ) , Residence , Shop & Service , Travel & Transport , and Church .
Census
Population size , and Tract area . Percentage of : White people , Black people , People in labor force , Unemployed people , People below poverty level , People above poverty level . Number of places : Libraries , Art Galleries , Theaters , Museums , WiFi Hotspots , and Places of Interest . Moreover , the occupied area of : Residential Zoning , Commercial Zoning , Manufacturing Zoning , Park properties , Historic Districts and Empower zones . study . To avoid an abundant amount of hypotheses , we only use the gravitational target theory in combination with the categorybased hypotheses . Furthermore , we construct a similarity based hypothesis that suggests that transitions are more likely between two states that have a similar category distribution of venues based on Cosine similarity , see Table 2 . Census hypotheses . Similar to the Foursquare hypotheses , the Census hypotheses add relevant information to every state ( ie , tract ) . This information on demographics ( eg , % of white people ) , land use ( eg , residential zoning ) or socio economics ( eg , # of people above poverty level ) can be used instead of the number of venues ( ie , density ) of a given state . Table 3 shows all 20 indicators used to formulate this kind of hypotheses . Similarity measures ( ie , cosine similarity ) were obtained under three different categories : Race Group ( ie , white , black , american indian , asian , hawaiian and other pacific islander , other race , two races ) , Poverty Level ( ie , below , above ) and Employment status ( ie , employed , unemployed , in labor force ) .
Overall we defined 70 hypotheses : ( a ) 1 uniform , ( b ) 29 distancebased ( ie , geographical distance , proximity and 3 centroids times 7 ; for each value of σ ) , ( c ) 17 from Foursquare ( ie , all venues integrated in formulas 4 to 9 from Table 2 , gravitational target for each Foursquare category and 1 similarity ) , and ( d ) 23 from Census data ( ie , 20 from the gravitational target with each census indicator and 3 from similarities )
5 . EXPERIMENTS
This section reports on experimental results obtained by applying the presented methods to the Manhattan taxi rides dataset . 5.1 Configuration
As described in Section 3 , we started by using NTF in order to identify different clusters in the taxi data . We worked with a threeway tensor whose dimensions represent the pickup hour of week , the tract of the pickup of the taxi ride and the tract of the drop off of the taxi ride . For the hour of week , the first state corresponds to the time from 12:00 am to 12:59 am on Monday , the last of the 168 states to the time from 11:00 pm to 11:59 pm on Sunday . We did not include time of the drop off as an extra dimension because most of the rides last less than an hour . Since there are 288 different tracts , the tensor for the decomposition has size 168× 288× 288 . After experimenting with different parameters , we set the number of clusters to r = 7 to cluster the data into seven different groups , as this number subjectively best captured all behavioral components .
5.2 NTF : Mobility patterns
Since our data tensor has three dimensions , the decomposition returned three different components which determine the scale of mobility flow in each dimension for every cluster : time ( hour of week ) and space ( departure and arrival tracts ) . Thus , individual clusters represent groups of taxi rides in different places at different periods of time in a weekday hour scale .
The time component is shown in Figure 1a , whereas location components for pickups ( departures ) and drop offs ( arrivals ) are shown on the right hand side of Figure 1 . Due to space limitations we show only the first three clusters . From Figure 1a , it can be observed that all clusters show strong daily regularities , which can be assumed as daily routines in human mobility behavior . Clusters C1 , C2 , C4 , C5 and C7 capture all behaviors on workdays ( almost all peaks are within the first five days of the week ) , whereas cluster C3 is strongly dominated by weekends , specially by Friday and Saturday nights . Cluster C6 on the other hand , shows a more periodical behavior across the entire week , however its peaks are around 6pm from Monday to Saturday and 2pm on Saturdays and Sundays .
The location components shown from Figure 1b to Figure 1g , together with their respective time periods , provide us initial context about when and where people move within the city . For instance , cluster C1 represents morning taxi rides around 9am ( see Fig 1a ) which go to the south east of Manhattan ( see Fig 1e ) . Cluster C2 on the other hand , concentrates its taxis rides in the evening around 6pm near Central Park ( see Fig 1f ) . Finally , cluster C3 includes all taxi rides on Friday and Saturday around 1am in the lower part of Manhattan ( see Fig 1g ) .
The following section presents characterizations for such behav iors by comparing a list of 70 hypotheses using HypTrails .
5.3 HypTrails : Ranking of hypotheses
Since NTF only assigns a weight to every instance of each factor ( ie , does not explicitly partition the transition input ) , we first need to identify all transitions for each cluster in order to run HypTrails . Generally [ 29 , 36 ] , interpreting clusters returned by NTF requires to extract the top N most representative states from each factor to determine the instances that are part of every cluster . In our setting , we extracted the top 10 pickup weekday hours and drop off tracts , and query all taxi rides fulfilling these conditions . Note that we did not include the top pickup tracts , because we are interested on places where people go to , rather than places where they come from . We then applied HypTrails and computed the rankings for the weighting factor k = 10—see Section 6 for a discussion .
( b ) Departures C1
( c ) Departures C2
( d ) Departures C3
( a ) Temporal distribution of clusters
( e ) Arrivals C1
( f ) Arrivals C2
( g ) Arrivals C3
Figure 1 : Spatio Temporal behavior obtained by tensor factorization . This figure illustrates the results obtained when applying NTF on a three way tensor . ( a ) Each row represents a behavioral component respect to pickup time ( hour of week ) . Maps shown at the right of this figure show low and midtown Manhattan , the color of each tract determines how representative that location is in that cluster ; the darker , the more dominant . ( b,e ) cluster C1 stands for taxis rides at 9am around the south east of Manhattan ; ( c,f ) Cluster C2 contains all evening short taxi rides at 6pm around the center of Manhattan ; and ( d,g ) Cluster C3 represents all weekend night taxi rides around the lower and middle part of Manhattan .
Exemplary results of the characterization step for a hand selected subset of hypotheses are displayed in Table 4 . It shows for each hypothesis the respective rank in the cluster ; lower numbers imply a higher rank and therefore a better explanation . We show the results of the Foursquare and Census hypotheses only applied to the gravitational target formula ( see Section 4 ) . Gravitational laws ( ie , gravitational target and gravitational mass ) in all cases perform the same due to the normalizations applied in the HypTrails approach . Thus , from now onwards they will be referred to as gravitational . Thus , for instance , the hypothesis Gravitational ( % White people ) expresses a belief in people going to nearby tracts with a high percentage of white people living there . In the column Overall of Table 4 , we show the ranking of hypotheses evaluated over the whole dataset , to compare with the results obtained for the individual clusters . The uniform hypothesis is a baseline which allows us to verify whether a hypothesis can be a good explanation of human mobility or not . Green cells in the table indicate that a hypothesis performed better than the uniform hypothesis in that cluster .
To characterize the different patterns in human mobility ( ie , the cluster results of the NTF step ) , we inspect the obtained rankings for the different clusters . In particular , we are interested in which hypotheses perform exceptionally well ( ie , have a top rank indicated by a small number ) in the cluster both on an absolute scale and in comparison to the ranking obtained from the overall dataset . For example , consider Cluster C3 that captures time frames at the weekend nights . For this cluster , we can observe very high ranks for the gravitational hypotheses Party , Popularity ( check ins ) , Food and Recreation .
In summary , clusters C1,C2 and C3 ( shown in Figure 1 ) can be characterized as follows . Cluster C1 predominantly represents taxi rides around 9am on workdays . People in this cluster prefer to go to nearby tracts containing popular places such as work places and restaurants near Times Square in a radio of 05km Cluster C2 groups taxi rides going to big tracts containing art galleries , museums and parks . Transitions in this group usually leave tracts with a small number of venues on workdays around 6pm . Finally , cluster C3 identifies all taxi rides on Fridays and Saturdays night around 1am .
People in this cluster usually go to nearby tracts containing very popular places such as nightlife spots and restaurants . Below , we discuss the characteristic properties of all clusters summarized by the types of hypotheses . Distance based . As mentioned in Section 2 , these hypotheses require the standard deviation ( σ ) of a two dimensional Gaussian distribution . In Table 4 , we show the best result for parametrized hypotheses and their respective value of σ in parenthesis . In the overall data as well as clusters C2 and C3 , taxi rides are more likely to visit proximate places in a radio of 3km , 0.5km and 1km respectively . Clusters C1,C4,C6 and C7 show preference on visiting the surroundings of Times Square in a radio of 0.5km , 0.5km , 0.01Km and 0.01km respectively . Finally , taxi rides in cluster C5 tend to visit places near the Flatiron building in a radio of 05km Foursquare . Taxi rides in the overall dataset are more likely to visit very dense areas containing work places , restaurants , discos and bars . Similarly , clusters C1,C4 and C5 which happen to be morning rides around 7− 9am , prefer to go to tracts containing work places such as buildings and offices . Taxi rides in cluster C6 go to tracts dominated by recreation places such as parks and other outdoors in the evenings around 6pm . Cluster C3 can be best characterized by the party hypothesis which means that taxi rides tend to visit tracts containing nightlife spots ( on weekend nights—inferred with NTF ) . Likewise , in cluster C7 people tend to visit tracts containing popular places such as restaurants and nightlife spots . Note that all hypotheses in this group perform better than the uniform hypothesis in all clusters , demonstrating the overall high explanatory power of such data sources with respect to human mobility . Census . From the overall data , we can infer that users tend to visit close by tracts with high percentage of white people living in them . We can also observe that in general taxi rides are not going to residential areas but to commercial zones , which is also the case of clusters C1,C3 and C7 , opposite to clusters C2,C4 and C5 where it is more likely to visit tracts containing art galleries and museums . In cluster C6 we can deduce that people tend to visit tracts containing parks rather than residential zones .
Table 4 : Ranking of Hypotheses . This table shows the ranking of 23 out of 70 hypotheses evaluated with HypTrails over 3 different groups . Overall represents all 143M taxi rides in Manhattan 2013 , clusters Ci are clusters identified by NTF . Numeric cells represent the ranks of the hypotheses in respective clusters . For the distance based hypotheses , we only show results for the best parameter of the standard deviation σ ( parameter in parentheses ) . Green cells highlight all hypotheses that outperform the uniform hypothesis . C7
C1
C2
C3
C4
C5
C6
Workdays
Workdays
Weekends
Workdays
7am
Workdays 9am , 6pm
Mo Sa 6pm Sa Su 2pm
Workdays
6pm
6pm Baseline 56
1am
56
Distance based ( σ )
2 ( 0.5 ) 25 ( 1.0 ) 51 ( 5.0 ) 43 ( 3.0 ) Foursquare
14 ( 1.0 ) 58 ( 5.0 ) 17 ( 1.0 ) 46 ( 3.0 )
56
55
62
59
10 ( 1.0 ) 52 ( 5.0 ) 2 ( 0.01 ) 1 ( 0.5 )
19 ( 1.0 ) 58 ( 5.0 ) 4 ( 0.5 ) 43 ( 2.0 )
10 ( 0.01 ) 51 ( 3.0 ) 44 ( 3.0 ) 2 ( 0.01 )
13 ( 1.0 ) 51 ( 5.0 ) 20 ( 0.5 ) 1 ( 0.01 )
HYPOTHESES
Overall 2013
9am
Uniform
Proximity Centroid ( Geographical Center ) Centroid ( Flatiron Building ) Centroid ( Times Square )
42
56
14 ( 3.0 ) 38 ( 5.0 ) 29 ( 5.0 ) 22 ( 3.0 )
7 ( 1.0 ) 50 ( 5.0 ) 32 ( 2.0 ) 1 ( 0.5 )
Gravitational ( All venues ) Gravitational ( Check ins ) Gravitational ( Work ) Gravitational ( Food ) Gravitational ( Party ) Gravitational ( Recreation ) Venue Similarity
Gravitational ( Population ) Gravitational ( Tract Area ) Gravitational ( %White people ) Gravitational ( Residential zoning ) Gravitational ( Commercial zoning ) Gravitational ( Art Galleries ) Gravitational ( Museums ) Gravitational ( Parks ) Race Similarity Poverty Similarity Employment Similarity
1 9 2 5 7 15 39
21 23 6 50 13 46 54 63 32 37 40
12 3 5 4 17 21 53
61 34 24 65 8 23 13 62 48 55 57
14 30 12 31 37 10 53 Census 28 8 13 19 32 1 3 4 50 52 54
10 2 24 4 1 9 53
20 26 28 35 22 38 40 44 52 54 55
14 11 8 12 19 17 53
59 24 28 65 9 5 6 63 50 55 58
10 5 6 15 9 13 52
46 20 27 61 24 2 7 59 50 53 54
14 4 13 11 20 7 58
42 24 35 67 19 52 26 6 59 61 60
9 3 11 4 5 33 53
25 38 27 49 15 54 58 64 50 56 58
6 . DISCUSSION
In this work , we have shown that spatio temporal dynamics in human behavior can potentially be better explained by considering parts of the data separately . We identified clusters of taxi rides and utilized openly available data from the Web to explain them . However , there are some aspects that need to be taken into account for the current approach .
Concentration parameter k . As discussed in [ 33 ] , the HypTrails approach requires setting a parameter k to elicit Dirichlet priors from hypotheses . Higher values of k express stronger believes in the respective hypotheses . Technically , larger values of k imply higher values of the hyperparameters ( pseudo counts ) of the Dirichlet distributions . In our experiments , we tried several values of k from 0 to 100 ; overall very similar results . The reported results in this paper use an intermediate value of k = 10 .
Correlations in the explanations . Using HypTrails to explain clusters will not be able to identify causes of movement patterns , but only correlations . As an example , for Cluster C2 in our case study the Art Galleries hypothesis performs best . This of course does not mean that taxi trips in that cluster prominently have art galleries as destinations , but that people go to places that also have nearby art galleries . In that direction , we also intend to integrate a correlation analysis between the used hypotheses in future work in order to identify explanations that are similar to each other .
Clustering method . In this paper , we use HypTrails to explain clusters obtained by Non negative tensor factorization . While NTF is a reliable and established method in this line of research , the clustering approach is exchangeable and could be replaced by any other clustering technique . State space . Since our approach requires a discrete state space , it is necessary to aggregate pick up and drop off locations of the taxi rides in an area . The choice of these aggregational units ( ie , the states in our state space ) can potentially influence the results . This is known in literature as the Modifiable areal unit problem [ 28 ] . In this paper , we chose tracts for the level of our analysis as it allowed for the direct integration of information from census data . Experiments with different state spaces are subjects of future work . Multiple dimensions . In this paper , we cluster taxi trips with respect to time , pick up and drop off location . However , our approach allows to extend these by additional information , eg , number of passengers . In this case , a higher dimensional tensor would be used by NTF , but the resulting clusters could also be explained with help of the HypTrails approach . The scale of these dimensions could also suggest more fine grained mobility behaviors . For instance , in this work we defined the time dimension as all 168 hours of a week in order to distinguish patterns on workdays and weekends . Normalization . The external online data we use for constructing mobility hypotheses might not be evenly distributed across all tracts ( eg , # of churches vs . # of restaurants ) . Therefore the HypTrails approach normalizes each belief matrix to be able to compare different hypotheses to each other .
7 . RELATED WORK Human mobility research . Human mobility is a phenomenon that has attracted the attention of governments and researchers from different fields . Studying the movement of people ( eg , migration or commuting ) from a social science perspective has helped us to understand who , where and why people move [ 2 , 24 , 35 , 40 ] as well as what consequences such movement carries , by means of eg , demographic , socio economic and land use factors . In literature , they are also referred to as activity based analysis . Natural sciences , on the other hand , have shown us that universal patterns exist and are modelled by movement based techniques which can predict human dynamics [ 25 , 32 ] . To the best of our knowledge , there exists little research on explaining human mobility by combining both movement based approaches and activity based analyses . Furthermore , they are not able to capture occasional or seasonal behaviors that occur only at certain periods of time . Ubiquitous data . Due to the lack of open and updated information at global scale ( eg , surveys or census data ) , and thanks to the rise of ubiquitous technologies such as mobile phone data and GPS , researchers can get access to human trails which facilitates the study of human movements . There exist several studies that have revealed spatio temporal patterns in different cities based on mobile phone call detail records ( CDR ) [ 17 , 38 ] , taxi trips [ 3 , 6 , 23 ] and bike rides [ 19 , 31 ] . The rapid emerge of social networks has also benefited the study of human mobility based on geo tagged data . For instance , the work by Jurdak et al . [ 18 ] studies Twitter as a proxy of human movement , by using universal indicators such as displacement distribution and gyration radius distribution that measure how far individuals typically move based on geo located tweets . Similarly , the authors in [ 27 ] proposed a network of places built upon Foursquare ’s venues and model human mobility by considering temporal and network dynamics inferred from user ’s check ins . Gabrielli et al . [ 10 ] proposed a technique to analyze human trajectories of residents and tourists by semantically labeling source and destination spots . Based on time evolving networks , the work in [ 11 ] identifies and ranks collective features for epidemic spread . This is a more intrusive way of tracking human movement , since it requires the use of wearable sensors . Activity based human behavior . Compared to this paper , other works have identified and explained periodical movement based patterns as activity based human behaviors . In [ 41 ] , the authors proposed a model to represent the transition probability of travel demands during a time interval and suggested that travel demands can be associated with fixed locations under some circumstances . Jiang et al . [ 16 ] explained when , where and how individuals interact with places in metropolitan areas based on activity survey data in Chicago . The work shows daily patterns as eigenvectors and employs K means clustering to identify groups of individuals based on their daily activities on weekdays and weekends . From taxi trips in Shanghai , the work in [ 29 ] shows how to detect basis patterns for collective traffic flow and correlates them with trip categories and temporal activities such as commuting to/from work in the mornings and evenings or going out at night . Linear combinations are used to describe macro patterns and non negative matrix factorization ( NMF ) for detecting how many different patterns exist in a day . Applied urban computing . Mobility has also been studied in many other different urban contexts : Salnikov et al . [ 30 ] studied taxi ride dynamics in order to recommend people the cheapest way of commuting based on two different taxi companies . In [ 8 , 39 ] , the authors proposed two different techniques to infer land use or taxonomy of places based on geo tagged posts from Twitter and Foursquare respectively . Taxi drivers can also benefit from studying their driving behavior while passive ( no passengers ) [ 6 ] and by predicting the number of passengers they could potentially get in a certain hotspot in the next time interval [ 22 ] . Cities can benefit as well by correlating mobility patterns and energy consumption to provide better sustainable urban forms [ 20 ] , and by measuring their influence in the world on attracting visitors [ 21 ] , and by quantifying their resilience to extreme events [ 7 ] . In [ 4 , 9 ] , the authors implemented visualization tools to understand urban flows across time and space from taxi rides and social media .
The novelty of our approach relies on three factors : ( 1 ) a multidimensional pattern recognition process using NTF [ 5 ] to identify different mobility behaviors in taxi data , ( 2 ) the expansion of the activity based human mobility behavior into a hypothesis based schema built upon human beliefs and ( 3 ) quantifying the plausibility of beliefs for every mobility behavior using HypTrails [ 33]—a Bayesian approach for expressing and comparing hypotheses about human trails .
8 . CONCLUSIONS
In this paper , we have presented an innovative approach for discovering and characterizing patterns in human mobility behavior . It combines ( i ) the clustering of transition data utilizing non negative tensor factorization ( NTF ) with both time and space dimensions and ( ii ) characterizing these clusters using the Bayesian HypTrails method . In our experiments on taxi data from Manhattan , we were able to identify several interesting facets of human mobility and characterize them using census data and additional information collected from Foursquare . As one example , we discovered a group of taxi rides that end at locations with a high density of party venues on weekend nights . The strength of this approach relies on the fact that the interpretation of the clustering results can be easily characterized with high level hypotheses using HypTrails .
Our work extends recent research concerned with a better understanding of human mobility . We have demonstrated that human mobility is not one dimensional but rather contains different facets including ( but not limited to ) time and space . Future research can benefit from our methodological and experimental concepts presented in this work . A more fine grained view on human mobility can also facilitate eg , city planners , traffic control , location based recommender systems or event planning .
In the future , we aim to generalize our findings by studying similar data ( eg , bike trips or geo tagged tweets ) available for New York and other cities . In doing so , we could not only unveil novel general patterns of mobility , but also discover similarities and differences between cities . Acknowledgments . This work was partially funded by DFG German Science Fund research projects “ KonSKOE ” and “ PoSTs II ” .
References [ 1 ] M . Becker , P . Singer , F . Lemmerich , A . Hotho , D . Helic , and M . Strohmaier .
Photowalking the city : Comparing hypotheses about urban photo trails on Flickr . In Int . Conference on Social Informatics , 2015 .
[ 2 ] C . Brettell and J . Hollifield . Migration Theory : Talking Across Disciplines .
Taylor & Francis , 2014 .
[ 3 ] G . Chen , X . Jin , and J . Yang . Study on spatial and temporal mobility pattern of urban taxi services . In Int . Conference On Intelligent Systems and Knowledge Engineering , 2010 .
[ 4 ] A . Chua , E . Marcheggiani , L . Servillo , and A . V . Moere . FlowSampler : Visual Analysis of Urban Flows in Geolocated Social Media Data . In Int . Conference on Social Informatics . Springer , 2014 .
[ 5 ] A . Cichocki , R . Zdunek , A . H . Phan , and S i Amari . Nonnegative matrix and tensor factorizations : applications to exploratory multi way data analysis and blind source separation . John Wiley & Sons , 2009 .
[ 6 ] L . Ding , H . Fan , and L . Meng . Understanding Taxi Driving Behaviors from
Movement Data . In AGILE 2015 , pages 219–234 . Springer , 2015 .
[ 7 ] B . Donovan and D . B . Work . Using coarse gps data to quantify city scale transportation system resilience to extreme events . arXiv:1507.06011 , 2015 . [ 8 ] D . Falcone , C . Mascolo , C . Comito , D . Talia , and J . Crowcroft . What is this place ? Inferring place categories through user patterns identification in geo tagged tweets . In Int . Conference on Mobile Computing , Applications and Services , 2014 .
[ 9 ] N . Ferreira , J . Poco , H . T . Vo , J . Freire , and C . T . Silva . Visual exploration of big spatio temporal urban data : A study of new york city taxi trips . Transactions On Visualization and Computer Graphics , 19(12):2149–2158 , 2013 .
[ 10 ] L . Gabrielli , S . Rinzivillo , F . Ronzano , and D . Villatoro . From tweets to semantic trajectories : mining anomalous urban mobility patterns . In Citizen in Sensor Networks , pages 26–35 . Springer , 2014 .
[ 11 ] L . Gauvin , A . Panisson , A . Barrat , and C . Cattuto . Revealing latent factors of temporal networks for mesoscale intervention in epidemic spread . arXiv:1501.02758 , 2015 .
[ 12 ] L . Gauvin , A . Panisson , and C . Cattuto . Detecting the community structure and activity patterns of temporal networks : a non negative tensor factorization approach . PloS One , 9(1 ) , 2014 .
[ 13 ] M . C . Gonzalez , C . A . Hidalgo , and A L Barabasi . Understanding individual human mobility patterns . Nature , 453(7196):779–782 , 2008 .
[ 14 ] N . Hao , L . Horesh , and M . Kilmer . Nonnegative Tensor Decomposition . In
Compressed Sensing & Sparse Filtering , pages 123–148 . Springer , 2014 .
[ 15 ] F . Ivis . Calculating geographic distance : concepts and methods . In Proceedings of the 19th Conference of Northeast SAS User Group , 2006 .
[ 16 ] S . Jiang , J . Ferreira , and M . C . González . Clustering daily patterns of human activities in the city . Data Mining and Knowledge Discovery , 25(3):478–510 , 2012 .
[ 17 ] S . Jiang , J . Ferreira Jr , and M . C . González . Activity Based Human Mobility
Patterns Inferred from Mobile Phone Data : A Case Study of Singapore . In Int . Workshop on Urban Computing .
[ 18 ] R . Jurdak , K . Zhao , J . Liu , M . AbouJaoude , M . Cameron , and D . Newth .
Understanding Human Mobility from Twitter . arXiv:1412.2154 , 2014 .
[ 19 ] A . Kaltenbrunner , R . Meza , J . Grivolla , J . Codina , and R . Banchs . Bicycle cycles and mobility patterns Exploring and characterizing data from a community bicycle program . arXiv:0810.4187 , 2008 .
[ 20 ] F . Le Néchet . Urban spatial structure , daily mobility and energy consumption : a study of 34 european cities . Cybergeo : European Journal of Geography , 2012 .
[ 21 ] Lenormand , Maxime and Gonçalves , Bruno and Tugores , Antònia and
Ramasco , José J . Human diffusion and city influence . arXiv:1501.07788 , 2015 .
[ 22 ] X . Li , G . Pan , Z . Wu , G . Qi , S . Li , D . Zhang , W . Zhang , and Z . Wang . Prediction of urban human mobility using large scale taxi traces and its applications . Frontiers of Computer Science , 6(1):111–121 , 2012 .
[ 23 ] X . Liu , L . Gong , Y . Gong , and Y . Liu . Revealing daily travel patterns and city structure with taxi trip data . arXiv:1310.6592 , 2013 .
[ 24 ] P . Merriman . Mobility , Space , and Culture . Routledge , 2012 .
[ 25 ] A . Noulas , S . Scellato , R . Lambiotte , M . Pontil , and C . Mascolo . A tale of many cities : universal patterns in human urban mobility . PloS One , 7(5):e37027 , 2012 .
[ 26 ] A . Noulas , S . Scellato , C . Mascolo , and M . Pontil . An Empirical Study of
Geographic User Activity Patterns in Foursquare . 2011 .
[ 27 ] A . Noulas , B . Shaw , R . Lambiotte , and C . Mascolo . Topological Properties and
Temporal Dynamics of Place Networks in Urban Environments . In Int . Conference on World Wide Web Companion , 2015 .
[ 28 ] S . Openshaw . The modifiable areal unit problem . Geo Books Norwich , UK ,
1983 .
[ 29 ] C . Peng , X . Jin , K C Wong , M . Shi , and P . Liò . Collective human mobility pattern from taxi trips in urban area . PloS One , 7(4):e34487 , 2012 .
[ 30 ] V . Salnikov , R . Lambiotte , A . Noulas , and C . Mascolo . OpenStreetCab :
Exploiting Taxi Mobility Patterns in New York City to Reduce Commuter Costs . arXiv:1503.03021 , 2015 .
[ 31 ] A . Sarkar , N . Lathia , and C . Mascolo . Comparing citiesâ ˘A ´Z cycling patterns using online shared bicycle maps . Transportation , 42(4):1–19 , 2015 .
[ 32 ] F . Simini , M . C . González , A . Maritan , and A L Barabási . A universal model for mobility and migration patterns . Nature , 484(7392):96–100 , 2012 .
[ 33 ] P . Singer , D . Helic , A . Hotho , and M . Strohmaier . HypTrails : A Bayesian
Approach for Comparing Hypotheses About Human Trails on the Web . In Int . Conference on World Wide Web , 2015 .
[ 34 ] C . Song , Z . Qu , N . Blumm , and A L Barabási . Limits of predictability in human mobility . Science , 327(5968):1018–1021 , 2010 .
[ 35 ] S . A . Stouffer . Intervening opportunities : a theory relating mobility and distance . American Sociological Review , 5(6):845–867 , 1940 .
[ 36 ] K . Takeuchi , R . Tomioka , K . Ishiguro , A . Kimura , and H . Sawada .
Non negative multiple tensor factorization . In Int . Conference on Data Mining , 2013 .
[ 37 ] P N Tan , M . Steinbach , V . Kumar , et al . Introduction to data mining , volume 1 .
Pearson Addison Wesley Boston , 2006 .
[ 38 ] J . L . Toole , M . Ulm , M . C . González , and D . Bauer . Inferring land use from mobile phone activity . In Int . Workshop on Urban Computing , 2012 .
[ 39 ] C . K . Vaca , D . Quercia , F . Bonchi , and P . Fraternali . Taxonomy Based
Discovery and Annotation of Functional Areas in the City . In Int . Conference on Web and Social Media , 2015 .
[ 40 ] K . Willis . Introduction : mobility , migration and development . Int . Development
Planning Review , 32(3 4):i–xiv , 2010 .
[ 41 ] L . Wu , Y . Zhi , Z . Sui , and Y . Liu . Intra urban human mobility and activity transition : evidence from social media check in data . PloS One , 9(5 ) , 2014 . [ 42 ] G . K . Zipf . The P1 P2/D hypothesis : On the intercity movement of persons .
American Sociological Review , 11(6):677–686 , 1946 .

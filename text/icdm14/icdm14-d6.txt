Exploiting Heterogeneous Human Mobility Patterns for Intelligent Bus Routing
Yanchi Liu
∗
Yanjie Fu
†
† , Chuanren Liu † , Hui Xiong ∗{yl473 , lian.duan , songhuaxu}@njitedu
, Nicholas Jing Yuan , Songhua Xu and Junjie Wu Microsoft Research
Rutgers University
∗
‡
†
‡
, Lian Duan
∗
,
§ §
∗
New Jersey Institute of Technology †{chuanren.liu , yanjie.fu , hxiong}@rutgers.edu
Email :
‡ nicholasyuan@microsoftcom
Beihang University § wujj@buaaeducn
Abstract—Optimal planning for public transportation is one of the keys to sustainable development and better quality of life in urban areas . Compared to private transportation , public transportation uses road space more efficiently and produces fewer accidents and emissions . In this paper , we focus on the identification and optimization of flawed bus routes to improve utilization efficiency of public transportation services , according to people ’s real demand for public transportation . To this end , we first provide an integrated mobility pattern analysis between the location traces of taxicabs and the mobility records in bus transactions . Based on mobility patterns , we propose a localized transportation mode choice model , with which we can dynamically predict the bus travel demand for different bus routing . This model is then used for bus routing optimization which aims to convert as many people from private transportation to public transportation as possible given budget constraints on the bus route modification . We also leverage the model to identify region pairs with flawed bus routes , which are effectively optimized using our approach . To validate the effectiveness of the proposed methods , extensive studies are performed on real world data collected in Beijing which contains 19 million taxi trips and 10 million bus trips .
I .
INTRODUCTION
More and more people live in metropolitan areas or big cities due in large part to rapid development of urbanization . One major side effect is increasing traffic congestion due to limited space , and consequently unnecessary energy consumption during traffic congestion . Public transportation ( eg , bus , subway ) not only saves fuel and reduces congestion , but also offers a safe , affordable , and convenient way to travel [ 1 ] . According to American Public Transportation Association1 , Americans living in areas served by public transportation save 865 million hours of travel time and 450 million gallons of fuel annually in congestion reduction alone . Households that are likely to use public transportation on a given day save more than $9,700 every year . Better public transportation planning can significantly help to foster a more sustainable development and improve quality of life .
Traditional public transportation planning methods have relied on human surveys to understand people ’s mobility patterns and their choice among different transportation modes [ 2 ] [ 3 ] . Despite the substantial time and cost spent on the survey process , these methods do not provide timely and detailed analysis on different Origin Destination ( OD ) pairs given the complex and dynamic settings of cities . As a result , such
1http://wwwaptacom
$1 , 1.5 hours , 5 stops
$1 , 1 hour , 3 stops
$20 , 30 minutes , non stop
Fig 1 . Attract more people to public transportation methods cannot accommodate real travel demands which vary over different OD pairs and often make planning inefficient in real life . If transit agencies could have an effective tool to quantify travel demand and a choice model on how people choose public transportation and private transportation ( eg , private car , taxi ) , then recommendations on how to better design and optimize a given public transportation network could be proposed to attract more people to public transportation . As a result , cities would be able to better support people ’s travel demand through a regulated , efficient , more sustainable public transportation system .
Meanwhile , with the wide deployment of Automatic Fare Collection ( AFC ) systems on bus networks and Global Positioning System ( GPS ) devices on taxis , large amounts of bus transactions and taxi traces are collected , with which we can provide integrated analysis on the mobility patterns of both public and private transportation . As demonstrated in this paper , this offers the possibility of optimizing public transportation by taking overall city traffic into account . By leveraging mobility patterns of public and private transportation , public transportation services can be designed in a way that accommodates different levels of demands and by doing so , attracts more potential riders and increases utilization efficiency of the public transportation system . As shown intuitively in Figure 1 , people may be more willing to choose bus over taxi when better bus routing is provided .
With integrated analysis on the mobility patterns , Figure 2 shows our workflow to detect and re plan flawed and less effective bus routes for attracting most number of potential bus riders . There are two main challenges to achieve this goal : 1 ) modeling people ’s transportation mode choices for different OD pairs ; 2 ) optimizing bus routes with budget constraints to maximize bus ridership . In order to solve these two challenges , we first partition a city into disjoint regions using bus stops . We then project taxi traces and bus transactions into these regions and formulate transitions between each pair of regions . With these bus and taxi mobility patterns , we model the transportation mode choice for each OD pair . After that , we detect and optimize the flawed bus routes with budget constraints to increase bus ridership . The three main contributions of this paper are as follows :
Transportation mode choice modeling : We model transportation mode decisions of OD pairs using a spatio functionally weighted method , providing the probabilities of taking bus and taxi for each OD pair . Note that we investigate mode choice as an aggregate problem [ 1 ] , which means we focus on people ’s group behavior of OD pairs other than individual behavior . Bus routing optimization : Given limited budgets for bus network restructuring , we propose a method to attract the maximum number of potential bus riders from private transportation . Real evaluation : We evaluate our method using a series of large scale real GPS traces generated by 30,000 taxis and over 10 million bus transactions in Beijing from August to October in 2012 . We obtain strong data from the Beijing Bus Company , justifying the effectiveness of our method .
•
•
•
We begin by introducing the preliminaries of this study in Section II . Then the transportation mode choice model is proposed in Section III , followed by the flawed OD pairs detection and bus routing optimization in Section IV . Experimental results and related work are presented in Section V and Section VI respectively , and we discuss the results and give concluding remarks in Section VII .
Extracting mobility patterns
Intelligent bus routing
Map Database
Taxi
Trajectories
Bus transactions
Map partition
Regions
Extract mobility patterns
Taxi and bus mobility
Transportation mode choice
Decision model
Flawed bus routing detection
Flawed OD pairs
Bus routing optimization
Improved bus routing
Fig 2 . Framework of our method
II . PRELIMINARIES
We begin by introducing the routing network which provides the platform for bus routing optimization . The routing network is generated from bus stops on the road map of the city . We then generate the human mobility patterns between regions ( nodes of the routing network ) using taxi traces and bus transactions . These mobility patterns will be modeled in Section III to identify the factors affecting people ’s transportation choices .
Unless otherwise stated , we use bold characters to represent non scalar variables , eg , vectors , sequences , sets , and graphs . We use a comma in brackets to concatenate row vectors or stack column vectors horizontally , and a semicolon in brackets to concatenate column vectors or stack row vectors vertically . We use .·,·fi to represent the inner product of two vectors .
A . Routing network
As buses can only stop at bus stops and taxis can stop anywhere , we construct a common routing network for both buses and taxis . This network naturally partitions the urban area into disjoint regions served by buses and taxis . Through disjoint regions , we can modify bus routes to attract the corresponding taxi passengers . To this end , we partition the urban area using bus stops S = {si|i = 1,··· , N} . Considering redundancy removing , we have merged stops with same names , or stops with different names but actually share the same place . For instance , for each of the bridges ( also called overpasses ) there are usually two or four stops around it , eg , Mingguang Bridge North and Mingguang Bridge South at Xueyuan Road . Buses traveling north through Mingguang Bridge will stop at Mingguang Bridge North , but not Mingguang Bridge South . So we can merge these two stops into one , which represents Mingguang Bridge . In the rest of this paper , we assume the stops in set S have already been merged .
We then partition the map using a Voronoi based partitioning method [ 4 ] , in which the city is partitioned into regions based on proximity to bus stops . As a result , there is one region formed for each bus stop , and pick up/drop off points for taxi trips are mapped to the nearest bus stop . This partition method effectively describes the travel demand around bus stops [ 5 ] . In the following sections , we use S to represent both stops and their respectively associated regions .
Now we define the routing network G = ( S , E ) with the merged bus stops S as nodes . The edges in E are direct connections of bus stops ( ie , without transiting stops in between ) , which are generated from existing road segments . Specifically , we have edge e = ( si , sj ) ∈ E , if there is a direct road connection between the head stop si and tail stop sj , where si , sj ∈ S . Please refer to Figure 3 ( a ) for an example of region nodes in Beijing , with all the existing bus routes plotted in Figure 3 ( b ) .
( a ) Map segmentation of Beijing
( b ) Bus routes of Beijing
Fig 3 . Map of Beijing .
B . Human mobility pattern
The human mobility patterns contain travel information for both bus and taxi riders , representing public and private transportation respectively . As shown in Figure 4 , there is a clear difference between the mobility patterns of these two transportation modes . We retrieve these information by constructing transition records from the taxi traces and bus transactions , and then we summarize these information with a comprehensive set of statistics . Also , we have observed that , people ’s behaviors and thus their mobility patterns vary significantly over different days and different time periods of a day . Therefore , we apply temporal partition on the transition records before summarizing the statistics . We give details of these three steps as follows . temporal slot c , and transportation mode bus/taxi , respectively . The definition of an OD pair is given as follows . Definition 2 . An OD ( Origin Destination ) pair ( o , d ) is a pair of regions with origin o = si , destination d = sj , where si , sj ∈ S . We also write it as ( i , j ) for short .
TABLE II .
STATISTICS OF TRANSITION RECORDS .
( a ) Bus trip origins
( b ) Taxi trip origins
Travel Distance
BDist c ij =
Fig 4 . Trip origin distribution of Beijing . The size of dot is proportional to the related number of trips
1 ) Transition construction : We construct the transition records with the following definition : Definition 1 . A transition tr contains the following attributes : origin o , destination d , transportation mode m ( 0 and 1 stand for taxi and bus respectively ) , leaving time lt , arriving time at , travel distance td , travel fare tf and number of stops sn . The set of all the transitions is notated as TR .
Statistic Volume
Travel Time
Definition BVol c TVol c Vol c ij = |{tr ∈ TRc ij = |{tr ∈ TRc ij + TVol c ij = BVol c ij . tr:tr∈TRc ij
BTime c ij = ij : tr.m = 1}| ij : tr.m = 0}|
TTime c ij =
TDist c ij =
.
,trm=1(trat−trlt )
|{tr∈TRc ij
:tr.m=1}|
,trm=0(trat−trlt )
. tr:tr∈TRc ij
|{tr∈TRc ij
:tr.m=0}|
.
. tr:tr∈TRc ij |{tr∈TRc ij tr:tr∈TRc ij |{tr∈TRc ij
,tr.m=1 tr.td :tr.m=1}| ,tr.m=0 tr.td :tr.m=0}| tr:tr∈TRc ij
. tr:tr∈TRc ij
,tr.m=1 trtd/(trat−trlt )
|{tr∈TRc ij
:tr.m=1}|
,tr.m=0 trtd/(trat−trlt )
|{tr∈TRc ij
:tr.m=0}|
Velocity
BVel c ij =
TVel c ij =
Fare
BFare c ij =
TFare c ij =
.
.
. tr:tr∈TRc ij |{tr∈TRc ij tr:tr∈TRc ij |{tr∈TRc ij tr:tr∈TRc ij |{tr∈TRc ij
,tr.m=1 tr.tf :tr.m=1}| ,tr.m=0 tr.tf :tr.m=0}| ,tr.m=1 tr.sn :tr.m=1}|
Stop Number
BStopc TStopc ij = ij = 0 ( No stops for taxi )
Specifically , we project each bus and taxi trip to the nodes of the routing network G , turning a trip into a transition . The travel distance of a taxi trip is calculated using the sum of the road distance of all consecutive GPS points in the trace , and the travel distance of a bus trip is calculated using the sum of the road distance of all consecutive bus stops traveled through .
2 ) Temporal partition : People go to different places on weekends ( including public holidays in China ) in comparison with weekdays . Also , people ’s preferences among different transportation modes vary over different time periods of the day . For example , people prefer public transportation to commute , which usually happens during the morning and evening rush hours . In contrast , people often prefer private transportation for business transit during the day .
To incorporate these facts , we segment the transitions TR based on the leaving time lt to the temporal slots in Table I , which was proposed by [ 5 ] according to the traffic of Beijing . Since few people take buses between 11pm and 5am regularly , this paper focuses on the day bus lines , running from 5am to 11pm . We use c = 1,··· , 7 to represent the temporal slots , and each is associated with its time proportion in STime c , for example STime 1 = 5 ∗ 5.5 hours ( 5.5 hours every day and 5 days every week ) .
TABLE I .
TEMPORAL SLOTS FOR WEEKDAY AND WEEKEND .
Weekday
5:00am 10:30am 10:30am 4:00pm 4:00pm 7:30pm 7:30pm 11:00pm
Slot 1 Slot 2 Slot 3 Slot 4
Weekend
Slot 5 Slot 6 Slot 7
5:00am 12:30pm 12:30pm 7:30pm 7:30pm 11:00pm
3 ) Statistical summarization : Now we summarize the partiij = {tr : tr.o = i , tr.d = j , tr.lt ∈ c} tioned transitions TRc with statistics defined in Table II for each OD pair ( i , j ) ,
Specifically , for each OD pair ( i , j ) and temporal slot c , we compute BVol , BTime , BDist , BVel , BFare , BStop for bus and TVol , TTime , TDist , TVel , TFare , TStop for taxi . For example , BTime c ij is the bus travel time from origin i to destination j during the temporal slot c . In Section III , we will further leverage these statistics to extract features and build the transportation mode choice models . As we have contended earlier , the mobility patterns are significantly different across different temporal slots , and for that reason , we have partitioned the records into different temporal slots . Thus here , the aforementioned statistics are summarized for each temporal slot respectively . As a result , we will build the transportation mode choice model for each slot respectively .
In addition , using the transition records , we also compute some statistics of the routing network , which will be used later for the bus routing optimization . Specifically , for each direct connection edge e ∈ E , we compute its travel distance d and travel time t for bus along the connection edge e . We obtain d by projecting the head and tail stops of e to the map and calculate the shortest travel distance on the road map . To obtain the bus travel time t , we consider the travel speed v on each edge e obtained by using taxis as flowed sensors . Due to the speed difference between taxi and bus , we estimate the bus speed as follows : vbus = λ ∗ vtaxi , where λ is a constant [ 6 ] . Different cities may have a different λ , here we set λ = 0.7 for λ ∗ d/vtaxi , Beijing . It follows that tbus = t0 + 1 where t0 is a constant indicating the time for a bus stop , and we use t0 = 1.5 minutes in Beijing . We represent all the edge travel distances in a vector EDist c ∈ R , and all the edge travel time in ETime c ∈ R , where c signifies the temporal slot when computing the statistics . As noted , these statistics can be specific for each temporal slot . Indeed , when the routing network is considered fixed , EDist c is invariant with respect
λ ∗ ttaxi = t0 + 1
|E|
|E| to c ; but ETime c varies along with the traffic situations in different temporal slots .
III . TRANSPORTATION MODE CHOICE MODEL
In this section , we learn a transportation mode choice model to estimate the probabilities of people taking bus given origin , destination ( the OD pair ) and departing time ( the temporal slot ) . To achieve this goal , we first extract features that contribute to the decision process of choosing transportation mode . Then a spatio functionally weighted regression model is proposed to estimate the probability of taking bus p given these features .
A . Feature extraction
Understanding travel behavior and the reasons for choosing one transportation mode over another is an essential issue . However , travel behavior is complex . The choice of transportation mode is influenced by various factors , such as travel time , monetary cost , accessibility and reliability [ 7 ] [ 8 ] . Each transportation mode has its advantages and disadvantages . In general , people choose taxis because of their shorter travel distance and time , and choose buses for their lower cost . Here we focus on factors related to bus routing and consider other factors like accessibility and reliability remain unchanged .
Given the statistical summarization of an OD pair ( i , j ) in a temporal slot c , we extract the features Xc ij to better describe the OD pair and compare the difference between the transportation modes :
Xc ij = ( TDist c ij ,
TFare c ij ,
BDist c ij TDist c ij BFare c ij TFare c ij
, TTime c ij ,
BTime c ij TTime c ij
,
,
BStopc ij TDist c ij
) , where details and our motivations are given as follows . Distance related features . Distance influences people ’s choice in an intuitive way . It is usually the first factor that comes to mind when traveling , eg , how far is the destination from the origin . In this paper , distance related features include two parts : shortest road distance and distance ratio of buses and taxis . Here we use TDist to represent the shortest road distance of the OD pair , since it stands for the choice of experienced drivers which is usually the best in real . As shown in Figure 5 ( a ) , with the increasing of distance of OD pairs , the percentage of people taking a bus is also increase . On the other hand , the ratio of the travel distance of buses and taxis BDist /TDist describes the difference between these two . A larger BDist /TDist , which is larger than 1 , indicates a longer travel distance by bus than taxi . As shown in Figure 5 ( b ) , with the increase of BDist /TDist , the percentage of people taking bus is decrease . Time related features . After the distance is determined , people consider time constraints . Usually one travels in a limited time , for which he/she has to choose a proper transportation mode that satisfies their time constraints . For example , if he/she is in a hurry , he/she will probably choose taxi over bus . Similar to distance related features , the time related features include two parts : the travel time of taxi and travel time ratio of buses and taxis . As shown in Figure 6 ( a ) , with the increase e g a t n e c r e P
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0 e g a t n e c r e P
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
1.12
3.11
5.09
7.08
9.06
11.1 Distance ( Km )
13
15
17
19
1.09
1.27
1.45
1.63
1.8 1.98 DisB/DisT
2.16
2.34
2.52
2.7
( a ) Travel distance of taxi
( b ) Difference of travel distance
Fig 5 . Trip distribution wrt . distance of travel time of OD pairs , the percentage of people taking bus also increases . Here we use TTime as a baseline for the travel time of OD pair , and the travel time ratio of bus and taxi BTime/TTime describes the difference of these two . A larger BTime/TTime , which is larger than 1 , indicates a longer travel time by bus than taxi . As shown in Figure 6 ( b ) , with the increase of BTime/TTime of OD pair , the percentage of people taking bus decreases . e g a t n e c r e P
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
1.1
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1 e g a t n e c r e P
0.0779 0.225 0.372 0.519 0.666 0.813 0.96 1.11 1.25 1.4
TimeT
1.3
1.91
2.51
3.11
3.71 4.32 TimeB/TimeT
4.92
5.52
6.13
6.73
( a ) Travel time of taxi
( b ) Difference of travel time
Fig 6 . Trip distribution wrt . time
Fare related features . Monetary cost is another factor people need to consider . As shown in Figure 7 ( a ) , with the increase in fare of OD pairs , the percentage of people taking bus increases . That ’s because for long distances the taxi fare is much higher than bus . When the taxi fare is fixed , with the fare ratio of bus and taxi BFare/TFare increasing , we can see from Figure 7 ( b ) that the number of people taking bus decreases . e g a t n e c r e P
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1
0
15.3
24
32.6
41.2
1.1
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1 e g a t n e c r e P
67.1
75.8
84.4
93.1
0.0144 0.0231 0.0318 0.0405 0.0492 0.0579 0.0666 0.0753 0.084 0.0927
FareB/FareT
49.9
58.5
FareT
( a ) Taxi fare
( b ) Difference of fare
Fig 7 . Trip distribution wrt . fare
Stop number related features . Too many stops will affect the riding experience of a trip , not only is the stop a waste of time , but waiting is also an unpleasant process . One main advantage of a taxi is that it has no stop in the middle of a trip , while a bus has many stops . In this paper , we use the bus stop number per kilometer BStop/TDist to evaluate whether it affects people ’s decisions to choose the bus . As shown in
Figure 8 , with an increase in BStop/TDist T , the percentage of people taking bus drops quickly . e g a t n e c r e P
1
0.8
0.6
0.4
0.2
0 where dcos(si , sj ) is the cosine distance calculated by dcos(si , sj ) = 1 − ni·nj to measure the functional similarity in β , the vector ni contains the POI distribution of the i th region . More details are given in Section V A . finifi·finjfi . Since we want
Note that the observation weight can also be extended by adding other similarities of regions if found to be impacting the choice of transportation mode .
0.351 1.05 1.75 2.45 3.16 3.86 4.56 5.26 5.96 6.66
Stop/Dist
IV . BUS ROUTING OPTIMIZATION
Fig 8 . Trip distribution wrt . stop number
B . Spatio functionally weighted regression
Given the features {Xc ij} , and the historical trip numbers of buses and taxis , we are able to build a regression model to connect the features and people ’s transportation mode choices . Specifically , for a given temporal slot c and an OD pair ( o , d ) , we estimate the probability of taking bus as odfi ) , where Θod is the model coefficients . od = f ( .Xc pc Since we want to estimate a probability distribution , we use the prediction function f ( z ) = 1+exp(−z ) , which leads our model to logistic regression . The regression is fitted with the observations {(Xc ij is the probability of taking bus from origin si to destination sj in temporal slot c , estimated with historical transition records . ij ) : si , sj ∈ S} , where P c od , Θc ij , P c
1
As noted , our model is specific to each temporal slot and also each different OD pair . This is desired because we note that transportation mode preferences vary over different OD pairs , due to differences in trip purposes and lifestyle . Indeed , different regions have different functions [ 9 ] , and the preferences of people from residential areas to commercial areas may differ from that of people from commercial areas to residential areas . On the other hand , travel preferences are more likely to be the same if two region pairs are near each other , sharing similar functions and lifestyles . To take these factors into account , we propose a spatio functionally weighted logistic regression ( SFWLoR ) . Other than that , a spatio functionally weighted linear regression model ( SFWLiR ) which adopts linear regression instead of logistic regression is proposed for more efficient computation .
Specifically , when estimating Θc tion weight for the observation ( Xc od = exp(− α(ij ) ) · exp(− β(ij ) ω(ij ) od od 2hβ 2hα ij ) as od , we define the observaij , P c ) = exp(− α(ij ) od 2hα
− β(ij ) od 2hβ
( 1 ) where hα , hβ are parameters that control the scaling at which the weights are computed , α(ij ) od is the spatial similarity of ( i , j ) and ( o , d ) , and β(ij ) is the functional similarity of ( i , j ) and ( o , d ) . These two are calculated as follows ,
) , od
α(ij ) od = dist(si , so ) + dist(sj , sd )
2
,
( 2 ) where dist(si , sj ) is the Euclidean distance between the bus stops in regions si and sj .
β(ij ) od = dcos(si , so ) + dcos(sj , sd )
2
,
( 3 )
Routing refers to the specifics of bus service alignment based on certain objective functions and a set of constraints , both as individual routes and as a system of routes working together [ 10 ] . In this section we start by formulating a bus routing optimization problem , in light of the transportation mode choice model in Section III . Following is our proposed solution to this problem .
A . Problem formulation A general problem formulation . One main goal of bus routing optimization is to accommodate bus travel demand [ 10 ] . In this paper with the transportation mode choice model , we can estimate bus demand dynamically for different routing results , which further allows us to both accommodate and maximize bus travel demand . Specifically , we denote a bus route by a sequence of bus stops ( ··· , si,··· ) and we search for the optimal bus routes which maximize the total number of bus riders . Given OD pair ( o , d ) and the transportation mode choice model , one optimized routing Rod = ( so,··· , si,··· , sd ) maximizes the bus riders of all stops traveled . In other words , Rod is the solution maximizing the objective function : ij × f c
F ( Rod ) = ij(Rij ) ,
Vol c
.
.
( 4 ) c
( si,sj )∈Rod si≺sj where ( si , sj ) ∈ Rod and si ≺ sj indicate Rod passes si earlier and sj later , Rij = ( si,··· , sj ) is the sub route of Rod ijfi ) as from stop si to sj . We compute f c proposed in Section III . Later we will show how to derive the features Xc ij(Rij ) = f ( .Xc ij with the route Rij . ij , Θc
This problem can be well fitted into new bus route design , where there previously were no bus routes . However , in this paper we aim to rework the existing bus routing , in which case , it is unnecessary to change well designed bus routes but only flawed ones . Hence , the objective function for optimizing a flawed OD pair ( o , d ) is simplified to od × f c
F ( Rod ) = od(Rod ) .
Vol c
.
( 5 ) c
Furthermore , in a real application of bus routing optimization , multiple flawed OD pairs need to be considered simultaneously due to various constraints . For instance , the bus company ( or government ) is constrained by a limited budget which does not always allow for implementation of the identified optimal transit solution and service design . As an example , we have two flawed OD pairs as shown in Figure 9 : ( a ) shows the routing result when optimize the two OD pairs independently , leading to two routes which exceed the budget constraints ; ( b ) shows the routing results using a multiple optimization method , leading to one route under the budget constraint .
For all OD pairs , we rank them in descending order according to the potentially increased bus rider number , which is calculated as follows : .
Vol c ij × ( f c ij(Rc
T,ij ) − P c ij ) ,
( 8 )
ΔBVol ij =
O2
D2
O2
D2 c and top K OD pairs will be selected as candidates for bus routing optimization .
O1
D1
O1
D1
( a )
( b )
Fig 9 . Routing optimization comparison
Bus routing optimization with constraints . Following this line , the bus routing optimization problem is formulated as follows . Given choice models f c k from Section III ( ie , f c k parameterized by Θc okdk ) , for each flawed OD pair ( ok , dk ) , k = 1,··· , K , we optimize the total bus ridership under budget constraints . Supposing the optimal bus routes are R = {Rk : k = 1,··· , K} , where Rk has an origin ok and a destination dk , our objective function is as follows , k = Θc
F ( R ) =
.
. c k
Vol c k × f c k(Rk ) .
( 6 ) okdk . As stated previously , f c k = Vol c k(Rk ) = kfi ) and we will show later how to derive the features where Vol c f ( .Xc k , Θc Xc k of Rk . We consider multiple budgets ( eg , total route length , total service time ) under the following constraints : cost(R ) ≤ C , where the function cost is calculated with all the bus routes in R , and the budgets allowed to stay within are defined in vector C . Note that when there is no budget constrain or the budgets are large enough , the above problem becomes an independent routing problem for each OD pair .
Next we will show how to detect OD pairs with flawed bus routing , after which , a solution to the problem defined above is proposed .
B . Flawed OD pair identification
To rework the existing bus network , we first detect OD pairs with flawed bus routing as the candidates to be optimized . For instance , people may have to take a long detour traveling on existing bus routes or there may even be no bus routes traveling through two regions with high travel demand . People traveling between these OD pairs have a relatively low probability of taking bus since it is so inconvenient .
Routes traveled by taxi usually indicate the practically best driving directions [ 11 ] . It is reasonable for us to use the travel route of taxi for each OD pair ( i , j ) as the upper bound of the bus route . Then , with the travel route of taxi Rc T,ij in temporal slot c , we can derive the features Xc ij . Finally , with the above information and the transportation mode choice model , we are able to calculate the upper bound of probability of taking bus for every OD pair . ij of Rc we have
( 7 )
BDist c
Rk
=
. e
. e
.
Rke × EDist c Rke × ETime c . e = .EDist c , Rkfi e = .ETime c , Rkfi . Rke = .1 , Rkfi
Rke =
BTime c
Rk
BStopc
Rk
=
= s e∈out(s ) where EDist c , ETime c ∈ R |E| on edges ( introduced in Section II ) , and 1 ∈ R of ones . We will also use 0 ∈ R are travel distance and time are vector |E| as vector of zeros .
|E| e
By letting 1
Ac
Bc k = ( 0 ; k = ( TDist c
TDist c k we have Xc k ; 0 ; TTime c kRk + Bc k . k = Ac
EDist c ; 0 ;
1
ETime c ; 0 ; 0 ;
TTime c k k ; 0 ; TFarec k ; BFare c
TDist c k k ; 0 ) , k/TFare c
1
1 ) ,
For the constraints , we limit the service route length and driving time introduced per unit time by the overall routing R on all traveled edges . By letting WTime c k be the service waiting time of route Rk at temporal slot c , if WTime c k = WTime c , ∀k = 1,··· , K , this cost can be written as cost(R ) =
[
Rke > 0]ECost c e ,
C . Problem solution To find the optimal route , we consider the routing network G = ( S , E ) . For each edge e = ( i , j ) ∈ E connecting the bus stops si and sj , we define Rk ∈ R , where Rke = 1 if and only if route Rk passes edge e , and Rke = 0 otherwise . Also , for each bus stop s ∈ S , we define in(s ) = {(sff , s ) ∈ E} and out(s ) = {(s , sff ) ∈ E} as the incoming edges and outgoing edges of s . Then , for k = 1,··· , K , we have Rke = 1 ,
Rke =
.
.
|E| e∈out(ok )
. e∈in(ok )
. e∈out(s )
Rke =
Rke = e∈in(dk ) . e∈out(dk ) . e∈in(s )
Rke = 0 ,
Rke,∀s )= ok , dk . fi Should be noted that , Rk passes bus stop s if and only if fi e∈in(s ) Rke = 1 for s )= ok , dk . e∈out(s ) Rke = To derive the features Xc k for route Rk at temporal slot c ,
.
.
. c
STime c WTime c e k e ; ETime c where ECost c e ) is a two dimensional column vector encoding both the travel distance and time on e = ( EDist c edge e . A relaxed calculation which avoids the boolean test operator ( [· ] ) can be formulated as STime c WTime c .
RkeECost c e cost(R ) =
.
.
.
. k e STime c WTime c k
BCost Rk
, c
= c k
Rk
Rk
; BTime c
= ( BDist c where BCost Rk ) encodes the route travel distance and time of Rk . As noted , this also allows us to calculate different waiting time for different bus routes . Since we do not focus on the scheduling of bus , we use 15 minutes as the waiting time for all bus routes in this paper . In sum , our constraints in Equation 7 can be linear with respect to the decision variables in R . However , the objective in Equation 6 is non linear with the prediction function f ( z ) = 1+exp(−z ) , and the consequent optimization problem is non convex and the gradient directed searching will result only a local optimal . We also exploit the choice model with a linear prediction function ˜f ( z ) = z , which leads to a constrained linear programming problem . In experiments , we will show results of the routing optimization with both non linear and linear prediction functions , and it can be seen that the relaxed linear approach can approximate optimal routing effectively .
1
In general , the resultant integer programming is NPcomplete . However , since we optimize only the most flawed OD pairs instead of the overall bus routing , the problem is of a reasonable scale and it turns out that the branch andbound algorithm [ 12 ] can solve the problem efficiently for flawed bus routing in Beijing . In the more general cases , we can also relax the binary requirements to Rke ∈ [ 0 , 1 ] , which can be interpreted as the probability of route Rk passing edge e . A solution of the relaxed problem signifies how we should route the bus from origin to destination , so that the maximum transportation needs are satisfied by the bus service . To recover the solution for the un relaxed problem , we can iteratively remove the edge with the smallest probability , until there is a unique route for an OD pair .
V . EXPERIMENTAL RESULTS
In this section we first introduce the data and settings of our experiments . Then we evaluate the results of the proposed transportation mode choice model , followed by the evaluation of flawed OD pairs . Finally we show the results of our bus routing optimization model .
A . Data and settings Bus transactions . Bus transactions are generated by BMAC smart card system2 installed on all the buses in Beijing . We select the data from the same time span as the taxi data , from August to November , 2012 . This dataset contains the following information : card id , bus route number , boarding and alighting , time , fare [ 13 ] . Note that a random sampling method is used to recover bus trips to match taxi trips , where the ratio of bus trips to taxi trips is about 35:13 Taxi GPS traces . These taxi GPS traces are generated by about 30,000 taxis in Beijing from August to November , 2012 . Each
2http://wwwbmaccomcn/ 3http://wwwbjjtwgovcn/
GPS point is associated with a label indicating if the taxi is occupied or not . Here we only focus on the occupied points which form taxi trips of riders , from pick up points to drop off points . Table III shows some statistics of the two trip datasets .
Bus routes and road map . 1 ) We have the bus route data , which contains 2,427 stops and 1,058 routes in the urban area of Beijing . After we merge the redundant stops , we obtain 1,250 stops and we partition the urban area into 1,250 regions accordingly . We use the stops/regions as nodes of our routing network . 2 ) We have the road map data containing 196,307 road segments and their locations . We use this data to construct the connection edges of our routing network . For the 1,250 routing nodes , we have 3,855 connection edges .
POI data . A Beijing POI dataset in the year 2012 is employed to compute the functional observation weights . The number of POIs ni = .n1,··· , n10fi in region si is counted following the categories shown in Table IV .
Platform . The algorithms are implemented in Matlab 2013b and C# on Visual Studio 2012 . All the experiments are conducted on a 64 bit machine with 3.40 GHz Intel Core i7 CPU and 16GB memory .
TABLE III .
STATISTICS OF THE DATASETS .
Datasets
Taxi GPS Traces
Bus Transactions
Statistics 29,964 114 ( 77 weekdays , 37 weekends ) Aug . 2012 Nov . 2012
Properties Number of taxis Effective days Time period Number of occupied GPS points 333M Number of occupied trips 19M 156M Total trip distance(km ) 7,810 Number of bus stops Aug . 2012 to Nov . 2012 Time Period 701,250 Number of car holders Number of trips 10M
TABLE IV .
CATEGORY OF POIS .
Category Home Work Education Food Shopping Entertainment Outdoor Transportation Health care Car service
Sub categories Apartment building Government & office building School , training center Restaurant Shop , mall , outlet Museum , theater , club Park , sports field Airport , railway & bus station Hospital , medical center , pharmacy Car sale , repair , gas station
Number 29,246 71,915 15,489 36,723 56,520 7,897 2,211 15,287 9,768 10,781
1 2 3 4 5 6 7 8 9 10
B . Transportation Mode Choice Model
Baselines . We evaluate the effectiveness of our spatiofunctionally weighted regression ( SFWLoR , SFWLiR ) with a set of baselines , including unweighted logistic regression ( LoR ) , temporal logistic regression ( TLoR ) and temporal linear support vector machine ( TLiSVM ) .
•
•
A Logistic Regression model ( LoR ) on the data before segmented to temporal slots . That means we treat the whole day as one temporal slot and it evaluates if the preference changes through the day .
A Temporal Logistic Regression model ( TLoR ) , which estimates people ’s choices in different temporal slots .
• A Temporal Linear Support Vector Machine in
( TLiSVM ) , which estimates people ’s choices different temporal slots .
We use the receiver operating characteristics ( ROC ) curve and the area under ROC ( AUC ) [ 14 ] to evaluate the performance of the transportation mode choice models . The ROC curve is obtained by drawing pairs of sensitivity and false positive rate ( 1 specificity ) at different cutoff points , ie , every 0.01 from 0 to 1 in our experiments . The sensitivity ( sens ) is defined as the proportion of true positives as compared to the total positive class , whereas specificity ( spec ) comprises the proportion of true negatives in relation to the total negative class . sens = tp/(tp + f n ) , spec = tn/(tn + f p ) ,
( 9 ) ( 10 ) where tp , f p , tn and f n are true positives , false positives , true negatives and false negatives , respectively . Results . We evaluate the models with 10 fold cross validation in each temporal slot separately , and then use the average of different temporal slots as the final result . Figure 10 ( a ) shows the overall performance of each method , and SFWLoR on each temporal slot . From the figure we can see SFWLoR outperforms other methods . The models perform better on weekdays ( Slot 1,2,3,4 ) than on weekends ( Slot 5,6,7 ) , because there is a lot of variation occurs on weekend trips as compared to weekday trips and it increases the difficulty of modeling [ 15 ] .
( a ) Bus routes changed
( b ) ROC curve
Fig 11 . Results of OD pairs with route changed .
C . Flawed OD pairs
Experimental results of flawed OD pair identification are shown in Figure 12 : ( a ) shows the changes of probability ( green line ) and volume ( blue line ) of taking bus after using taxi routes as the upper bound of bus routes ; ( b ) shows us top 20 flawed OD pairs .
From Figure 12 ( a ) we can see with the improvement of bus routing , an average of 5 percent increase of probability taking bus is expected for all OD pairs . Moreover , we find that the bus volume increase follows Zipf ’s law [ 16 ] , which means most of the volume increase happens among a few OD pairs . This further validate our method which focuses on these flawed OD pairs instead of all of them .
Figure 12 ( b ) shows us the distribution of the top 20 flawed OD pairs . By comparing the flawed OD pairs to the trip distributions of buses and taxis in Figure 4 , we can see the OD pairs selected well reflect the travel demand of buses in the south western area of Beijing . There are many taxi trips but few bus trips are found , indicating the possibility of attracting riders from taxis by improving bus service .
( a ) Different methods
( b ) SFWLoR on different slots
Fig 10 . Results of all the OD pairs . The number listed is the AUC score of each ROC curve .
Other than the experiments with an overall evaluation on all OD pairs , we notice that routes of 8 bus lines ( shown in Figure 11 ( a ) ) changed in Beijing urban area started from Sep . 21 , 20124 , which is in the middle of our dataset , from August to November 2012 . This gives us a chance to further test the effectiveness of our model by using data before Sep . 21 , 2012 as training data , and the data after as testing data . Specifically , we summarize the statistics of OD pairs for these two periods separately , and train the mode choice model with training data and then test it on the testing data . With an analysis of the changed routes , we select 86 OD pairs which were affected by the route change . The ROC curves on the 86 OD pairs are shown in Figure 11 ( b ) .
As shown in Figure 11 , the ROC curves exhibit a consistent trend with the previous results in Figure 10 . We can see our method demonstrates an advantage compared to other methods .
4http://wwwbjjtwgovcn/
( a ) Change of prob . and vol . of bus
( b ) Top 20 flawed OD pairs
Fig 12 . Results of flawed OD pair identification .
D . Routing Optimization
Given the top K flawed OD pairs with a descending rank of potential increases of bus riders , we evaluate our objective function ( Maximum Rider , MR ) on different K . Two different solutions for MR , MR LiR and MR LoR , are presented , using linear and logistic regression choice models respectively . We use shortest distance ( SD ) and shortest time ( ST ) , which are widely used routing methods in practice , as baselines of our method . Accordingly , the objective functions of these two baselines in our experiment are as follows ,
.
.
FSD(R ) =
FST ( R ) =
BDist Rk
, c
. k
. c k
BTime Rk
.
( 11 )
( 12 )
Qianmen
Shazikou
Results of top 100 , 200 , and 500 flawed OD pairs are shown in Table V , where the columns show average values of statistics of each OD pair . Specifically , we first use these methods to find the best routes ˆR for our identified flawed OD pairs . For every OD pair in different temporal slots , the transportation mode model is used to predict the probability of taking bus ˆp = f ( ˆR ) . Together with the travel demand of each pair , the bus rider number can be obtained . By comparing this to historical bus rider numbers , we then get the change of bus rider number ΔBVol . Please note that here we only use taxis to represent private transportation , and the real effect of buses can be enlarged when other private transportation modes ( eg , private car ) are considered .
As shown in Table V , we can see MR LoR provides routes that lead to highest probabilities of people taking bus , because MR LoR successfully measures the trade off between different factors . While MR LiR obtain second best routing results . On the other hand , we see ST performs better than SD , which indicates people consider time a more important factor than distance . Although some of the routes found by our method are the same as results found by either SD or ST , we can still provide suggestions on the selection of theses two . From this point of view , our transportation mode choice model can serve as a criteria for choosing candidate bus routes .
TABLE V .
RESULTS OF BUS ROUTING ON TOP K FLAWED OD PAIRS .
K
100
200
500
Methods SD ST MR LiR MR LoR SD ST MR LiR MR LoR SD ST MR LiR MR LoR
BDist ( km ) 3.63 3.84 3.65 3.45 4.23 4.30 4.41 4.52 4.31 4.51 4.54 4.58
BTime ( hour ) 0.28 0.27 0.29 0.28 0.33 0.30 0.34 0.35 0.34 0.32 0.33 0.34
BStop ( # ) 3.71 4.02 3.83 3.67 4.56 4.52 4.33 4.40 4.77 4.78 4.64 4.71
BFare ( CNY ) 0.44 0.44 0.44 0.44 0.48 0.49 0.49 0.49 0.48 0.49 0.49 0.49
Prob . ΔBVol 0.83 0.83 0.85 0.86 0.81 0.82 0.84 0.85 0.79 0.81 0.83 0.84
445.6 467.2 669.3 731.2 247.8 301.1 427.3 481.2 184.4 225.8 316.4 342.3
A real example of bus routes found for flawed OD pairs is shown in Figure 13 , where includes two flawed OD pairs ( Xiaohongmen , Qianmen ) and ( Shazikou , Qianmen ) . The routes generated by SD,ST , and MR are shown in green , red , and blue lines respectively . From the figure we can see SD and ST both generate two routes , which are similar to each other , while MR generates a single route traveled through these two OD pairs . Moreover , we found that this route share same subroutes with bus line 93 which is newly added by the Beijing Bus Company from March , 2013 . Efficient Study . Figure 14 presents the efficiency of the four methods for different K . From this figure we can see ST and SD are the fastest among these four , while MR LoR costs the most time for computing results . We note that MR LiR is much faster than MR LoR but the performance is not much worse . In real applications , MR LiR would be recommended
Fig 13 . An example of routes generated .
Xiaohongmen for large scale bus routing . Since this application usually works in an offline manner , MR LoR would also be used for better planning results .
Fig 14 . Running time of bus routing .
VI . RELATED WORK
Our work is related to two research areas , the first one is human mobility pattern mining and the second one is bus routing optimization .
A . Human mobility pattern
Understanding human mobility in urban environments is central to traffic forecasting , location based services , and urban reconstruction . A significant number of papers on human mobility analysis have been published in recent years thanks to widely available mobility data , such as GPS data [ 17 ] [ 18 ] [ 19 ] , cellular network data [ 20 ] , and public transportation transaction data [ 21 ] [ 22 ] [ 23 ] [ 24 ] . [ 25 ] suggest that human mobility patterns follow a high degree of spatial and temporal regularity and are thus predictable . [ 26 ] suggest that human mobility has a predictability of 93 % . [ 27 ] also reports on the consistency of daily travel patterns with public transportation transaction data .
Other than theoretical analysis , mining human mobility data has also enabled a variety of emerging applications , such as urban planning [ 5 ] , region function analysis [ 9 ] , hotspots detection [ 18 ] , driving route recommendation [ 11 ] [ 28 ] , and bus route planning [ 29 ] [ 6 ] . Recently , Chen et al . [ 6 ] investigated night bus route planning using large scale taxi GPS traces , which aims to find a bus route with a fixed frequency , maximizing the number of passengers expected along the route subject to the total travel time constraint . Unlike the above mentioned work focusing on single mode human mobility pattern , we integrate heterogeneous human mobility data together to better represent the mobility of a city . Thus we are able to analyze the difference and relation between different human mobility patterns and make planning in the city level .
B . Bus routing optimization
Bus network design addresses the problem of how to design a new bus network or to redesign an existing network [ 1 ] [ 8 ] . It is an intensive studied area in the urban planning and transportation field , known to be a complex , non linear , nonconvex , multi objective NP hard problem [ 6 ] . Certain objectives are optimized , subject to constraints and travel demands . Some widely used objectives include shortest distance , shortest travel time , maximum passenger flow , and maximum area coverage while constraints include time , capacity and resources [ 3 ] [ 30 ] . However , the selection of objectives should take care of the operator as well as user requirements which are often conflicting , leading to design trade off rather than an optimal solution . Various models have been proposed in this area , including cost oriented models , passenger oriented models , game theoretic models and location based models [ 3 ] . The above work assumes that travel demands are determined by user survey or population estimation , and provide suboptimal solutions based on heuristic procedures . Different from that , we integrate the bus network design problem with real mobility demand , also the prediction of travel demand is based on different routing results .
VII . CONCLUSION
In this paper , we focused on the identification and optimal planning of the flawed bus routes to improve the utilization efficiency of the public transportation service , according to the transportation mode choice model built on real data . First , we partitioned the urban area into disjoint regions on which an integrated analysis of the taxi traces and the bus transactions is conducted . Second , based on the integrated analysis , we proposed a localized transportation mode choice model , with which we can dynamically predict the bus travel demand for different bus routing . Then , we leveraged this model to optimize the bus routes by maximizing the bus ridership with budget constraints . At last , we provided a solution for the identified most flawed region pairs in the urban area . Extensive studies , which validated the effectiveness of our methods , were performed on real world data collected in Beijing which contains 19 million taxi trips and 10 million bus trips .
ACKNOWLEDGMENT
This research was partially supported by the National High Technology Research and Development Program of China ( 863 Program ) via grant number SS2014AA012303 .
REFERENCES
[ 1 ] [ 2 ]
J . de Dios Ortuzar and L . G . Willumsen , Modelling Transport , 2011 . J . Aslam , S . Lim , X . Pan , and D . Rus , “ City scale traffic estimation from a roving sensor network , ” in Proceedings of the 10th ACM Conference on Embedded Network Sensor Systems . ACM , 2012 , pp . 141–154 .
[ 3 ] V . Guihaire and J K Hao , “ Transit network design and scheduling : A global review , ” Transportation Research Part A : Policy and Practice , vol . 42 , no . 10 , pp . 1251–1273 , 2008 .
[ 4 ] F . Aurenhammer , “ Voronoi diagrams a survey of a fundamental geometric data structure , ” ACM Comput . Surv . , vol . 23 , no . 3 , pp . 345– 405 , Sep . 1991 .
[ 5 ] Y . Zheng , Y . Liu , J . Yuan , and X . Xie , “ Urban computing with taxicabs , ” in Proceedings of the 13th international conference on Ubiquitous computing . ACM , 2011 , pp . 89–98 .
[ 6 ] C . Chen , D . Zhang , Z H Zhou , N . Li , T . Atmaca , and S . Li , “ Bplanner : Night bus route planning using large scale taxi gps traces , ” in PerCom .
IEEE , 2013 , pp . 225–233 .
[ 7 ] G . Beir˜ao and J . Sarsfield Cabral , “ Understanding attitudes towards public transport and private car : A qualitative study , ” Transport policy , vol . 14 , no . 6 , pp . 478–489 , 2007 .
[ 8 ] A . Ceder , Public transit planning and operation : theory , modeling and
[ 9 ] practice . Elsevier , Butterworth Heinemann , 2007 . J . Yuan , Y . Zheng , and X . Xie , “ Discovering regions of different functions in a city using human mobility and pois , ” in KDD . ACM , 2012 , pp . 186–194 .
[ 10 ] R . H . Pratt , I . Evans et al . , Traveler response to transportation system
[ 11 ] changes . Chapter 10 bus routing and coverage , 2004 . J . Yuan , Y . Zheng , X . Xie , and G . Sun , “ T drive : Enhancing driving directions with taxi drivers’ intelligence , ” Knowledge and Data Engineering , IEEE Transactions on , vol . 25 , no . 1 , pp . 220–232 , 2013 .
[ 12 ] A . H . Land and A . G . Doig , “ An automatic method of solving discrete programming problems , ” Econometrica , pp . 497–520 , 1960 .
[ 13 ] N . Yuan , Y . Wang , F . Zhang , X . Xie , and G . Sun , “ Reconstructing individual mobility from smart card transactions : A space alignment approach , ” in ICDM , Dec 2013 , pp . 877–886 .
[ 14 ] T . Fawcett , “ An introduction to roc analysis , ” Pattern recognition letters , vol . 27 , no . 8 , pp . 861–874 , 2006 .
[ 15 ] A . Ashish , “ A comparison of weekend and weekday travel behavior characteristics in urban areas , ” PhD dissertation , USF , 2004 .
[ 16 ] C . D . Manning and H . Sch¨utze , Foundations of statistical natural language processing . MIT press , 1999 .
[ 17 ] F . Giannotti , M . Nanni , F . Pinelli , and D . Pedreschi , “ Trajectory pattern mining , ” in KDD . ACM , 2007 , pp . 330–339 .
[ 18 ] Y . Zheng , L . Zhang , X . Xie , and W Y Ma , “ Mining interesting locations and travel sequences from gps trajectories , ” in WWW 2009 . [ 19 ] R . Trasarti , F . Pinelli , M . Nanni , and F . Giannotti , “ Mining mobility user profiles for car pooling , ” in KDD . ACM , 2011 , pp . 1190–1198 . [ 20 ] F . Calabrese , G . Di Lorenzo , L . Liu , and C . Ratti , “ Estimating origindestination flows using mobile phone location data , ” IEEE Pervasive Computing , vol . 10 , no . 4 , pp . 36–44 , 2011 .
[ 21 ] H . Cao , N . Mamoulis , and D . W . Cheung , “ Mining frequent spatio temporal sequential patterns , ” in ICDM .
IEEE , 2005 .
[ 22 ] B . Agard , C . Morency , and M . Tr´epanier , “ Mining public transport user behaviour from smart card data , ” in INCOM , 2006 , pp . 17–19 .
[ 23 ] N . Lathia and L . Capra , “ Mining mobility data to minimise travellers’ spending on public transport , ” in KDD . ACM , 2011 , pp . 1181–1189 . [ 24 ] N . Lathia , J . Froehlich , and L . Capra , “ Mining public transport usage for personalised intelligent transport systems , ” in Data Mining ( ICDM ) , 2010 IEEE 10th International Conference on .
[ 25 ] M . C . Gonzalez , C . A . Hidalgo , and A L Barabasi , “ Understanding individual human mobility patterns , ” Nature , vol . 453 , no . 7196 , pp . 779–782 , 2008 .
[ 26 ] C . Song , Z . Qu , N . Blumm , and A L Barab´asi , “ Limits of predictability in human mobility , ” Science , vol . 327 , no . 5968 , pp . 1018–1021 , 2010 . [ 27 ] M . Utsunomiya , J . Attanucci , and N . Wilson , “ Potential uses of transit smart card registration and transaction data to improve transit planning , ” Trans . Res . Rec . , vol . 1971 , no . 1 , pp . 119–126 , 2006 .
[ 28 ] Y . Ge , H . Xiong , A . Tuzhilin , K . Xiao , M . Gruteser , and M . Pazzani , “ An energy efficient mobile recommender system , ” in KDD , 2010 , pp . 899–908 .
[ 29 ] F . Bastani , Y . Huang , X . Xie , and J . W . Powell , “ A greener transportation mode : flexible routes discovery from gps trajectory data , ” in GIS . ACM , 2011 , pp . 405–408 .
[ 30 ] S . Asadi Bagloee and A . A . Ceder , “ Transit network design methodology for actual size road networks , ” Transportation Research Part B : Methodological , vol . 45 , no . 10 , pp . 1787–1804 , 2011 .

Measuring extremal dependencies in Web graphs
Yana Volkovich University of Twente
PO Box 217 , 7500 AE
Enschede , The Netherlands yvolkovich@ewiutwentenl
Nelly Litvak∗
University of Twente
PO Box 217 , 7500 AE
Enschede , The Netherlands nlitvak@ewiutwentenl
Bert Zwart
Georgia Institute of
Technology
765 Ferst Drive , NW Atlanta ,
Georgia 30332 0205 bertzwart@gatech.edu
ABSTRACT We analyze dependencies in power law graph data ( Web sample , Wikipedia sample and a preferential attachment graph ) using statistical inference for multivariate regular variation . The theory of regular variation is well developed and applied in extreme value theory , telecommunications , and mathematical finance and provides a natural mathematical formalism for analyzing dependencies between variables with power laws . However , most of the proposed methods have never been applied to the Web graph data . This paper fills this gap . The new insights this yields are striking : the three above mentioned data sets are shown to have a totally different dependence structure between different Web graph parameters , such as in degree and PageRank .
Additionally , our results confirm the presence of power laws and yields estimates for the power law exponent . The proposed approach to power laws and dependencies enable us to resolve a number of disagreements in the existing literature .
Categories and Subject Descriptors E.1 [ Data structures ] : Graphs and networks ; G.3 [ Probability and Statistics ] : Multivariate statistics
General Terms Algorithms , Experimentation , Measurement
Keywords Regular variation , PageRank , Web , Wikipedia , Preferential attachment
INTRODUCTION
1 . What do we know about the structure of the Web graph ? There is a vast literature on the subject but we are still far from complete understanding . One point where most researchers agree is the presence of power laws . In simple
∗The work is no . 632002401 supported by NWO Meervoud grant words , a power law with exponent α means that a probability of obtaining a value grater than x is proportional to x−α , where α > 0 is the power law exponent . The standard example of a power law is a Pareto distribution
P(X > x ) = cx−α where x > x0 .
( 1 )
For excellent surveys on history , properties , modeling , and mining of power laws , and their role in complex networks we refer to eg [ 6 , 13 , 15 , 16 , 17 ] .
A natural mathematical formalism for analyzing power laws is provided by the theory of regular variation . This theory has been developed in the context of analysis of extremes [ 7 ] , financial time series [ 14 ] , and traffic in communication networks [ 19 ] . By definition , the distribution F has a regularly varying tail with index α , if
P(X > x ) = x−αL(x ) , x > 0 ,
( 2 ) where L(x ) is a slowly varying function , that is , for x > 0 , L(tx)/L(t ) → 1 as t → ∞ , for instance , L(x ) may be equal to a constant or log(x ) . Clearly , a power law can be modeled as an instance of regular variation .
In the present work , we employ statistical inference designed for regular variation , as described in Resnick [ 20 ] , to analyze the dependence structure in power law graphs . To the best of our knowledge , most of the proposed methods have never been applied to massive graph data . We consider in degrees , out degrees and PageRank scores in three large data sets : an EU 2005 Web sample , a Wikipedia sample and a Growing Network graph based on the preferential attachment model by Albert and Barab´asi [ 2 ] . The data sets are described in detail in Section 2 .
It has become common knowledge that in degree and PageRank in the Web graph obey power laws [ 4 , 8 , 18 , 21 ] . The power law exponents can deviate depending on a data set and an estimator but are believed to satisfy α ≈ 11 Similar behavior of in degree and PageRank has been observed in Wikipedia [ 5 , 21 ] . There is however no common agreement on the distribution of out degrees in the Web . Whereas Broder et al . [ 4 ] observe a power law with exponent about 1.6 , Donato et al . [ 8 ] claim that the out degrees do not follow a power law . Remarkably , the conclusion on whether or not the data follows a power law is often seem to be made purely by determining whether or not the log log plot resembles the signature straight line . This however can be misleading especially when a size frequency plot is used [ 13 ] . Although one may agree with Li et al . [ 13 ] that a cumula tive ( size rank ) plot is enough to reveal a power law to an experienced eye , for more reliable conclusions on realistic noisy data , we need more than just a glance at the log log plots . Chakrabarti and Faloutsos [ 6 ] mention two goodnessof fit methods for Pareto distribution and suggest that such methods should be applied more often .
In Section 3 below we aim at resolving these issues by using several state of the art techniques from the statistical analysis of heavy tails , cf . the recent book of Resnick [ 20 ] . In particular , we use QQ plots , Hill plots and Pickands plots . The latter two plots are based on corresponding estimators for the power law exponent , which is another important problem in mining the power law graphs [ 6 , 17 ] . By combining these techniques , we conclude that the distribution of outdegrees in the Web graph may be modeled as a power law with finite variance .
The analysis of dependence structure in complex graphs is discussed in Section 4 . The question of measuring correlations in the Web data has led to many controversial results . The classical example is the dependence between in degree and PageRank of an arbitrarily chosen page . Pandurangan et al . [ 18 ] and Donato et al . [ 8 ] observe very small correlation coefficients whereas Fortunato et al . [ 10 ] obtained high correlations . In this respect , Chakrabarti and Faloutsos [ 6 ] confirm that measuring correlation in power law data is tricky because the important large values do not appear very often , and thus , the coefficient of correlation might give a wrong impression about the dependencies in the tails .
A main point we want to make with this paper is that it is possible to analyze Web graphs using a range of statistical procedures designed to deal with multivariate data of which the marginal distributions exhibit power laws . In particular , this paper points out that this body of statistical theory contains a well developed notion of dependence that is designed for power tails . This notion , called extremal dependence seems much more suitable than standard correlation measures and , as the estimation results in this paper show , shed new light on dependence properties in Web graphs .
Before we discuss our insights , we first briefly describe the concepts we use . Following [ 20 ] and references therein , we model dependencies between network parameters X and Y by means of an angular ( spectral ) measure . The idea of the method is to transform the vector ( X , Y ) , after proper normalization , into polar coordinates ( R , Θ ) and then plot the empirical distribution of Θ on [ 0 , π/2 ] for k largest values of R . If the tails of X and Y are independent than we will rarely observe extremely large values of X and Y simultaneously . Thus , the largest values of R will correspond to the points where either x or y coordinate dominates the other . In this case , the empirical measure of Θ will be concentrated in points 0 and π/2 . In case of very strong dependencies , the empirical measure will concentrate around π/4 , and all other distributions of Θ will indicate a more subtle dependence of the tails . A more detailed discussion can be found in Section 4 .
Our experimental results reveal a dramatically different correlation structure in the three data sets . For instance , the angular measure for in degree and PageRank in Wikipedia strongly suggests an independence between these two pa rameters . Similar analysis for the Web graph reveals a non trivial dependence structure with angular measure close to uniform on [ 0 , π/2 ] . Finally , a preferential attachment graph shows a very strong dependence between in degree and PageRank .
Analysis of dependencies in real life graph and synthetic data contributes towards a better understanding and modeling of complex graph structures . Clearly , for adequate modeling , it is not sufficient to maintain power laws . For instance , it was already argued in [ 9 ] that robustness of Internet power law router graph is in strong disagreement with a preferential attachment model . Likewise , our analysis clearly reveals a striking disagreement of the preferential attachment graph with dependence structure of the Web and Wikipedia . Better models have to be sought and existing models have to be thoroughly analyzed before we can conclude that they adequately reflect important features of complex networks .
2 . DATA SETS We chose three data sets that represent different network structures : Web sample , Wikipedia sample and a Growing Network graph . For the Web sample , we used the EU2005 data set with 862.664 nodes and 19235140 links . This set was collected by The Laboratory for Web Algorithmics ( LAW ) , Dipartimento di Scienze dell’Informazione ( DSI ) of the Universit`a degli studi di Milano [ 1 ] . We also performed experiments on the Wikipedia ( English ) data , whose structure is known to be different from the Web graph [ 5 ] . This data set contains 4881983 nodes and 42062836 links . Finally , we simulated a Growing Network of 10.000 nodes with constant out degree d = 8 . We start with d initial nodes , and at each step we add a new node that links to already existing nodes . A new link points to a randomly chosen page with probability q = 0.1 , and with probability ( 1 − q ) it follows the preferential attachment selection rule [ 2 ] .
In Figure 1 we show the cumulative log log plots for indegrees , out degrees and PageRank scores in all data sets . The PageRank scores in the network of n nodes are computed according to the classical definition by Brin and Page [ 3 ] as follows :
P R(i ) = cXj→i c n Xj∈D
1 dj
P R(j)+
P R(j)+
1 − c n
, i = 1 , . . . , n ,
( 3 ) where P R(i ) is the PageRank of page i , dj is the number of outgoing links of page j , the sum is taken over all pages j that link to page i , D is a set of nodes with out degree zero , and c is the damping factor , which is a constant between 0 and 1 . Throughout the paper we use the scaled PageRank scores R(i ) = nP R(i ) , i = 1 , . . . , n . Further , we do not consider the out degree in the Growing Network case because it is a constant .
One can see that all plots in Figure 1 look similar . In particular , in degrees and PageRanks tends to follow power laws with the same exponent in all three cases . Thus , one might hastily draw a conclusion that we deal with networks of similar nature . It has been already argued in [ 9 ] and a number of other papers that such claims on network similarities can be completely wrong . In this paper we suggest to obtain a more detailed description of network structure by thor
100
10−1
10−2
10−3
10−4
10−5 s e g a p f o n o i t c a r F
( a )
10−6
10−2
100
10−2
10−4 s e g a p f o n o i t c a r F
10−6
10−2
100
10−1
10−2
10−3 s e g a p f o n o i t c a r F
( b )
( c )
In−degree Out−degree PageRank
100 104 In/out−degree , PageRank
102
106
In−degree Out−degree PageRank
100 104 In/out−degree , PageRank
102
106
In−degree PageRank
103
104
10−4
10−1
100
101
102
In−degree , PageRank
Figure 1 : Cumulative log log plots for in/(out)degree and PageRank : ( a ) EU 2005 , ( b ) Wikipedia , ( c ) Growing Network oughly verifying the presence of power law and analyzing the dependencies between network parameters .
3 . EVALUATING THE POWER LAWS Consider non negative observations X1 , . . . , Xn and write X(i ) for the ith largest value of X1 , . . . , Xn , where 1 ≤ i ≤ n : ( 4 )
X(1 ) ≥ X(2 ) ≥ . . . ≥ X(n ) .
In the next sections we will provide a review of some estimation techniques designed under assumption that X1 , . . . Xn are independent random variables having an identical regularly varying distribution with tail index α , as defined in ( 2 ) . The idea is to apply several different procedures and make sure that they lead to the same conclusion .
3.1 Hill plot The Hill ’s estimator Hk,n is a widely used estimator of 1/α , that is based on k upper order statistics :
Hk,n :=
1 k k
Xi=1 log X(i )
X(k+1 ) .
It was proved ( see eg [ 20 ] ) that Hk,n converges in probability to 1/α as n , k → ∞ , k/n → 0 . An obvious problem with the Hill estimator is choosing the value k so that X(k ) corresponds to a ‘beginning’ of the power law tail . This can be mitigated by constructing a so called Hill plot .
To make a Hill plot for α we graph {(k , H −1 k,n ) , 1 ≤ k ≤ n} and if the plot looks stable around a certain horizontal line , we can pick the corresponding value of α . This sometimes works beautifully , especially for data close to pure Pareto tails . However , if L(x ) in ( 2 ) deviates considerably from a constant there may be enormous errors . The Hill plot , as well as the Hill estimator , is also not location invariant . Theoretically , a shift does not affect the power law exponent , however it drastically distorts the Hill plot . Clearly , in case when the Hill plot does not look stable , the Hill estimator can not be used for the evaluation of α .
To construct confidence intervals for the Hill estimator , Newman [ 17 ] suggests to use a bootstrap method for estimating the variance of H −1 k,n . A simpler way is to use the convergence of √kHk,n to a normal random variable with mean 1/α and variance 1/α2 as n , k → ∞ , k/n → 0 ( see [ 20 , p304 ] ) Thus , one can obtain confidence intervals based on the quantiles of the standard normal distribution .
One can also display the Hill plot in the alternative form {(θ , H −1 ⌈nθ ⌉,n ) , 0 ≤ θ ≤ 1} , where ⌈x⌉ is the smallest integer greater or equal to x ≥ 0 . This plot is called the alternative Hill plot , altHill . Compared to the Hill plot , the altHill shows the largest order statistics more prominently . According to [ 20 ] , if the distribution is not exactly Pareto , then the altHill spends more time in the small neighborhood of α than the Hill plot .
Below we display Hill and altHill plots for EU 2005 ( Figure 2 ) , Growing Network ( Figure 3 ) and Wikipedia ( Figure 4 ) . The saw type picture for in degrees and out degrees reflects the fact that we deal with integer values that are the same for quite large groups of nodes .
In the Web data , the Hill plots confirm the power law tail of in degree and PageRank . The exponent α seems to be the same in both cases . However , it looks like the estimation 1.1 is , on average , on a higher side . Again , oscillations between 0.9 and 1.2 are essential since α = 0.9 implies infinite mean . The altHill is stable for θ between 0.4 and 09 The beginning of the plot is most probably distorted by the well known exponential cut off of the real life data [ 6 ] , and for θ > 0.9 the number of used order statistics is too large .
In the Growing Networks , the Hill plots behave reasonably nice . The plot for in degree is more stable as it spends significant time around the line α = 11 The plot for PageRank also behaves well and seems to suggest a slightly smaller tail index , around 105 From the plots we see that the estimator for α is very sensitive to the choice of k . Thus , constructing a Hill plot is a helpful step when applying a Hill estimator .
The Hill and altHill plots suggest that the in degree and PageRank in the Web and in the Growing Networks are heavy tailed but not exactly a Pareto . Indeed , the plots look relatively stable but it is difficult to single out α .
1.8
1.7
1.6
1.5
1.4
1.3
1.2
1.1
1
0.9 a h p a l f o e t a m i t s e l l i
H
0.8
0
2
4
3.5
3
2.5
2
1.5 a h p a l f o e t a m i t s e l l i
H
1
0
2
1.8
1.7
1.6
1.5
1.4
1.3
1.2
1.1
1
0.9 a h p a l f o e t a m i t s e l l i
H
0.8
0
2
In−degree
8
10 x 104
Out−degree
8
10 x 104
PageRank
2.6
2.4
2.2
2
1.8
1.6
1.4
1.2
1
0.8 a h p a l f o e t a m i t s e l l i
H
0.6
0.3
0.4
0.5
8
7
6
5
4
3
2
1 a h p a l f o e t a m i t s e l l i
H
0
0.3
0.4
0.5
2.6
2.4
2.2
2
1.8
1.6
1.4
1.2
1 a h p a l f o e t a m i t s e l l i
H
8
10 x 104
0.8
0.3
0.4
0.5
0.6
0.7
Theta
0.6
0.7
Theta
0.6
0.7
Theta
In−degree
0.8
0.9
Out−degree
0.8
0.9
PageRank
1
1
1.8
1.7
1.6
1.5
1.4
1.3
1.2
1.1
1
0.9 a h p a l f o e t a m i t s e l l i
H
0.8
0
2
3.5
3
2.5
2
1.5
1 a h p a l f o e t a m i t s e l l i
H
0.5
0
2
1.8
1.7
1.6
1.5
1.4
1.3
1.2
1.1
1
0.9 a h p a l f o e t a m i t s e l l i
H
0.8
0.9
1
0.8
0
2
4
6
Number of order statistics
4
6
Number of order statistics
4
6
Number of order statistics
In−degree
8
10 x 104
Out−degree
8
10 x 104
PageRank
1.8
1.6
1.4
1.2
1
0.8
0.6 a h p a l f o e t a m i t s e l l i
H
0.3
0.4
0.5
3.5
3
2.5
2
1.5
1
0.5 a h p a l f o e t a m i t s e l l i
H
0
0.3
0.4
0.5
3
2.5
2
1.5
1 a h p a l f o e t a m i t s e l l i
H
8
10 x 104
0.5
0.3
0.4
0.5
0.6
0.7
Theta
0.6
0.7
Theta
0.6
0.7
Theta
In−degree
0.8
0.9
Out−degree
0.8
0.9
PageRank
1
1
0.8
0.9
1
4
6
Number of order statistics
4
6
Number of order statistics
4
6
Number of order statistics
Figure 2 : EU 2005 data set : Hill plot ( left ) and altHill plot ( right ) for in degree , out degree and PageRank
Figure 4 : Wikipedia data set : Hill plot ( left ) and altHill plot ( right ) for in degree , out degree and PageRank
For the out degree in the Web data , the altHill plot oscillate considerably . However , the Hill plot does not behave as nearly as badly as it would , for instance , for the exponential distribution ( see example in [ 20 , p96 ] ) Based on the Hill plot , one may therefore conclude that the out degree has a power law .
Finally , Wikipedia turns out to be an example of perfect Hill plots whereas altHill shows large oscillations . We conclude that in degree and PageRank in Wikipedia follow closely a Pareto distribution with index 12 The out degree is also Pareto , with index about 16
3.2 Pickands plot
1.8
1.7
1.6
1.5
1.4
1.3
1.2
1.1
1
0.9 a h p a l f o e t a m i t s e l l i
H
0.8
0
200
1.6
1.5
1.4
1.3
1.2
1.1
1
0.9
0.8
0.7
0.6
0
200 l a h p a f o e t a m i t s e l l i
H
In−degree
2.5
2
1.5
1 a h p a l f o e t a m i t s e l l i
H
800
1000
0.5
0.3
0.4
0.5
PageRank
3
2.5
2
1.5
1 l a h p a f o e t a m i t s e l l i
H
800
1000
0.5
0.3
0.4
0.5
In−degree
0.8
0.9
1
PageRank
0.8
0.9
1
0.6
0.7
Theta
0.6
0.7
Theta
400
600
Number of order statistics
400
600
Number of order statistics
Figure 3 : Growing Network data set : Hill plot ( left ) and altHill plot ( right ) for in degree and PageRank
A Pickands estimator as presented in [ 20 ] , is another way to evaluate α and reveal the presence of power laws . We first introduce the extreme value distributions , defined as
Gγ = exp−(1 + γx)−1/γ , γ ∈ R , 1 + γx > 0 .
The power law case corresponds to γ > 0 and then γ = 1/α .
Suppose {Xi , i ≥ 1} are iid with common distribution F . The Pickands estimator is derived under the condition that the distribution F is in the domain of attraction of the extreme value distribution Gγ , that is , there exist a(n ) > 0 , b(n ) ∈ R such that nP[X1 > a(n)x + b(n ) ] → − log Gγ(x ) as n → ∞ , for γ > 0 , x ∈ ( −1/γ , ∞ ) . The Pickands estimator of γ uses differences of quantiles , where the latter are estimated by means of three upper statistics , X(k ) , X(2k ) , X(4k ) , from a sample size n . The estimator is defined as
ˆγ(P ickands ) k,n
=
1 log 2 log X(k ) − X(2k )
X(2k ) − X(4k ) .
Determining an appropriate of k is again an important issue . Unlike the Hill estimator , the Pickands estimator is both location and scale invariant . k,n
Similarly to the Hill plot , a Pickands plot consists of the points {(k , ˆγ(P ickands ) ) , 1 ≤ k < n/4} . A difficulty in constructing Pickands plots for integer valued observations such as in degrees and out degrees in the networks , is that the values of order statistics might be identical , resulting in division by zero . To fix this problem we introduce a randomization of the data by adding uniformly ( 0 , 1 ) distributed random variables to each of the observations .
The Pickands plots for our data sets are presented in Figure 5 below . We note that we plot the values of ˆγ(P ickands ) that estimates 1/α . The results for in degree and PageRank k,n a m m a g f o e t a m i t s e s d n a k c P i
( a ) a m m a g f o e t a m i t s e s d n a k c i P
( b )
1
3
2.5
2
1.5
1
0.5
0
−0.5
−1
0
3
2.5
2
1.5
1
0.5
0
−0.5
−1
0
In−degree Out−degree PageRank
4
5 x 104
In−degree Out−degree PageRank
2
3
Number of order statistics
0.5 1.5 Number of order statistics
1
2 x 105 of F versus the sample quantiles : flF ← i n + 1 , X(n−i+1 ) , 1 ≤ i ≤ n , where F ←(y ) = inf{x : F ( x ) ≥ y} is inverse of distribuIf our hypothesis is true then the result tion function F . should fall roughly on the straight line {(x , x ) , x > 0} . One potential problem is how to decide what we consider ‘close enough’ to linear .
( a )
( b )
8
7.5
7
6.5
6
5.5
5
4.5
4
3.5 a t a d d e t r o s − g o l
3 2
3
6
5
4
3
2
1 a t a d d e t r o s − g o l
0 2
3
8
7
6
5
4
3 a t a d d e t r o s − g o l
8
9
2 1
2
6
5
4
3
2
1
0 a t a d d e t r o s − g o l
9
10
−1 0
2
4 7 Quantiles of exponential
5
6
5
4 8 Quantiles of exponential
6
7
4
3 7 Quantiles of exponential
5
6
4
6
Quantiles of exponential
8
9
8
10
( c ) a m m a g f o e t a m i t s e s d n a k c i P
3
2.5
2
1.5
1
0.5
0
−0.5
−1
0
500
In−degree PageRank
Figure 6 : Growing Network data set : ( a ) QQ lines for in degree , 500 ( left , α = 1.09 ) and 1000 ( right , α = 1.06 ) upper statistics ; ( b ) QQ lines for PageRank , 500 ( left , α = 0.95 ) and 1500 ( right , α = 1.05 ) upperstatistics
1000
1500
2000
Number of order statistics
2500
To apply QQ plots to power laws , suppose that our null hypothesis is that for some x0 > 0 , distribution of random variable X satisfies
Figure 5 : Pickands plots for in/(out) degrees and PageRank : ( a ) EU 2005 , ( b ) Wikipedia , ( c ) Growing Network in all three data sets are in good agreement with Hill plots . The new information we find by looking at the plot for outdegree in the Web data . Here a large part of the Pickands plot shows γ < 0 which signals light tails . This is in agreement with Donato et al . [ 8 ] and other papers that claim that the out degree data does not follow a power law . On the other hand , the Pickands plot goes below zero only for quite large values of k , so we still can not exclude the power law tail .
3.3 QQ plot Suppose we have a hypothesis that the true distribution function producing the data is F ( x ) . A goodness of fit test provides the rigorous way to verify such hypothesis , whereas the QQ plot is a more informal but convenient alternative . To construct a QQ plot we graph the theoretical quantiles
P(X > x ) = x x0−α
, so it follows that P(log X > y ) = e−α(y−log x0 ) . Hence , using quantiles of exponential distribution we plot fl− log1 − i n + 1 , log X(n−i+1 ) , 1 ≤ i ≤ n .
The slope of the least squared line fitted to the QQ plot is an estimate of 1/α . Thus , if {(xi , yi ) , 1 ≤ i ≤ n} are n points on the plane , we can calculate the slope in standard way i=1(xi − ¯x)2 and ¯x means mean value of x . Now we can define the QQ estimator for 1/α based on k upper order statistics as
SL({(xi , yi ) , 1 ≤ i ≤ n} ) = Sxy/Sxx , i=1(xi − ¯x)(yi − ¯y ) , Sxx = Pn n + 1 , log X(n−i+1 ) , n − k + 1 ≤ i ≤ n . where Sxy = Pn SLfl− log1 − i
Clearly , there remains the problem of choosing k .
The QQ plots for our data are presented in Figures 6 8 for two choices of k . Again , the data on in degree and Page
( a )
( b )
( c )
12
11
10
9
8
7
6
5
4
3 a t a d d e t r o s − g o l
2 0
2
9
8
7
6
5
4 a t a d d e t r o s − g o l
3 2
4
10
8
6
4
2
0 a t a d d e t r o s − g o l
−2 0
2
12
11
10
9
8
7
6
5
4
3 a t a d d e t r o s − g o l
12
14
2 0
2
9
8
7
6
5
4 a t a d d e t r o s − g o l
12
14
3 0
2
12
10
8
6
4
2
0 a t a d d e t r o s − g o l
12
14
−2 0
2
12
14
4 a t a d d e t r o s − g o l
14
12
10
8
6
4
2 2
10
9
8
7
6
5
4
3 a t a d d e t r o s − g o l
( a )
( b )
12
14
2 2
4
10
9
8
7
6
5
4
3
2
1 a t a d d e t r o s − g o l
( c )
12
14
0 0
2
14
16
14
12
10
8
6
4
2
0 0
10
9
8
7
6
5
4
3 a t a d d e t r o s − g o l a t a d d e t r o s − g o l
14
16
2 0
2
10
9
8
7
6
5
4
3
2
1 a t a d d e t r o s − g o l
14
16
0 0
2
6 12 Quantiles of exponential
10
8
12 6 Quantiles of exponential
10
8
6
4 12 Quantiles of exponential
10
8
4 10 Quantiles of exponential
6
8
10 4 Quantiles of exponential
6
8
10 4 Quantiles of exponential
6
8
5
10
Quantiles of exponential
6
12 4 Quantiles of exponential
10
8
6
4 12 Quantiles of exponential
10
8
15
14
16
14
16
4 10 Quantiles of exponential
6
8
6
8
10
Quantiles of exponential
10 4 Quantiles of exponential
6
8
Figure 7 : EU 2005 data set : ( a ) QQ lines for indegree , 150.000 ( left , α = 1.11 ) and 300.000 ( right , α = 1.15 ) upper statistics ; ( b ) QQ lines for outdegree , 100.000 ( left , α = 2.95 ) and 250.000 ( right , α = 2.39 ) upper statistics ; ( c ) QQ lines for PageRank , 300.000 ( left , α = 1.08 ) and 500.000 ( right , α = 1.13 ) upper statistics
Figure 8 : Wikipedia data set : ( a ) QQ lines for indegree , 500.000 ( left , α = 1.18 ) and 1000000 ( right , α = 1.11 ) upper statistics ; ( b ) QQ lines for outdegree , 500.000 ( left , α = 2.95 ) and 1000000 ( right , α = 1.38 ) upper statistics ; ( c ) QQ lines for PageRank , 500.000 ( left , α = 1.20 ) and 1000000 ( right , α = 1.31 ) upper statistics
Rank resulted in QQ plots similar to straight line , and the estimates for α are close to what we expected . Thus , in these case all techniques point to the same result .
With a certain amount of tolerance , we can accept that the QQ plot for out degrees in the Web data in Figure 7(b ) is close enough to a straight line . Moreover , the estimated α = 2.39 and α = 2.95 are in good agreement with the Hill plot . We also note that α > 2 implies a finite variance while power law models are especially important in case when the variance is infinite , reflecting high variability [ 13 , 19 ] . Hence , in case of a finite variance , it is not really crucial whether the data obeys a power law . To exclude the possibility of exponential tail of out degree , we also constructed a QQ plot with exponential quantiles by plotting − log ( 1 − i/(n + 1 ) ) against X(n−i+1 ) . The result that we do not present here is not any close to a straight line . To summarize , the outdegree has a finite variance and a tail heavier than exponential , so it can be modeled reasonably well as a power law with exponent around 2.5 3 , according to our estimates .
4 . DEPENDENCIES There is no agreement in the literature whether a PageRank score of a page is correlated with its in degree . Provided that formula ( 3 ) clearly suggests a strong dependence between the two quantities , the small correlation coefficients obtained eg in [ 8 , 18 ] look quite surprising . Furthermore , these results contradict high correlations reported in [ 10 ] . One of the main points we would like to make in this paper is that this merely confirms the ( in the extreme value theory community ) common knowledge that the correlation coefficient is an uninformative dependence measure in heavytailed data [ 6 , 7 , 20 ] . The correlation is a ‘crude summary’ of dependencies that is most informative for jointly normal random variables . It is a common and simple technique but it is not subtle enough to distinguish between the dependencies in large and in small values . This is in particular a problem if we want to measure a dependence between two heavy tailed parameters X and Y . In that case , we are mainly interested in the dependence between the tails , ie , between extremely large values of X and Y . Since such extremely large values are not encountered very often , the correlation coefficient can not capture the tail dependencies . Thus , in this section we employ techniques from [ 20 ] that help to analyze dependencies between heavy tailed distributions .
The goal of this section is to measure the dependencies between in degree and PageRank , in degree and out degree , and out degree and PageRank in our data sets . In Sections 4.1 and 4.2 we explain the methodology and perform preliminary computations . The results are presented in Section 43
4.1 Angular Measure Suppose we are interested in analyzing the dependencies between two characteristics of a node . Denote these by X and Y and construct the vector of random samples by {(Xj , Yj ) , 1 ≤ j ≤ n} . Thus Xj and Yj are observations of X and Y for the corresponding node j .
Following [ 20 ] , we start by using the rank transformation of this vector , leading to {(rx j ) , 1 ≤ j ≤ n} , j , ry where rx j is the descending rank of Xj in ( X1 , . . . , Xn ) and ry j is the descending rank of Yj in ( Y1 , . . . , Yn ) , that is , for instance , ry j = 2 means that Yj is the second largest value among Y1 , . . . , Yn .
Next we choose k = 1 , . . . , n and apply the polar coordinate transform as follows
, rx j
( 5 ) k ry
POLAR k j = ( Rj,k , Θj,k ) , where POLAR(x , y ) =px2 + y2 , arctan ( y/x ) . Now we need to consider the points {Θi,k : Ri,k > 1} and make a plot for cumulative distribution function of Θ . In other words , we are interested in empirical distribution of Θ for k largest values of R . If such measure is concentrated around π/4 then we observe a tendency toward complete dependence . It reflects the situation when a large value of X appears simultaneously with a large value of Y . In the opposite case , when such large values almost never appear together , we have either large value of X or large value of Y , hence , Θ should be around 0 or π/2 . The middle case plots can be interpreted as tendency to decency or independency . It was proved in [ 20 ] that the empirical measure converges to a proper distribution on [ 0 , π/2 ] as n , k → ∞ , k/n → 0 . That is , ideally , we need to consider only a relatively small part of a large data set .
4.2 Starica plot In practice the problem remains : how to choose a suitable value of k ? In the case of bi variate data , this can be determined by making a Starica plot . We consider radii R1,k , . . . , Rn,k from ( 5 ) and rank them in descending order R(1 ) ≥ . . . ≥ R(n ) as before . To get Starica plot we graph
, or
R(k ) fl R(j ) ( R(j ) ,
R(j ) R(k ) · j k , 1 ≤ j ≤ n ,
R(j)j i=1 1{Ri,k≥1}! , 1 ≤ j ≤ n ) . Pn
The idea is that for suitable k the ratio in the ordinate should be roughly a constant and equal 1 for the values of the abscissa in the neighborhood of 1 . The plot looks different for the different parameters k and one can either find a suitable k by trial and error or use numerical algorithms to compute optimal k . A Starica plot for good k will have a region in the right neighborhood of x = 1 where the plot is hugging the y = 1 line . If the line is going steep up at x = 1 then the chosen k is too large . On the other hand , if the graph stabilizes around y = 1 for some x < 1 then it means that k is too small , and we miss some valuable tail data . We refer to Resnick [ 20 ] for more details and references .
1.02
1.015
1.01
1.005
1
0.995
0.99
0.985 o i t a r g n i l a c S
0.98
0
1
2
3
In−degree vs . PageRank
4
7
8
9
1010
5
6
Scaling constant
Figure 9 : Growing Network data set : Starica plot for in degree and PageRank
After some experiments , we chose appropriate values of k for the three pairs ( in degree , PageRank ) , ( in degree , outdegree ) , and ( out degree , PageRank ) in our data sets . The corresponding Starica plots are presented in Figures 9 11 . The good news is that the plots for in degree/PageRank behaves nicely in all three data sets , which makes our angular measure more reliable . The Growing Network exhibits an ideal Starica plot ( Figure 9 ) . A surprisingly bad behavior is on the plot for in degree/out degree in Wikipedia ( Figure 11(b) ) , where the Starica curve wonders well off the y = 1 line .
4.3 Dependence measurements on the data After defining a suitable k , we compute the pairwise angular measure . In Figure 4.3 we depict θ ∈ [ 0 , π/2 ] against the fraction of observations where the angle Θ is greater or equal to θ .
The results are striking . Let us look first at Figure 12(a ) which characterizes the dependence between in degree and PageRank . For the Wikipedia data set we observe that about half of observations are concentrated around 0 whereas another half is close to π/2 . This suggests an independence of the tails of in degree and PageRank . That is , in Wikipedia data set an extremely high in degree almost never implies an extremely high ranking . The picture is completely the opposite for Growing Networks , where the angular measure is entirely concentrated around π/4 indicating a complete dependence . Thus , in highly centralized preferential attachment graphs , most connected nodes are also most highly ranked . Finally , the Web graph exhibits a subtle dependence structure that results in angular measure which is almost uniform on [ 0 , π/2 ] . This suggest that PageRank popularity measure can not be replaced by in degree without significant disturbance in the ranking ( of course , in degree can not be used as a popularity measure for many other reasons , for instance , because it is easy to spam by creating link farms ; we refer to [ 12 ] for further discussion of PageRank and other popularity measures ) .
The picture is different in Figure 12(b ) where we depict the angular measure for in degree and out degree in the Web and in Wikipedia . In the Web , the in and out degree tend to be independent which justifies the distinction between hubs
1.1
1.05
1
0.95
0.9
0.85
0.8 o i t a r g n i l a c S
( a )
0.75
0
1
2
3
1.1
1.05
1
0.95
0.9
0.85
0.8
0.75 o i t a r g n i l a c S
( b )
0.7
0
1
2
3
1.1
1.05
1
0.95
0.9
0.85
0.8
0.75 o i t a r g n i l a c S
( c )
0.7
0
1
2
3
In−degree vs . PageRank
In−degree vs . PageRank
1.05
1
0.95
0.9
0.85
0.8
0.75
0.7 o i t a r g n i l a c S
( a )
4
5
6
Scaling constant
7
8
9
1010
0.65
0
1
2
3
4
5
6
7
8
9
1010
Scaling constant
In−degree vs . out−degree
In−degree vs . out−degree
1.2
1.15
1.1
1.05
1
0.95
0.9
0.85 o i t a r g n i l a c S
( b )
4
5
6
Scaling constant
7
8
9
1010
0.8
0
1
2
3
4
5
6
7
8
9
1010
Scaling constant
Out−degree vs . PageRank
Out−degree vs . PageRank
1.05
1
0.95
0.9
0.85
0.8
0.75 o i t a r g n i l a c S
( c )
4
5
6
Scaling constant
7
8
9
1010
0.7
0
1
2
3
4
5
6
7
8
9
1010
Scaling constant
Figure 10 : EU 2005 data set : ( a ) Starica plot for indegree and PageRank ( k=100.000 ) ; ( b ) Starica plot for in degree and out degree ( k=30.000 ) ; ( c ) Starica plot for out degree and PageRank ( k=200.000 )
Figure 11 : Wikipedia data set : ( a ) Starica plot for in degree and PageRank ( k=600.000 ) ; ( b ) Starica plot for in degree and out degree ( k=200.000 ) ; ( c ) Starica plot for out degree and PageRank ( k=600.000 ) and authorities [ 11 ] . In Wikipedia the in and out degrees are dependent but this dependence is not absolute .
Finally , the dependence between out degree and PageRank in the Web and Wikipedia in Figure 12(c ) resembles the patterns observed for in degree and PageRank .
5 . CONCLUSIONS AND DISCUSSION This paper has investigated power laws using state of the art statistical techniques . These techniques are not commonly used in the analysis of Web data and have shed new light on dependencies between important quantities such as PageRank and in degrees .
Specifically , this paper demonstrates how to measure dependencies in heavy tailed graph data using statistical inference for multivariate regular variation . This turns out to be an efficient way to reveal considerable structural differences in data sets with at first sight similar power law behavior .
The results on dependencies are useful in several ways . First of all , they reveal some important structural features thus extending our knowledge on real life networks . Second , by comparing the dependencies for experimental and synthetic data we can considerably improve existing graph models .
Acknowledgments The authors would like to thank Debora Donato for her great help with Web and Wikipedia data sets . This article is the result of joint research in the 3TU Centre of Competence NIRICT ( Netherlands Institute for Research on ICT ) within the Federation of Three Universities of Technology in The Netherlands .
6 . REFERENCES [ 1 ] http://lawdsiunimiit/ Accessed in January 2007 . [ 2 ] R . Albert and A . L . Barab´asi . Emergence of scaling in random networks . Science , 286:509–512 , 1999 .
[ 3 ] S . Brin and L . Page . The anatomy of a large scale hypertextual Web search engine . Comput . Networks , 33:107–117 , 1998 .
Sciences , 102(41):14497–14502 , 2005 .
[ 10 ] S . Fortunato , M . Boguna , A . Flammini , and
FMenczer How to make the top ten : Approximating PageRank from in degree . In Proceeding of the 4th Workshop on Algorithms and Models for the Web Graph ( WAW2006 ) , 2006 . Available at http://arxivorg/abs/cs/0511016
[ 11 ] J . M . Kleinberg . Authoritative sources in a hyperlinked environment . JACM , 46(5):604–632 , 1999 .
[ 12 ] A . N . Langville and C . D . Meyer . Google ’s PageRank and beyond : the science of search engine rankings . Princeton University Press , Princeton , NJ , 2006 .
[ 13 ] L . Li , D . L . Alderson , J . C . Doyle , and W . Willinger .
Towards a theory of scale free graphs : definition , properties , and implications . Internet Math . , 2(4):431–523 , 2005 .
[ 14 ] T . Mikosch . Modelling dependence and tails in financial time series . In Symposium in Honour of Ole E . Barndorff Nielsen ( Aarhus , 2000 ) , volume 16 of Memoirs , pages 61–73 . Univ . Aarhus , Aarhus , 2000 .
[ 15 ] M . Mitzenmacher . A brief history of generative models for power law and lognormal distributions . Internet Math . , 1(2):226–251 , 2004 .
[ 16 ] M . E . J . Newman . The structure and function of complex networks . SIAM Rev . , 45(2):167–256 , 2003 . [ 17 ] M . E . J . Newman . Power laws , Pareto distributions and Zipf ’s law . Contemp . Phys . , 46:323–351 , 2005 .
[ 18 ] G . Pandurangan , P . Raghavan , and E . Upfal . Using
PageRank to characterize Web structure . In 8th Annual International Computing and Combinatorics Conference ( COCOON ) , 2002 .
[ 19 ] K . Park and W . Willinger . Self similar network traffic and performance evaluation . Wiley , New York , 2000 . [ 20 ] S . I . Resnick . Heavy tail Phenomena . Springer Series in Operations Research and Financial Engineering . Springer , New York , 2007 .
[ 21 ] Y . Volkovich , N . Litvak , and D . Donato . Determining factors behind the PageRank log log plot . Memorandum 1823 , Enschede , 2007 . To appear in Proceedings of the 5th Workshop on Algorithms and Models for the Web Graph ( WAW2007 ) , 2007 .
Growing Network EU−2005 Wikipedia
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1 s e g a p f o n o i t c a r F
0
0
0.2
0.4
0.6
0.8
Theta
1
1.2
1.4
1.6
EU−2005 Wikipedia
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1 s e g a p f o n o i t c a r F
0
0
0.2
0.4
0.6
0.8
Theta
1
1.2
1.4
1.6
EU−2005 Wikipedia
1
0.9
0.8
0.7
0.6
0.5
0.4
0.3
0.2
0.1 s e g a p f o n o i t c a r F
( a )
( b )
( c )
0
0
0.2
0.4
0.6
0.8
Theta
1
1.2
1.4
1.6
Figure 12 : Cumulative functions for Angular Measures : ( a ) in degree and PageRank ; ( b ) in degree and out degree ; ( c ) out degree and PageRank
[ 4 ] A . Broder , R . Kumar , F . Maghoul , P . Raghavan ,
S . Rajagopalan , R . Statac , A . Tomkins , and JWiener Graph structure in the Web . Comput . Networks , 33:309–320 , 2000 .
[ 5 ] A . Capocci , V . D . P . Servedio , F . Colaiori , L . S .
Buriol , D . Donato , S . Leonardi , and G . Caldarelli . Preferential attachment in the growth of social networks : The internet encyclopedia Wikipedia . Phys . Rev . E , 74:036116 , 2006 .
[ 6 ] D . Chakrabarti and C . Faloutsos . Graph mining : Laws , generators , and algorithms . ACM Comput . Surv . , 38(1):2 , 2006 .
[ 7 ] L . de Haan and J . de Ronde . Sea and wind : multivariate extremes at work . Extremes , 1(1):7–45 , 1998 .
[ 8 ] D . Donato , L . Laura , S . Leonardi , and S . Millozi .
Large scale properties of the webgraph . Eur . Phys . J . , 38:239–243 , 2004 .
[ 9 ] J . C . Doyle , D . L . Alderson , L . Li , S . Low , M . Roughan , S . Shalunov , R . Tanaka , and W . Willinger . The robust yet fragile nature of the Internet . Proceedings of the National Academy of

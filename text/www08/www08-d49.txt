Statistical Properties of Community Structure in Large Social and Information Networks
Jure Leskovec ∗
Kevin J . Lang †
Anirban Dasgupta † Michael W . Mahoney †
Manuscript : March 7 , 2008 .
Abstract
A large body of work has been devoted to defining and identifying communities in social and information networks , ie , in graphs in which the nodes represent underlying social entities and the edges represent some sort of interaction between pairs of nodes . Most such research begins with the premise that a community should be thought of as a set of nodes that has more and/or betterconnected edges between its members than between members of that set and the remainder of the network—eg , a set of nodes that has good properties with respect to the combinatorial quantity known as conductance . In this paper , we explore from a novel perspective several questions related to identifying meaningful communities in large social and information networks , and we come to several striking conclusions that have implications for community detection in such networks .
Rather than define a procedure to extract a set of nodes from a graph and then attempt to interpret that set as a meaningful community , we will employ approximation algorithms for the graph partitioning problem in an attempt to characterize as a function of size the statistical and structural properties of partitions of graphs that could plausibly be interpreted as meaningful communities . In particular , we define the network community profile plot , which attempts to characterize the “ best ” possible community—according to the conductance measure—over a wide range of size scales . We study over 70 large sparse real world networks taken from a wide range of application domains ( ranging from traditional and on line social networks , to technological and information networks and web graphs , and ranging in size from thousands of nodes up to tens of millions of nodes ) , and for each of these networks we compute a wide range of statistics , including “ regularized ” and “ non regularized ” versions of the network community profile plot .
Taken together , our empirical results suggest a significantly more refined picture of the community structure in large real world networks than has been appreciated previously . For example , we find that the “ best ” communities tend to be quite small—eg , no more than about 100 nodes—and barely connected to the rest of the network . We also observe that beyond this size scale the best possible communities gradually blend into the expander like core , and thus that a roughly inverse relationship exists between community size and optimal community quality . Local fluctuations are common , and even at the largest size scales we find local graph structure such that these networks are significantly less expander like than corresponding random graphs . In nearly every network dataset we examined , however , we observe tight but almost trivial communities at very small scales , and at larger and larger size scales , the best possible communities gradually blend in more and more with the rest of the network and thus become less and less community like .
This behavior is not explained , even at a qualitative level , by any of the commonly used network generation models . Moreover , this behavior is exactly the opposite of what one would expect based on experience with and intuition from expander graphs , from graphs that are well embeddable in a low dimensional structure , and from small social networks that have served as testbeds of community
∗Carnegie Mellon University , Pittsburgh , PA 15213 . Email : jure@cscmuedu †Yahoo! Research , Sunnyvale , CA 94089 . Email : {langk , anirban , mahoney}@yahoo inc.com
1
2 detection algorithms . Certain aspects of it , eg , the existence of deep cuts or well defined “ communities ” at small size scales and the non existence of them at very large scales , are a consequence of the extreme sparsity of the networks , as we demonstrate by analyzing sparse random graph models . Other aspects of it , eg , the relatively gradual increase of the network community profile plot as a function of increasing size scale , depend in a subtle manner on the way in which local clustering information is propagated from smaller to larger size scales in the network . We have found that a generative graph model , in which new edges are added via an iterative “ forest fire ” burning process , is able to produce graphs exhibiting a network community profile plot similar to what we observe in our network datasets .
Contents
1 Introduction
1.1 Overview of our approach . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1.2 Summary of our results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1.3 Outline of the paper . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2 Background on communities and overview of our methods
2.1 Social and information network datasets we analyze . . . . . . . . . . . . . . . . . . . . . 2.2 Clusters and communities in networks . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2.3 Approximation algorithms for finding low conductance cuts . . . . . . . . . . . . . . . . .
3 The Network Community Profile Plot
3.1 Definitions for the network community profile plot 3.2 Community profile plots for expander , low dimensional , and small social networks 3.3 Community profile plots for large social and information networks 3.4 More community profile plots for large social and information networks
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
4 More structural observations of our network datasets
4.1 General statistics on our network datasets . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.2 “ Whiskers ” and the “ core ” in our network datasets . . . . . . . . . . . . . . . . . . . . . . 4.3 Bags of whiskers and communities of whiskers . . . . . . . . . . . . . . . . . . . . . . . . . 4.4 Community profile of networks with no 1 whiskers . . . . . . . . . . . . . . . . . . . . . .
5 Results from other algorithms
5.1 Cross checking between algorithms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5.2 Lower bounds on cut conductance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5.3 Local Spectral vs Metis+MQI . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
6 Models for network community structure
6.1 Community profile plots for commonly used network generation models . . . . . . . . . . 6.2 Very sparse random graphs have very unbalanced deep cuts . . . . . . . . . . . . . . . . . 6.3 An intuitive toy model for generating an upward sloping NCP plot . . . . . . . . . . . . . 6.4 A more realistic model of network community structure . . . . . . . . . . . . . . . . . . .
7 Discussion
7.1 Comparison with “ ground truth ” and sociological communities . . . . . . . . . . . . . . . 7.2 Broader implications . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7.3 Relationship with community identification methods . . . . . . . . . . . . . . . . . . . . .
3 3 4 7
8 8 13 14
15 15 16 20 22
26 26 27 27 30
30 32 34 35
37 38 40 46 46
50 50 53 54
Community structure in real graphs
3
7.4 Relationship with other theoretical work . . . . . . . . . . . . . . . . . . . . . . . . . . . .
55
8 Conclusion
56
1
Introduction
A large amount of research has been devoted to the task of defining and identifying communities in social and information networks , ie , graphs in which the nodes represent underlying social entities and the edges represent interactions between pairs of nodes . Most recent papers on the subject of community detection in large networks begin by noting that it is a matter of common experience that communities exist in such networks . These papers then note that , although there is no agreed upon definition for a community , a community should be thought of as a set of nodes that has more and/or better connected edges between its members than between its members and the remainder of the network . These papers then apply a range of algorithmic techniques and intuitions to extract subsets of nodes and then interpret these subsets as meaningful communities . In this paper , we explore from a novel perspective several questions related to identifying meaningful communities in large sparse networks , and we come to several striking conclusions that have implications for community detection in such networks .
1.1 Overview of our approach
At the risk of oversimplifying the large and often intricate body of work on community detection in complex networks , the following five part story describes the general methodology :
( 1 ) Data are modeled by an “ interaction graph . ” In particular , part of the world gets mapped to a graph in which nodes represent entities and edges represent some sort of interaction between pairs of those entities . For example , in a social network , nodes may represent individual people and edges may represent friendships or interactions or communication between pairs of those people .
( 2 ) The hypothesis is made that the world contains groups of entities that interact more strongly amongst themselves than with the outside world , and hence the interaction graph should contain sets of nodes , ie , communities , that have more and/or better connected “ internal edges ” connecting members of the set than “ cut edges ” connecting the set to the rest of the world .
( 3 ) A objective function or metric is chosen to formalize this idea of groups with more intra group than inter group connectivity .
( 4 ) An algorithm is then selected to find sets of nodes that exactly or approximately optimize this or some other related metric . Sets of nodes that the algorithm finds are then called “ clusters , ” “ communities , ” “ groups , ” “ classes , ” or “ modules ” .
( 5 ) The clusters or communities or modules are evaluated in some way . For example , one may map the sets of nodes back to the real world to see whether they appear to make intuitive sense as a plausible community . Alternatively , one may attempt to acquire some form of “ ground truth , ” in which case the set of nodes output by the algorithm may be compared with it .
With respect to points ( 1)–(4 ) , we will follows the usual path in this paper . In particular , we will adopt points ( 1 ) and ( 2 ) , and we will then explore the consequence of making such a choice , ie , of making such an hypothesis and modeling assumption . For point ( 3 ) , we choose a natural and widelyadopted notion of community goodness called conductance , which is also known as the normalized cut metric [ 33 , 144 , 92 ] . Informally , the conductance of a set of nodes ( defined and discussed in more detail in Section 2.3 ) is the ratio of the number of “ cut ” edges between that set and its complement divided by
4
Leskovec et al . the number of “ internal ” edges inside that set . Thus , to be a good community , a set of nodes should have small conductance , ie , it should have many edges inside and few edges pointing outside . Conductance is widely used to capture the intuition of a good community ; it is a fundamental combinatorial quantity ; and it has a very natural interpretation in terms of random walkers on the interaction graph . Moreover , since there exist a rich suite of both theoretical and practical algorithms [ 86 , 146 , 106 , 107 , 17 , 94 , 95 , 159 , 53 ] , we can for point ( 4 ) compare and contrast several methods to approximately optimize it .
However , it is in point ( 5 ) that we deviate from previous work . Instead of focusing on individual groups of nodes and trying to interpret them as “ real ” communities , we investigate statistical properties of a large number of communities over a wide range of size scales in over 70 large sparse real world social and information networks . We take a step back and ask questions such as : How well do real graphs split into communities ? What is a good way to measure and characterize presence or absence of communities in networks ? What are typical community sizes and typical community qualities ? To address these and related questions , we introduce the concept of a network community profile plot . ( This is defined and described in more detail in Section 31 ) Intuitively , the network community profile plot measures the “ best ” community as a function of community size in a network . Formally , we will define it as the conductance value of the minimum conductance set of cardinality k in the network , as a function of k . Operationally , we will use several natural heuristics based on approximation algorithms for solving the Minimum Conductance Cut Problem in order to compute different approximations to the network community profile plot . By comparing and contrasting these plots for a large number of networks , and by computing other related structural properties , we obtain results that suggest a significantly more refined picture of the community structure in large real world networks than has been appreciated previously .
We have gone to a great deal of effort to be confident that we are computing quantities fundamental to the networks we are considering , rather than artifacts of the heuristics and approximation algorithms we employ . First , we use several classes of graph partitioning approximation algorithms to probe the networks for sets of nodes that could plausibly be interpreted as communities . These algorithms , including flow based methods , spectral methods , and hierarchical methods , have complementary strengths and weaknesses that are well understood in theory and in practice . For example , flow based methods are known to have difficulties with expanders [ 106 , 107 ] , and flow based post processing of other methods are known in practice to yield cuts with extremely good conductance values [ 103 , 105 ] . On the other hand , spectral methods are known to have difficulties when they confuse long paths with deep cuts [ 146 , 83 ] , a consequence of which is that they may be viewed as computing a “ regularized ” approximation to the network community profile plot . ( See Section 5 for a more detailed discussion of these and related issues . ) Second , we compute spectral based lower bounds and also semidefinite programmingbased lower bounds for the conductance of our network datasets . Third , we compute a wide range of other structural properties of the networks , eg , sizes , degree distributions , minimum and average diameters of the purported communities , internal versus external conductance values of the purported communities , etc . Fourth , we recompute statistics on versions of the networks that have been modified in well understood ways , eg , by removing small barely connected sets of nodes or by randomizing the edges . Fifth , we compare our results across not only over 70 large social and information networks , but also numerous commonly studied small social networks , expanders , and low dimensional mesh like objects , and we compare our results on each network with what is known from the field from which the network is drawn . To our knowledge , this makes ours the most extensive such analysis of the community structure in large real world social and information networks . Finally , we also compare results with analytical and/or simulational results on a wide range of commonly and not so commonly used network generation models [ 124 , 25 , 9 , 101 , 135 , 111 , 70 , 71 ] .
1.2 Summary of our results
Main Empirical Findings : Taken as a whole , the results we will present in this paper suggest a rather detailed and somewhat counterintuitive picture of the community structure in large social and
Community structure in real graphs
5 information networks . Although nearly every network we have analyzed has properties that provide an exception to any simple explanation , several qualitative properties of community structure , as revealed by the network community profile plot , are nearly universal :
• Up to a size scale , which empirically is roughly 100 nodes , there not only exist cuts with relatively good conductance , ie , good communities , but also the slope of the network community profile plot is generally sloping downward . This latter point suggests that smaller communities can be combined into meaningful larger communities , a phenomenon that we empirically observe in many cases .
• At that size scale , we often observe the global minimum of the network community profile plot ; these are the “ best ” communities , according to the conductance measure , in the entire graph . These are , however , rather uninterestingly connected to the rest of the network ; for example , in most cases , we observe empirically that they are a small set of nodes barely connected to the remainder of the network by just a single edge .
• Above the size scale of roughly 100 nodes , the network community profile plot gradually increases , and thus there is a nearly inverse relationship between community size and community quality . This upward slope suggests , and empirically we often observe , that as a function of increasing size , the best possible communities become more and more “ blended into ” the remainder of the network . In particular , in many cases , larger communities can be broken into smaller and smaller pieces , often recursively , each of which is more community like than the original supposed community .
• Even up to the largest size scales , we observe significantly more structure than would be seen , for example , in an expander like random graph on the same degree sequence .
A caricature of a typical network community profile plot is illustrated in Figure 1(a ) . This illustrates not only tight communities at very small scales , but also that at larger and larger size scales ( the precise cutoff point for which is difficult to specify precisely ) the best possible communities gradually “ blend in ” more and more with the rest of the network and thus gradually become less and less community like . Eventually , even the existence of large well defined communities is quite questionable if one models the world with an interaction graph , as in point ( 1 ) above , and if one also defines good communities as densely linked clusters that are weakly connected to the outside , as in hypothesis ( 2 ) above .
To understand the properties of generative models sufficient to reproduce the phenomena we have observed , we have examined in detail the structure of our social and information networks . Again , although nearly every network is an exception to any simple rule , we have observed that an “ octopus ” or “ jellyfish ” model [ 41 , 149 , 145 ] provides a rough first approximation to structure of many of the networks we have examined . That is , most networks may be viewed as having a “ core , ” with no obvious underlying geometry and which contains a constant fraction of the nodes , and then there are a large number of relatively small “ whiskers ” that are only tenuously connected to the core . Figure 1(b ) presents a caricature of this network structure . Of course , our network datasets are far from random in numerous ways—eg , they have higher edge density in the core ; the small barely connected whisker like pieces are generally larger , denser , and more common than in corresponding random graphs ; they have higher local clustering coefficients ; and this local clustering information gets propagated globally into larger clusters or communities in a subtle and location specific manner .
Main Modeling Results : This behavior is not reproduced , at even a qualitative level , by any of the commonly used network generation models we have examined , including but not limited to preferential attachment models , copying models , and hierarchical models . Moreover , this behavior is qualitatively different than what is observed in networks with an underlying mesh like or manifold like geometry ( which may not be surprising , but is significant insofar as these structures are often used as a scaffolding upon which to build other models ) , in networks that are good expanders ( which may be surprising , since it is often observed that large social networks are expander like in some sense ) , and in small social networks
6
Leskovec et al .
( a ) Typical NCP plot
( b ) Caricature of network structure
Figure 1 : ( a ) Typical network community profile plot for a large social or information network . ( b ) Caricature of network structure for a large social or information network , as suggested by our empirical evaluations . See the text for more information on the “ core ” and “ whiskers , ” and note that the core in our real world networks is actually extremely sparse . such as those used as testbeds for community detection algorithms ( which may have implications for the applicability of these methods to detect large community like structures in these networks ) . For the commonly used network generation models , as well as for expander like , low dimensional , and small social networks , the network community profile plots are generally downward sloping or relatively flat .
Although it is well understood at a qualitative level that nodes that are “ far apart ” or “ less alike ” ( in some sense ) should be less likely to be connected in a generative model , understanding this point quantitatively so as to reproduce the empirically observed relationship between small scale and largescale community structure turns out to be rather subtle . We can make the following observations :
• Very sparse random graph models with no underlying geometry have relatively deep cuts at small size scales , the best cuts at large size scales are very shallow , and there is a relatively abrupt transition in between . ( This is shown pictorially in Figure 1(a ) for a randomly rewired version of the original network . ) This is a consequence of the extreme sparsity of the data : sufficiently dense random graphs do not have these small deep cuts ; and the relatively deep cuts in sparse graphs are due to small tree like pieces that are connected by a single edge to a core which is an extremely good expander .
• A “ forest fire ” generative model [ 111 , 112 ] , in which edges are added in a manner that imitates a fire spreading process , reproduces not only the deep cuts at small size scales and the absence of deep cuts at large size scales but other properties as well : the small barely connected pieces are significantly larger and denser than random ; and for appropriate parameter settings the network community profile plot increases relatively gradually as the size of the communities increases .
• The details of the “ forest fire ” burning mechanism are crucial for reproducing how local clustering information gets propagated to larger size scales in the network , and those details shed light on the failures of commonly used network generation models . In the Forest Fire Model we have used [ 111 , 112 ] , a new node selects a “ seed ” node to which to add an edge , and then with some probability it “ burns ” or adds an edge to the each of the seed ’s neighbors , and so on , iteratively . Although there is a “ preferential attachment ” and also a “ copying ” flavor to this mechanism , two factors are particularly important : first is the local ( in a graph sense , as there is no underlying geometry in the model ) manner in which the edges are added ; and second is that the number of edges that a new
Community structure in real graphs
7 node can add can vary widely , depending on the local structure around the seed vertex . Depending on the neighborhood structure around the initial seed , occasional large fires help to seed relatively good , relatively large , well localized communities .
Thus , intuitively , the structure of the whiskers , which are not unlike small social networks that have been extensively studied , are responsible for the downward part of the network community profile plot , while the core of the network and the manner in which the whiskers root themselves to the core helps to determine the upward part of the network community profile plot . Due to local clustering effects , whiskers in real networks are larger and give deeper cuts than whiskers in corresponding randomized graphs , fluctuations in the core are larger and deeper than in corresponding randomized graphs , and thus the network community profile plot increases more gradually and levels off to a conductance value well below the value for a corresponding rewired network .
Main Methodological Contributions : To obtain these and other conclusions , we have employed approximation algorithms for graph partitioning to investigate structural properties of our network datasets . Briefly , we have done the following :
• We have used Metis+MQI , which consists of using the popular graph partitioning package Metis [ 94 ] followed by a flow based MQI post processing [ 105 ] . With this procedure , we obtain sets of nodes of that have very good conductance scores . At very small size scales , these sets of nodes could plausibly be interpreted as good communities , but at larger size scales , we often obtain tenuouslyconnected ( and in some cases unions of disconnected ) pieces , which perhaps do not correspond to intuitive communities .
• Thus , we have also used the Local Spectral method of Anderson , Chung , and Lang [ 13 ] to obtain sets of nodes with good conductance value that that are “ nicer ” or more “ regularized ” than those pieces returned by Metis+MQI . Since spectral methods confuse long paths with deep cuts [ 146 , 83 ] , empirically we obtain sets of nodes that have worse conductance scores than sets returned by Metis+MQI , but which are more “ tighter ” and more “ community like . ” For example , at small size scales the sets of nodes returned by the Local Spectral Algorithm agrees with the output of Metis+MQI , but at larger scales this algorithm returns sets of nodes with substantially smaller diameter and average diameter , which seem plausibly more community like .
We have also used what we call the Bags of Whiskers Heuristic to identify small barely connected sets of nodes that exert a surprisingly large influence on the network community profile plot .
Both Metis+MQI and the Local Spectral Algorithm scale well and thus either may be used to obtain sets of nodes from very large graphs . For many of the small to medium sized networks , we have checked our results by applying one or more other spectral , flow based , or heuristic algorithm , although these do not scale as well to very large graphs . Finally , for some of our smaller network datasets , we have computed spectral based and semidefinite programming based lower bounds , and the results are consistent with the conclusions we have drawn .
1.3 Outline of the paper
After this introductory section , we will in Section 2 describe some useful background , including a brief description of the network datasets we have analyzed . Then , in Section 3 we will present our main results on the properties of the network community profile plot for our network datasets . We will place an emphasis on how the phenomena we observe in large social and information networks are qualitatively different than what one would expect based on intuition from and experience with expander like graphs , low dimensional networks , and commonly studied small social networks . Then , in Sections 4 and 5 , we will summarize the results of additional empirical evaluations . In particular , in Section 4 , we will describe some of the observations we have made in an effort to understand what structural properties of these
8
Leskovec et al . large networks are responsible for the phenomena we observe ; and in Section 5 , we will describe some of the results of probing the networks with different approximation algorithms in an effort to be confident that the phenomena we observed really are properties of the networks we study , rather than artifactual properties of the algorithms we chose to use to study those networks . We will follow this in Section 6 with a discussion of complex network generation models . We will see that the commonly used network generation models fail to reproduce the counterintuitive phenomena we observe . We will also see that very sparse random networks reproduce certain aspects of the phenomena , and that a generative model based on an iterative “ forest fire ” burning mechanism reproduces very well the qualitative properties of the phenomena we observe . Finally , in Section 7 we provide a discussion of our results in a broader context , and in Section 8 we present a brief conclusion .
2 Background on communities and overview of our methods
In this section , we will provide background on our data and methods . We will start in Section 2.1 with a description of the network datasets we will analyze . Then , in Section 2.2 , we will review related community detection and graph clustering ideas . Finally , in Section 2.3 , we will provide a brief description of approximation algorithms that we will use . There exist a large number of reviews on topics related to those discussed in this paper . For example , see the reviews on community identification [ 125 , 52 ] , data clustering [ 90 ] , graph and spectral clustering [ 75 , 151 , 143 ] , graph and heavy tailed data analysis [ 126 , 29 , 49 ] , surveys on various aspects of complex networks [ 10 , 55 , 124 , 25 , 51 , 114 , 23 ] , the monographs on spectral graph theory and complex networks [ 33 , 41 ] , and the book on social network analysis [ 152 ] . See Section 7 for a more detailed discussion of the relationship of our work with some of this prior work .
2.1 Social and information network datasets we analyze
We have examined a large number of real world complex networks . See Tables 1 , 2 , and 3 for a summary . For convenience , we have organized the networks into the following categories : Social networks ; Information/citation networks ; Collaboration networks ; Web graphs ; Internet networks ; Bipartite affiliation networks ; Biological networks ; Low dimensional networks ; IMDB networks ; and Amazon networks . We have also examined numerous small social networks that have been used as a testbed for community detection algorithms ( eg , Zachary ’s karate club [ 157 , 5 ] , interactions between dolphins [ 116 , 5 ] , interactions between monks [ 142 , 5 ] , Newman ’s network science network [ 127 , 5 ] , etc. ) , numerous simple network models in which by design there is an underlying geometry ( eg , power grid and road networks [ 153 ] , simple meshes , low dimensional manifolds including graphs corresponding to the well studied “ swiss roll ” data set [ 150 ] , a geometric preferential attachment model [ 70 , 71 ] , etc. ) , several networks that are very good expanders , and many simulated networks generated by commonly used network generation models(eg , preferential attachment models [ 124 ] , copying models [ 101 ] , hierarchical models [ 135 ] , etc )
The class of Social networks in Table 1 is particularly diverse and interesting .
It includes several large on line social networks : a network of professional contacts from LinkedIn ( LinkedIn ) ; a friendship network of a LiveJournal blogging community ( LiveJournal ) ; and a who trusts whom network of Epinions ( Epinions ) . It also includes an email network from Enron ( Email Enron ) and from a large European research organization . For the latter we generated three networks : Email Inside uses only the communication inside organization ; Email InOut also adds external email addresses where email has been sent both way ; and Email All adds all communication inside the organization and to the outside world . Also included in the class of social networks are networks that are not the central focus of the websites from which they come , but which instead serve as a tool for people to share information more easily . For example , we have : the networks of a social bookmarking site Delicious ( Delicious ) ; a Flickr photo sharing website ( Flickr ) ; and a network from Yahoo! Answers question answering website ( Answers ) . In all these networks , a node refers to an individual and an edge is used to indicate that
Network Social networks
Delicious Epinions Flickr LinkedIn LiveJournal01 LiveJournal11 LiveJournal12 Messenger Email All Email InOut Email Inside Email Enron Answers Answers 1 Answers 2 Answers 3 Answers 4 Answers 5 Answers 6
147,567 75,877 404,733 6,946,668 3,766,521 4,145,160 4,843,953 1,878,736 234,352 37,803 986 33,696 488,484 26,971 25,431 45,122 93,971 5,313 290,351
Information ( citation ) networks
Cit Patents Cit hep ph Cit hep th Blog nat05 6m Blog nat06all Post nat05 6m Post nat06all
3,764,105 34,401 27,400 29,150 32,384 238,305 437,305
Collaboration networks
AtA Imdb CA astro ph CA cond mat CA gr qc CA hep ph CA hep th CA DBLP
883,963 17,903 21,363 4,158 11,204 8,638 317,080
N
E
Nb
Eb
¯d
˜d
¯C D
¯D Description
301,921 405,739 2,110,078 30,507,070 30,629,297 34,469,135 42,845,684 4,079,161 383,111 114,199 16,064 180,811 1,240,189 91,812 65,551 165,648 266,199 11,528 613,237
16,511,682 420,784 352,021 182,212 315,713 297,338 565,072
27,473,042 196,972 91,286 13,422 117,619 24,806 1,049,866
0.40 0.48 0.33 0.47 0.78 0.77 0.76 0.53 0.18 0.47 0.90 0.61 0.45 0.56 0.48 0.53 0.49 0.41 0.40
0.82 0.96 0.94 0.74 0.87 0.21 0.22
0.87 0.89 0.81 0.64 0.81 0.68 0.67
0.65 0.90 0.86 0.88 0.97 0.97 0.97 0.78 0.50 0.82 0.99 0.90 0.78 0.87 0.80 0.87 0.82 0.73 0.71
0.96 1.00 0.99 0.96 0.99 0.34 0.38
0.99 0.98 0.93 0.78 0.97 0.85 0.84
4.09 10.69 10.43 8.78 16.26 16.63 17.69 4.34 3.27 6.04 32.58 10.73 5.08 6.81 5.16 7.34 5.67 4.34 4.22
8.77 24.46 25.69 12.50 19.50 2.50 2.58
62.16 22.00 8.55 6.46 21.00 5.74 6.62
48.44 183.88 442.75 351.66 111.24 122.44 170.66 15.40 576.87 165.73 74.66 142.36 251.78 59.17 56.57 417.83 94.48 29.55 57.16
21.34 63.50 106.40 342.51 153.08 39.51 35.54
517.40 65.70 22.47 17.98 130.88 12.99 21.75
0.30 0.26 0.40 0.23 0.36 0.36 0.35 0.09 0.50 0.58 0.45 0.71 0.11 0.08 0.10 0.21 0.08 0.12 0.09
0.09 0.30 0.33 0.24 0.20 0.13 0.11
0.79 0.67 0.70 0.66 0.69 0.58 0.73
24 15 18 23 23 23 20 26 14 8 7 13 22 16 15 15 16 14 22
26 14 15 10 18 45 54
15 14 15 17 13 18 23 delicious collaborative tagging social network
Flickr photo sharing social network [ 100 ] Social network of professional contacts Friendship network of a blogging community [ 20 ] Friendship network of a blogging community [ 20 ] Friendship network of a blogging community [ 20 ] Instant messenger social network
6.28 4.27 Who trusts whom network from epinions.com [ 139 ] 5.42 5.43 5.55 5.61 5.53 7.42 4.07 Research organization email network ( all addresses ) [ 112 ] 3.74 2.60 3.99 5.72 Yahoo Answers social network 4.49 Cluster 1 from Yahoo Answers 4.76 Cluster 2 from Yahoo Answers 3.94 Cluster 3 from Yahoo Answers 4.91 Cluster 4 from Yahoo Answers 4.75 Cluster 5 from Yahoo Answers 5.92 Cluster 6 from Yahoo Answers
( all addresses but email has to be sent both ways ) [ 112 ] ( only emails inside the research organization ) [ 112 ] Enron email dataset [ 99 ]
8.15 Citation network of all US patents [ 111 ] 4.33 Citations between physics ( arxiv hep th ) papers [ 77 ] 4.20 Citations between physics ( arxiv hep ph ) papers [ 77 ] 3.40 Blog citation network ( 6 months of data ) [ 113 ] 3.94 Blog citation network ( 1 year of data ) [ 113 ] 10.34 Blog post citation network ( 6 months ) [ 113 ] 10.48 Blog post citation network ( 1 year ) [ 113 ]
IMDB actor collaboration network from Dec 2007
3.48 4.21 Co authorship in astro ph of arxiv.org [ 111 ] 5.36 Co authorship in cond mat category [ 111 ] 6.10 Co authorship in gr qc category [ 111 ] 4.71 Co authorship in hep ph category [ 111 ] 5.96 Co authorship in hep th category [ 111 ] 6.75 DBLP co authorship network [ 20 ]
Table 1 : Network datasets we analyzed . Statistics of networks we consider : number of nodes N ; number of edges E ; fraction nodes not in whiskers ( size of largest biconnected component ) Nb/N ; fraction of edges in biconnected component Eb/E ; average degree ¯d = 2E/N ; second order average degree ˜d ; average clustering coefficient ¯C ; diameter D ; and average path length ¯D .
C o m m u n i t y s t r u c t u r e i n r e a l g r a p h s
9
. l a t e c e v o k s e L
0 1
Network Web graphs
Web BerkStan Web google Web notredame Web wt10g
Internet networks
As RouteViews As Caida As Skitter As Newman As Oregon Gnutella 25 Gnutella 30 Gnutella 31 eDonkey
Bi partite networks
IpTraffic AtP astro ph AtP cond mat AtP gr qc AtP hep ph AtP hep th AtP DBLP Spending Hw7 Netflix QueryTerms Clickstream
Biological networks
Bio Proteins Bio Yeast Bio YeastP0.001 Bio YeastP0.01
N
E
Nb
Eb
¯d
˜d
¯C
D
¯D Description
319,717 855,802 325,729 1,458,316
6,474 26,389 1,719,037 22,963 13,579 22,663 36,646 62,561 5,792,297
2,250,498 54,498 57,552 14,832 47,832 39,986 615,678 1,831,540 653,260 497,959 13,805,808 199,308
1,542,940 4,291,352 1,090,108 6,225,033
12,572 52,861 12,814,089 48,436 37,448 54,693 88,303 147,878 147,829,887
21,643,497 131,123 104,179 22,266 86,434 64,154 944,456 2,918,920 2,278,448 100,480,507 17,498,668 951,649
4,626 1,458 353 1,266
14,801 1,948 1,517 8,511
0.57 0.75 0.41 0.59
0.62 0.61 0.99 0.65 0.72 0.59 0.55 0.54 0.93
1.00 0.70 0.65 0.47 0.60 0.53 0.49 0.34 0.99 1.00 0.28 0.39
0.72 0.37 0.73 0.79
0.88 0.92 0.76 0.78
0.80 0.81 1.00 0.83 0.90 0.83 0.81 0.81 1.00
1.00 0.87 0.79 0.60 0.76 0.68 0.64 0.58 0.99 1.00 0.41 0.87
0.91 0.51 0.93 0.97
9.65 10.03 6.69 8.54
3.88 4.01 14.91 4.22 5.52 4.83 4.82 4.73 51.04
19.23 4.81 3.62 3.00 3.61 3.21 3.07 3.19 6.98 403.57 2.53 9.55
6.40 2.67 8.59 13.45
1,067.55 170.35 280.68 682.89
164.81 281.93 9,934.01 261.46 235.97 10.75 11.46 11.60 6,139.99
94,889.05 16.67 10.54 9.72 16.80 13.07 13.61 1,536.35 346.85 28,432.89 14.92 430.74
24.25 7.13 20.18 47.73
0.32 0.62 0.47 0.68
0.40 0.33 0.17 0.35 0.46 0.01 0.01 0.01 0.08
0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
0.12 0.14 0.57 0.44
35 24 46 112
5.66 Web graph of Stanford and UC Berkeley [ 97 ] 6.27 Web graph Google released in 2002 [ 3 ] 7.22 Web graph of University of Notre Dame [ 11 ] 8.58 Web graph of TREC WT10G web corpus [ 2 ]
9 17 5 11 9 11 11 11 5
5 28 31 35 27 36 48 26 24 5 86 7
12 19 11 12
3.72 AS from Oregon Exchange BGP Route View [ 111 ] 3.86 CAIDA AS Relationships Dataset 3.44 AS from traceroutes run daily in 2005 by Skitter 3.83 AS graph from Newman [ 5 ] 3.58 Autonomous systems [ 1 ] 5.57 Gnutella network on March 25 2000 [ 140 ] 5.75 Gnutella P2P network on March 30 2000 [ 140 ] 5.94 Gnutella network on March 31 2000 [ 140 ] 3.66
P2P eDonkey graph for a period of 47 hours in 2004
IP traffic graph a single router for 24 hours
2.53 7.78 Authors to papers network of astro ph [ 113 ] 9.96 Authors to papers network of cond mat [ 113 ]
11.08 Authors to papers network of gr qc [ 113 ]
8.55 Authors to papers network of hep ph [ 113 ] 10.74 Authors to papers network of hep th [ 113 ] 12.69 DBLP authors to papers bipartite network
5.62 Users to keywords they bid 6.26 Downsampled advertiser query bid graph 2.31 Users to movies they rated . From Netflix prize [ 4 ]
19.81 Users to queries they submit to a search engine
3.83 Users to URLs they visited [ 123 ]
4.24 Yeast protein interaction network [ 50 ] 6.89 Yeast protein interaction network data [ 91 ] 4.33 Yeast protein protein interaction map [ 132 ] 3.87 Yeast protein protein interaction map [ 132 ]
Table 2 : Network datasets we analyzed . Statistics of networks we consider : number of nodes N ; number of edges E ; fraction nodes not in whiskers ( size of largest biconnected component ) Nb/N ; fraction of edges in biconnected component Eb/E ; average degree ¯d = 2E/N ; second order average degree ˜d ; average clustering coefficient ¯C ; diameter D ; and average path length ¯D .
C o m m u n i t y s t r u c t u r e i n r e a l g r a p h s
Network Nearly low dimensional networks
N
E
Nb
Eb
¯d
˜d
¯C
D
¯D Description
Road CA Road USA Road PA Road TX PowerGrid Mani face7k Mani faces4k Mani faces2k Mani facesK10 Mani facesK3 Mani facesK5 Mani swiss200k Mani swiss100k Mani swiss60k Mani swissK10 Mani swissK5 Mani swissK3
1,957,027 126,146 1,087,562 1,351,137 4,941 696 663 551 698 698 698 20,000 19,990 19,042 20,000 20,000 20,000 IMDB Actor to Movie graphs 2,076,978 198,430 601,481 35,827 21,258 12,999 19,189 15,042 13,783 15,494 42,133 241,360 12,120
AtM Imdb Imdb top30 Imdb raw07 Imdb France Imdb Germany Imdb India Imdb Italy Imdb Japan Imdb Mexico Imdb Spain Imdb UK Imdb USA Imdb WGermany
2,760,388 161,950 1,541,514 1,879,201 6,594 6,979 3,465 1,981 6,935 2,091 3,480 200,000 99,979 57,747 199,955 99,990 59,997
5,847,693 566,756 1,320,616 74,201 42,197 25,836 37,534 34,131 36,986 31,313 82,915 530,494 24,117
Amazon product co purchasing networks
Amazon0302 Amazon0312 Amazon0505 Amazon0601 AmazonAll AmazonAllProd AmazonSrcProd
262,111 400,727 410,236 403,364 473,315 524,371 334,863
899,792 2,349,869 2,439,437 2,443,311 3,505,519 1,491,793 925,872
0.80 0.97 0.79 0.78 0.62 0.98 0.90 0.84 1.00 1.00 1.00 1.00 1.00 0.93 1.00 1.00 1.00
0.49 0.99 0.54 0.51 0.56 0.57 0.55 0.60 0.64 0.51 0.52 0.51 0.56
0.95 0.94 0.94 0.96 0.94 0.80 0.84
0.85 0.98 0.85 0.84 0.69 0.99 0.97 0.94 1.00 1.00 1.00 1.00 1.00 0.96 1.00 1.00 1.00
0.82 1.00 0.79 0.76 0.78 0.78 0.77 0.82 0.86 0.76 0.76 0.78 0.78
0.97 0.99 0.99 0.99 0.99 0.91 0.91
2.82 2.57 2.83 2.78 2.67 20.05 10.45 7.19 19.87 5.99 9.97 20.00 10.00 6.07 20.00 10.00 6.00
5.63 5.71 4.39 4.14 3.97 3.98 3.91 4.54 5.37 4.04 3.94 4.40 3.98
6.87 11.73 11.89 12.11 14.81 5.69 5.53
3.17 2.81 3.20 3.15 3.87 37.99 20.20 12.77 25.32 7.98 12.91 21.08 11.02 7.03 25.38 12.89 7.88
65.41 18.19 20.94 14.62 13.69 31.55 11.66 16.98 24.15 14.22 15.14 25.25 11.73
11.14 30.33 30.93 30.55 52.70 11.75 11.53
0.06 0.03 0.06 0.06 0.11 0.56 0.56 0.54 0.51 0.45 0.48 0.59 0.59 0.59 0.56 0.54 0.50
0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
0.43 0.42 0.43 0.43 0.41 0.35 0.43
865 617 794 1,064 46 16 29 32 6 9 7 103 162 243 10 13 17
32 26 32 20 34 19 30 19 19 28 23 30 22
38 20 22 25 19 42 47
310.97 California road network 218.55 USA road network ( only main roads ) 306.89 418.73 Texas road network
Pennsylvania road network
19.07 5.52 8.96 11.07 3.25 4.89 4.03 37.21 58.32 89.15 5.47 8.34 6.89
Power grid of Western States Power Grid [ 153 ] Faces ( 64x64 grayscale images ) ( connect 7k closest pairs ) Faces ( connect 4k closest pairs ) Faces ( connect 2k closest pairs ) Faces ( connect every to 10 nearest neighbors ) Faces ( connect every to 5 nearest neighbors ) Faces ( connect every to 3 nearest neighbors ) Swiss roll ( connect 200k nearest pairs of nodes ) Swiss roll ( connect 100k nearest pairs of nodes ) Swiss roll ( connect 60k nearest pairs of nodes ) Swiss roll ( every node connects to 10 nearest neighbors ) Swiss roll ( every node connects to 5 nearest neighbors ) Swiss roll ( every node connects to 3 nearest neighbors )
6.82 Actors to movies graph from IMDB ( imdb.com ) 8.32 Actors to movies graph heavily preprocessed 8.55 Country clusters were extracted from this graph 6.57 Cluster of French movies 7.47 German movies ( to actors that played in them ) Indian movies 6.00 Italian movies 6.91 6.81 Japanese movies 5.43 Mexican movies 6.44 Spanish movies 7.04 UK movies 7.63 USA movies 6.26 West German movies
8.85 Amazon products from 2003 03 02 [ 48 ] 6.46 Amazon products from 2003 03 12 [ 48 ] 6.48 Amazon products from 2003 05 05 [ 48 ] 6.42 Amazon products from 2003 06 01 [ 48 ] 5.66 Amazon products ( all 4 graphs merged ) [ 48 ] Products ( all products , source+target ) [ 108 ] Products ( only source products ) [ 108 ]
11.18 12.11
Table 3 : Network datasets we analyzed . Statistics of networks we consider : number of nodes N ; number of edges E ; fraction nodes not in whiskers ( size of largest biconnected component ) Nb/N ; fraction of edges in biconnected component Eb/E ; average degree ¯d = 2E/N ; second order average degree ˜d ; average clustering coefficient ¯C ; diameter D ; and average path length ¯D .
1 1
12
Leskovec et al . means that one person has some sort of interaction with another person , eg , one person subscribes to their neighbor ’s bookmarks or photos , or answers their questions .
The class of Information/citation networks contains several different citation networks . It contains two citation networks of physics papers on arxiv.org , ( Cit hep th and Cit hep ph ) , and a network of citations of US patents ( Cit Patents ) . ( These paper to paper citation networks are to be distinguished from scientific collaboration networks and author to paper bipartite networks , as described below . ) It also contains two types of blog citation networks . In the so called post networks , nodes are posts and edges represent hyperlinks between blog posts ( Post Nat05 6m and Post Nat06all ) . On the other hand , the so called blog network is the blog level aggregation of the same data , ie , there is a link between two blogs if there is a post in first that links the post in a second blog ( Blog Nat05 6m and Blog Nat06all ) .
The class of collaboration networks contain academic collaboration ( ie , co authorship ) networks between physicists from various categories in arxiv.org ( CA astro ph , etc . ) and between authors in computer science ( CA DBLP ) . It also contains a network of collaborations between pairs of actors in IMDB ( AtA Imdb ) , ie , there is an edge connecting a pair of actors if they appeared in the same movie . ( Again , this should be distinguished from actor to movie bipartite networks , as described below . ) The class of Web graph networks includes four different web graphs in which nodes represent web pages and edges represent hyperlinks between those pages . Networks were obtained from Google ( Web Google ) , the University of Notre Dame ( Web Notredame ) , TREC ( Web wt10g ) , and Stanford University ( Web BerkStan ) . The class of Internet networks consists of various autonomous systems networks obtained at different sources , as well as a Gnutella and eDonkey peer to peer file sharing networks .
The class of Bipartite networks is particularly diverse and includes : authors to papers graphs from both computer science ( AtP DBLP ) and physics ( AtP Astrop ph , etc. ) ; a network representing users and the URLs they visited ( Clickstream ) ; a network representing users and the movies they rated ( Netflix ) ; and a users to queries network representing query terms that users typed into a search engine ( QueryTerms ) . ( We also have analyzed several bipartite actors to movies networks extracted from the IMDB database , which we have listed separately below . )
The class of Biological networks include protein protein interaction networks of yeast obtained from various sources . The class of Low dimensional networks consists of graphs constructed from road ( RoadCA , etc . ) or power grid ( PowerGrid ) connections and as such might be expected to “ live ” on a twodimensional surface in a way that all of the other networks do not . We also added a “ swiss roll ” network , a 2 dimensional manifold embedded in 3 dimensions , and a “ Faces ” dataset where each point is an 64 by 64 gray scale image of a face ( embedded in 4 , 096 dimensional space ) and where we connected the faces that were most similar ( using the Euclidean distance ) . Finally , we networks from IMDB , Amazon , and Yahoo! Answers , and for each of these we have separately analyzed subnetworks . The IMDB networks consist of actor to movie links , and we include the full network as well as subnetworks associated with individual countries based on the country of production . For the Amazon networks , recall that Amazon sells a variety of products , and for each item A one may compile the list the up to ten other items most frequently purchased by buyers of A . This information can be presented as a directed network in which vertices represent items and there is a edge from item A to another item B if B was frequently purchased by buyers of A . We consider the network as undirected . We use five networks from a study of Clauset et al . [ 48 ] , and two networks from the viral marketing study from Leskovec et al . [ 108 ] . Finally , for the Yahoo! Answers networks , we observe several deep cuts at large size scales , and so in addition the the full network , we analyze the top six most well connected subnetworks .
In addition to providing a brief description of the network , Tables 1 , 2 and 3 show the number of nodes and edges in each network , as well as other statistics which will be described in Section 41 ( In all cases , we consider the network as undirected , and we extract and analyze the largest connected component . ) The sizes of these networks range from about 5 , 000 nodes up to nearly 14 million nodes , and from about 6 , 000 edges up to more than 100 million edges . All of the networks are quite sparse—their densities range
Community structure in real graphs
13 from an average degree of about 2.5 for the blog post network , up to an average degree of about 400 in the network of movie ratings from Netflix , and most of the other networks , including the purely social networks , have average degree around 10 ( median average degree of 6 ) . In many cases , we examined several versions of a given network . For example , we considered the entire IMDB actor to movie network , as well as sub pieces of it corresponding to different language and country groups . Detailed statistics for all these networks are presented in Tables 1 , 2 and 3 and are described in Section 4 . ( We will make available all of the publicly available networks via a link from the first author ’s web page . ) In total , we have examined over 100 different networks , including over 70 large real world social and information networks , making this , to our knowledge , the largest and most comprehensive study of such networks .
2.2 Clusters and communities in networks
Hierarchical clustering is a common approach to community identification in the social sciences [ 152 ] , but it has also found application more generally [ 79 , 89 ] . In this procedure , one first defines a distance metric between pairs of nodes and then produces a tree ( in either a bottom up or a top down manner ) describing how nodes group into communities and how these group further into super communities . A quite different approach that has received a great deal of attention ( and that will be central to our analysis ) is based on ideas from graph partitioning [ 143 , 26 ] . In this case , the network is a modeled as simple undirected graph , where nodes and edges have no attributes , and a partition of the graph is determined by optimizing a merit function . The graph partitioning problem is find some number k groups of nodes , generally with roughly equal size , such that the number of edges between the groups , perhaps normalized in some way , is minimized .
If G = ( V , E ) denotes a graph , then the conductance φ of a set of nodes S ⊂ V , ( where S is assumed to contain no more than half of all the nodes ) , is defined as follows . Let v be the sum of degrees of nodes in S , and let s be the number of edges with one endpoint in S and one endpoint in S , where S denotes the complement of S . Then , the conductance of S is φ = s/v , or equivalently φ = s/(s + 2e ) , where e is the number of edges with both endpoints is S . More formally , if A is the adjacency matrix of the graph G , then : where A(S ) = Pi∈S Pj∈V Aij , in which case the conductance of the graph G is
Thus , the conductance of a set provides a measure for the quality of the cut ( S , S ) , or relatedly the goodness of a community S.1 Indeed , it is often noted that communities should be thought of as sets of nodes with more and/or better intra connections than inter connections ; see Figure 2 for an illustration . When interested in detecting communities and evaluating their quality , we prefer sets with small conductances , ie , sets that are densely linked inside and sparsely linked to the outside . Although numerous measures have been proposed for how community like is a set of nodes , it is commonly noted—eg , see Shi and Malik [ 144 ] and Kannan , Vempala , and Vetta [ 92]—that conductance captures the “ gestalt ” notion of clustering [ 158 ] , and as such it has been widely used for graph clustering and community detection [ 75 , 151 , 143 ] .
There are many other density based measures that have been used to partition a graph into a set of communities [ 75 , 151 , 143 ] . One that deserves particular mention is modularity [ 129 , 128 ] . For a
1Throughout this paper we consistently use shorthand phrases like “ this piece has good conductance ” to mean “ this piece is separated from the rest of the graph by a low conductance cut . ” We note that in other contexts such a phrase could have a very different meaning , namely “ all cuts inside this piece have high conductance scores , ” which actually seems like a more direct translation of the phrase ’s actual words , but that is almost never what we mean in this paper .
φ(S ) = Pi∈S,j /∈S Aij min{A(S ) , A(S)}
φG = min S⊂V
φ(S ) .
( 6 )
( 7 )
14
Leskovec et al .
( a ) Three communities
( b ) Conductance bottleneck
Figure 2 : ( a ) Caricature of the traditional view of communities as being sets of nodes with more and/or better intra connections than inter connections . ( b ) A graph with its minimum conductance bottleneck illustrated . given partition of a network into a set of communities , modularity measures the number of withincommunity edges , relative to a null model that is usually taken to be a random graph with the same degree distribution . Thus , modularity was originally introduced and it typically used to measure the strength or quality of a particular partition of a network . We , however , are interested in a quite different question than those that motivated the introduction of modularity . Rather than seeking to partition a graph into the “ best ” possible partition of communities , we would like to know good is a particular element of that partition , ie , how community like are the best possible communities that modularity or any other merit function can hope to find .
2.3 Approximation algorithms for finding low conductance cuts
In addition to capturing very well our intuitive notion of what it means for a set of nodes to be a good community , the use of conductance as an objective function has an added benefit : there exists an extensive theoretical and practical literature on methods for approximately optimizing it . ( Finding cuts with exactly minimal conductance is NP hard . ) In particular , the theory literature contains several algorithms with provable approximation performance guarantees . First , there is the spectral method , which uses an eigenvector of the graph ’s Laplacian matrix to find a cut whose conductance is no bigger than φ if the graph actually contains a cut with conductance O(φ2 ) [ 31 , 54 , 65 , 120 , 33 ] . The spectral method also produces lower bounds which can show that the solution for a given graph is closer to optimal than promised by the worst case guarantee . Second , there is an algorithm that uses multicommodity flow to find a cut whose conductance is within an O(log n ) factor of optimal [ 106 , 107 ] . Spectral and multi commodity flow based methods are complementary in that the worst case O(log n ) approximation factor is obtained for flow based methods on expander graphs [ 106 , 107 ] , a class of graphs which does not cause problems for spectral methods , whereas spectral methods can confuse long path with deep cuts [ 83 , 146 ] , a difference that does not cause problems for flow based methods . Third , and very recently , there exists an algorithm that uses semidefinite programming to find a solution that is within O(√log n ) of optimal [ 17 ] . This paper sparked a flurry of theoretical research on a family of closely related algorithms including [ 15 , 98 , 16 ] , all of which can be informally described as combinations of spectral and flow based techniques which exploit their complementary strengths . However , none of those algorithms are currently practical enough to use in our study .
Community structure in real graphs
15
Of the above three theoretical algorithms , the spectral method is by far the most practical . Also very common are recursive bisection heuristics : recursively divide the graph into two groups , and then further subdivide the new groups until the desired number of clusters groups is achieved . This may be combined with local improvement methods like the Kernighan Lin and Fiduccia Mattheyses procedures [ 96 , 64 ] , which are fast and can climb out of some local minima . The latter was combined with a multi resolution framework to create Metis [ 94 , 95 ] , a very fast program intended to split mesh like graphs into equal sized pieces . The authors of Metis later created Cluto [ 159 ] , which is better tuned for clustering type tasks . Finally we mention Graclus [ 53 ] , which uses multi resolution techniques and kernel k means to optimize a metric that is closely related to conductance .
While the preceding were all approximate algorithms for finding the lowest conductance cut in a whole graph , we now mention MQI [ 76 , 105 ] , an exact algorithm for the slightly different problem of finding the lowest conductance cut in half of a graph . This algorithm can be combined with a good method for initially splitting the graph into two pieces ( such as Metis or the Spectral method ) to obtain a surprisingly strong heuristic method for finding low conductance cuts in the whole graph [ 105 ] . The exactness of the second optimization step frequently results in cuts with extremely low conductance scores , as will be visible in many of our plots . MQI can be implemented by solving single parametric max flow problems , or sequences of ordinary max flow problems . Parametric max flow ( with MQI described as one of the applications ) was introduced by [ 76 ] , and recent empirical work is described in [ 18 ] , but currently there is no publically available code that scales to the sizes we need . Ordinary max flow is a very thoroughly studied problem . Currently , the best theoretical time bounds are [ 81 ] , the most practical algorithm is [ 82 ] , while the best implementation is hi pr by [ 32 ] . Since Metis+MQI using the hi pr code is very fast and scalable , while the method empirically seems to usually find the lowest or nearly lowest conductance cuts in a wide variety of graphs , we have used it extensively in this study .
We will also extensively use Local Spectral Algorithm of Andersen , Chung , and Lang [ 13 ] to find node sets of low conductance , ie , good communities , around a seed node . This algorithm is also very fast , and it can be successfully applied to very large graphs to obtain more “ well rounded ” or ‘regularized ” communities than those returned by Meits+MQI . The latter observation ( described in more detail in Section 5 ) is since local spectral methods also confuse long paths ( which tend to occur in our very sparse network datasets ) with deep cuts . This algorithm takes as input two parameters—the seed node and a parameter ǫ that intuitively controls the locality of the computation—and it outputs a set of nodes . Local spectral methods were introduced by Spielman and Teng [ 147 , 13 ] , and they have roughly the same kind of quadratic approximation guarantees as the global spectral method , but they have computational cost is proportional to the size of the obtained piece [ 34 , 36 , 35 ] .
3 The Network Community Profile Plot
In this section , we discuss the network community profile plot ( NCP plot ) , which measures the quality of network communities at different size scales . We start in Section 3.1 by introducing it . Then , in Section 3.2 , we present the NCP plot for several examples of networks which inform peoples’ intuition and for which the NCP plot behaves in a characteristic manner . Then , in Sections 3.3 and 3.4 we present the NCP plot for a wide range of large real world social and information networks . We will see that in such networks the NCP plot behaves in a qualitatively different manner .
3.1 Definitions for the network community profile plot
In order to resolve more finely community structure in large networks , we introduce the network community profile plot ( NCP plot ) . Intuitively , the NCP plot measures the quality of the best possible community in a large network , as a function of the size of the purported community . Formally , we may define it as the conductance value of the best conductance set of cardinality k in the entire network , as
16 a function of k . That is ,
Leskovec et al .
Φ(k ) = min
S⊂V,|S|=k
φ(S ) .
( 8 ) where |S| denotes the cardinality of the set S and where the conductance φ(S ) of S is given by ( 6 ) . Since this quantity is intractable to compute , we will employ well studied approximation algorithms for the Minimum Conductance Cut Problem to approximate it . Thus , operationally we will use several natural heuristics based on approximation algorithms to do graph partitioning in order to compute different approximations to the NCP plot . Although other procedures will be described in Section 5 , we will primarily employ two procedures : first , Metis+MQI , ie , the graph partitioning package Metis [ 94 ] followed by the flow based MQI post processing procedure MQI [ 105 ] , which taken together returns sets that have very good conductance values ; and second , the Local Spectral Algorithm of Andersen , Chung , and Lang [ 13 ] , which returns sets that are somewhat “ regularized ” but that often have worse conductance values .
Just as the conductance of a set of nodes provides a quality measure of that set as a community , the shape of the NCP plot provides insight into the community structure of a graph . For example , the magnitude of the conductance tells us how well clusters of different sizes are separated from the rest of the network . One might hope to obtain some sort of “ smoothed ” measure of the notion of the best community of size k , eg , by considering a 95 th percentile , rather than a minimum . We have not defined such a measure since there is no obvious way to average over all subsets of size k and obtain a meaningful approximation to the minimum . On the other hand , our approximation algorithm methodology implicitly incorporates such an effect : although Metis+MQI finds sets of nodes with extremely good conductance value , empirically we observe that they often have little or no internal structure—they can even be disconnected ; on the other hand , since spectral methods in general tend to confuse long paths with deep cuts [ 146 , 83 ] , the Local Spectral Algorithm finds sets that are “ tighter ” and more “ well rounded ” and thus in many ways more community like . ( See Sections 2.3 and 5 for details on these algorithmic issues and interpretations . )
3.2 Community profile plots for expander , low dimensional , and small social networks
The NCP plot behaves in a characteristic manner for graphs that are “ well embeddable ” into an underlying low dimensional geometric structure . To illustrate this , consider Figure 3 . In Figure 3(a ) , we show the results for a 1 dimensional chain , a 2 dimensional grid , and a 3 dimensional cube . In each case , the NCP plot is steadily downward sloping as a function of the number of nodes in the smaller cluster . Moreover , the curves are straight lines with a slope equal to −1/d , where d is the dimensionality of the underlying grids . In particular , as the underlying dimension increases then the slope of the NCP plot gets less steep . Thus , if the network under consideration corresponds to a d dimensional grid , then the NCP plot shows that
1 d
−
= log(φ(k ) ) log(k )
.
( 9 )
Of course , this is simply a manifestation of the isoperimetric ( ie , surface area to volume ) phenomenon : for a grid , the “ best ” cut is obtained by cutting out a set of adjacent nodes , in which case the surface area ( number of edges cut ) increases as O(md−1 ) , while the volume ( number of vertices ( edges ) inside the cluster ) increases as O(md ) .
This qualitative phenomenon of a steadily downward sloping NCP plot is quite robust for networks that “ live ” in a low dimensional structure , eg , on a manifold or the surface of the earth . For example , Figure 3(b ) shows the NCP plot for a power grid network of Western States Power Grid [ 153 ] , and Figure 3(c ) shows the NCP plot for a road network of California . These two networks have very different sizes—the power grid network has 4 , 941 nodes and 6 , 594 edges , and the road network has 1 , 957 , 027 nodes
Community structure in real graphs
17
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
Clique , 1/d≈0
Cube , 1/d≈ .33
Grid , 1/d≈ .50
Chain , 1/d≈ 1.0
101
102
103
104
105
106 n ( number of nodes in the cluster )
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
101
102
103
104 n ( number of nodes in the cluster )
( a ) Several low dimensional meshes .
( b ) PowerGrid
100
10 1
10 2
10 3
10 4
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
10 5
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 2
100
101
102
103
104 n ( number of nodes in the cluster )
( c ) RoadNet CA
( d ) Manifold
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
101
Average degree 4 Average degree 6 Average degree 8 103
102
104 n ( number of nodes in the cluster )
( e ) Expander : dense Gnm graph
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
Degree 4 expander Degree 6 expander Degree 8 expander
101
102
103
104
105 n ( number of nodes in the cluster )
( f ) Expander : union of matchings
Figure 3 : Network community profile plots for expander like graphs and several networks that “ live ” in lowdimensional spaces . ( 3(a ) ) A large clique graph , a cube ( 3d mesh ) , a grid ( 2d mesh ) and a chain ( line ) . Note that the slope of community profile plot directly corresponds to dimensionality of the graph . ( 3(b ) ) and ( 3(c ) ) Two networks on the Earth ’s surface and thus that are reasonably well embeddable in two dimensions . ( 3(d ) ) A 2d “ swiss roll ” manifold embedded in 3 dimensions , where every we connected every point to 10 nearest neighbors . ( 3(e ) ) and ( 3(f ) ) Two networks that are very good expanders .
18
Leskovec et al . and 2 , 760 , 388 edges—and they arise in very different application domains . In both cases , however , we see predominantly downward sloping NCP plot , very much similar to the profile of a simple 2 dimensional grid . Indeed , the “ best fit ” line for power grid gives the slope of ≈ −0.45 , which by ( 9 ) suggests that d ≈ 2.2 , which is not far from the “ true ” dimensionality of 2 . Moreover , empirically we observe that minima in the NCP plot correspond to community like sets , which are occasionally nested . For example , the nodes giving the dip at k = 19 are included in the nodes giving the dip at k = 883 , while dips at k = 94 and k = 105 are both included in the dip at k = 262 . Similarly , Figure 3(d ) shows the profile plot for a graph generated from a “ swiss roll ” dataset which is commonly examined in the manifold and machine learning literature [ 150 ] . In this case , we still observe a downward sloping NCP plot . Finally , Figures 3(e ) and 3(f ) show NCP plots for two graphs that are very good expanders . The first is a Gnm graph with 100 , 000 nodes and a number of edges such that the average degree is 4 , 6 , and 8 . The second is a constant degree expander : to make one with degree d , we take the union of d disjoint but otherwise random complete matchings , and we have plotted the results for d = 4 , 6 , 8 . In both of these cases , the NCP plot is roughly flat , which we also observed in Figure 3(a ) for a clique , which is to be expected since the minimum conductance cut in the entire graph cannot be too small for a good expander [ 87 ] .
Interestingly , a steadily decreasing downward NCP plot is also seen for small social networks that have been extensively studied in validating community detection algorithms . Several examples are shown in Figures 4 . For these networks , the interpretation is similar to that for the low dimensional networks : the downward slope indicates that as potential communities get larger and larger , there are relatively more intra edges than inter edges ; and empirically we observe that local minima in the NCP plot correspond to sets of nodes that are plausible communities . Consider , eg , Zachary ’s karate club [ 157 ] , an extensivelyanalyzed social network [ 125 , 128 , 93 ] . The network has 34 nodes , each of which represents a member of a karate club , and 78 edges , each of which represent a friendship tie between two members . Figure 4(a ) depicts the karate club network , and Figure 4(b ) shows its NCP plot . There are two local minima in the plot : the first dip at k = 5 corresponds to the Cut A , and the second dip at k = 17 corresponds to Cut B . Note that Cut B , which separates the graph roughly in half , has better conductance value than Cut A . This corresponds with the intuition about the NCP plot derived from studying low dimensional graphs . Note also that the karate network corresponds well with the intuitive notion of a community , where nodes of the community are densely linked among themselves and there are few edges between nodes of different communities .
In a similar manner : Figure 4(c ) shows a social network ( with 62 nodes and 159 edges ) of interactions within a group of dolphins [ 5 ] ( as originally studied by Lusseau [ 116] ) ; Figure 4(e ) shows a social network of monks ( with 18 nodes representing individual monks and 41 edges representing social ties between pairs of monks ) in a cloister [ 5 ] ( as originally studied by Sampson [ 142] ) ; and Figure 4(g ) depicts Newman ’s network ( with 914 collaborations between 379 researchers ) of scientists who conduct research on networks [ 129 , 127 ] . For each network , the NCP plot exhibits a downward trend and local minima at cluster sizes that correspond to plausible communities in the networks : the minimum for the dolphins network ( Figure 4(d ) ) corresponds to the separation of the network into two communities denoted with different shape and color of the nodes ( gray circles versus red squares ) ; the minima of the monk network ( Figure 4(f ) ) corresponds to the split of 7 Turks ( red squares ) and the so called loyal opposition ( gray circles ) [ 142 ] ; and empirically both local minima and the global minimum in the network science network ( Figure 4(h ) ) correspond to plausible communities . Note that in the last case , the figure also displays hierarchical structure in which case the community defined by Cut C is included in a larger community that has better conductance value .
At this point , we can observe that the following two general observations hold for networks that are well embeddable in a low dimensional space and also for small social networks that have been extensively studied and used to validate community detection algorithms . First , minima in the NCP plots , ie , the best low conductance cuts of a given size , correspond to sets of nodes that we might meaningfully want to interpret as communities . Second , the NCP plots are generally relatively gradually sloping downwards ,
Community structure in real graphs
19
1
) e c n a t c u d n o c (
ϕ cut A cut A+B
( a ) Zachary ’s karate club network . . .
0.1
1
10 n ( number of nodes in the cluster )
( b ) . . . and it ’s community profile plot
1
0.1
) e c n a t c u d n o c (
ϕ
( c ) Dolphins social network . . .
0.01
1 cut
10
100 n ( number of nodes in the cluster )
( d ) . . . and it ’s community profile plot
) e c n a t c u d n o c (
ϕ
1
0.1
1 cut
10
( e ) Monks social network . . . n ( number of nodes in the cluster )
( f ) . . . and it ’s community profile plot
) e c n a t c u d n o c (
ϕ
1
0.1
0.01
0.001
1
A
B
C
D C+E
10
100
( g ) Network science network . . . n ( number of nodes in the cluster )
( h ) . . . and it ’s community profile plot
Figure 4 : Depiction of several small social networks that are common test sets for community detection algorithms and their network community profile plots . ( 4(a)–4(b ) ) Zachary ’s karate club network . ( 4(c)–4(d ) ) A network of dolphins . ( 4(e)–4(f ) ) A network of monks . ( 4(g)–4(h ) ) A network of researchers researching networks .
20
Leskovec et al . meaning that smaller communities can be combined into larger sets of nodes that can also be meaningfully interpreted as communities .
3.3 Community profile plots for large social and information networks
We have examined NCP plots for each of the networks listed in Tables 1 , 2 and 3 . In Figure 5 , we present NCP plots for six of these networks . ( These particular networks were chosen to be representative of the wide range of networks we have examined , and for ease of comparison we will compute other properties for them in future sections . See Figures 6 , 7 , and 8 in Section 3.4 for the NCP plots of other networks listed in Tables 1 , 2 and 3 , and for a discussion of them . ) The most striking feature of these plots is that the NCP plot is steadily increasing for nearly its entire range .
Consider , first , the NCP plot for the LiveJournal1 social network , as shown in Figure 5(a ) , and focus first on the red curve , which presents the results of applying the Local Spectral Algorithm.2 Up to a size scale , which empirically is roughly 100 nodes , the slope of the NCP plot is generally sloping downward . At that size scale , we observe the global minimum of the NCP plot . This set of nodes as well as others achieving local minima of the NCP plot in the same size range are the “ best ” communities , according to the conductance measure , in the entire graph . Moreover , they are barely connected to the rest of the graph , eg , they are typically connected to the rest of the nodes by 1 ( or 2 , or perhaps 3—we will return to this issue in Section 4 ) edge . Above the size scale of roughly 100 nodes , the NCP plot gradually increases over several orders of magnitude . The “ best ” communities in the entire graph are quite good ( in that they have size roughly 102 nodes and conductance scores less than 10−3 ) whereas the “ best ” communities of size 105 or 106 have conductance scores of about 10−1 . In between these two size extremes , the conductance scores get gradually worse , although there are numerous local dips and even one relatively large dip between 105 and 106 nodes . ( The green curve plots the results of Metis+MQI , and the blue curve plots the results of applying the Bag of Whiskers Heuristic , as described in Section 43 These procedures will be discussed in detail in Sections 4 and 5 . ) Note that both axes in Figure 5 are logarithmic , and thus the upward trend of the NCP plot is over a wide range of size scales .
The black curve in Figure 5(a ) plots the results of the Local Spectral Algorithm applied to a rewired version of the LiveJournal1 network , ie , to a random graph conditioned on the same degree distribution as the original network . ( We obtain such random graph by starting with the original network and then randomly selecting pairs of edges and rewiring the endpoints . By doing the rewiring long enough , we obtain a random graph that has the same degree sequence as the original network [ 119 ] . Empirically , we observe reasonably rapid convergence . ) Interestingly , the rewired network also has an initially decreasing and then increasing NCP plot ( an issue which we will revisit in Section 6 ) . Several things should be noted . First , the original LiveJournal1 network has considerably more structure , ie , deeper/better cuts , than its rewired version , even up to the largest size scales . That is , we observe significantly more structure than would be seen , for example , in an expander like random graph on the same degree sequence . Second , relative to the original network , the “ best ” community in the rewired graph , ie , the global minimum of the conductance curve , shifts upward and towards the left . This means that in rewired networks the best conductance clusters get smaller and have worse conductance scores . Third , the sets at and near the minimum are small trees that are connected to the core of the random graph by a single
2The algorithm takes as input two parameters—the seed node and the parameter ǫ that intuitively controls the locality of the computation—and it outputs a set of nodes . For a given seed node and resolution parameter ǫ we obtain a local community profile plot , which tells us about conductance of cuts in vicinity of the seed node . By taking the lower envelope over community profiles of different seed nodes and ǫ values we obtain the global network community profile plot . For our experiments , we typically considered , eg , 50 different values of ǫ . Since very local random walks discover small clusters , in this case we considered every node as a seed node . As we examine larger clusters , the random walk computation spreads farther away from the seed node , in which case the exact choice of seed node becomes less important . Thus , in this case , we sampled fewer seed nodes . Additionally , in our experiments , for each value of ǫ we randomly sampled nodes until each node in the network was visited by random walks starting from , eg , 10 different seed nodes on average .
Community structure in real graphs
21
100
10 1
10 2
10 3
) e c n a t c u d n o c (
ϕ
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 4
100 101 102 103 104 105 106 107
10 3
100 n ( number of nodes in the cluster )
( a ) LiveJournal1
101
102
103
104
105 n ( number of nodes in the cluster )
( b ) Epinions
100
10 1
) e c n a t c u d n o c (
ϕ
100
10 1
10 2
10 3
) e c n a t c u d n o c (
ϕ
10 2
100
101
102
103
104
105 n ( number of nodes in the cluster )
( c ) Cit hep th
10 4
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
( d ) Web Google
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
10 3
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
( e ) Atp DBLP
10 2
100
101
102
103
104
105 n ( number of nodes in the cluster )
( f ) Gnutella
Figure 5 : [ Best viewed in color . ] Network community profile plots for a representative sample of large networks listed in Tables 1 , 2 and 3 . The red curves plot the results of the Local Spectral Algorithm on the specified network ; green curves plot the results of Metis+MQI ; blue curves plot the results of the Bag of Whiskers Heuristic ; and black curves plot the results of the Local Spectral Algorithm applied to a randomly rewired version of the same network . Notice that in all cases the “ best ” communities are quite small ( typically between 10 and 100 nodes ) and that the network community profile plot steadily increases for nearly its entire range . See Figures 6 , 7 , and 8 for the NCP plots of other networks .
22
Leskovec et al . edge . Fourth , after the small dip at a very small size scale ( ≈ 10 nodes ) , the NCP plot increases to a high level rather quickly . This is due to the absence of structure in the core . Finally , note that the variance in the rewired version of the NCP plot ( data not shown ) is not much larger than the width of the curve in the figure .
We have observed qualitatively similar results in nearly every large social and information network we have examined . For example , several additional examples are presented in Figure 5 : another network from the class of social networks ( Epinions , in Figure 5(b) ) ; an information/citation network ( Cit hep th , in Figure 5(c) ) ; a Web graph ( Web Google , in Figure 5(d) ) ; a Bipartite affiliation network ( AtpDBLP , in Figure 5(e) ) ; and an Internet network ( Gnutella , in Figure 5(f) ) . Qualitative observations are consistent across the range of network sizes , densities and different domains from which the networks are drawn . Of course , these six networks are very different than each other—some of these differences are hidden due to the definition of the NCP plot , whereas others are evident . Perhaps the most obvious example of the latter is that even the best cuts in Gnutella are not significantly smaller or deeper than in the corresponding rewired network , whereas for Web Google we observe cuts that are orders of magnitude deeper .
Intuitively , the upward trend in the NCP plot means that separating large clusters from the rest of the network is especially expensive . It suggests that that larger and larger clusters are “ blended in ” more and more with the rest of the network . The interpretation we draw , based on these data and data presented in subsequent sections is that , if a density based concept such as conductance captures our intuitive notion of community goodness and if we model large networks with interaction graphs , then the best possible communities get less and less community like as they grow in size .
3.4 More community profile plots for large social and information networks
Figures 6 , 7 and 8 show additional examples of NCP plots for networks from Tables 1 , 2 and 3 . In the first two rows of Figure 6 , we have several examples of purely Social networks and two email networks , in the third row we have patent and blog Information/citation networks , and in the final row we have three examples of actor and author Collaboration networks . In Figure 7 , we see three examples each of Web graphs , Internet networks , Bipartite affiliation networks , and Biological networks . Finally , in the first row of Figure 8 , we see Low dimensional networks , including two road and a manifold network ; in the second row , we have an IMDB Actor to Movie graphs and two subgraphs induced by restricting to individual countries ; in the third row , we see three Amazon product co purchasing networks ; and in the final row we see a Yahoo! Answers networks and two subgraphs that are large good conductance cuts from the full network .
For most of these networks , the same four versions of the NCP plot are plotted that were presented in Figure 5 . Note that , as before , the scale of the vertical axis in these graphs is not all the same ; the minima range from 10−2 to 10−5 . These network datasets are drawn from a wide range of areas , and these graphs contain a wealth of information , a full analysis of which is well beyond the scope of the paper . Note , however , that the general trends we discussed in Section 3.3 still manifest themselves in nearly every network .
The Imdb raw07 network is interesting in that its NCP plot does not increase much ( at least not the version computed by the Local Spectral Algorithm ) and we clearly observe large sets with good conductance values . Upon examination , many of the large good conductance cuts seem to be associated with different language groups . Two things should be noted . First , and not surprisingly , in this network and others , we have observed that there is some sensitivity to how the data are prepared . For example , we obtain somewhat stronger communities if ambiguous nodes ( and there are a lot of ambiguous nodes in network datasets with millions of nodes ) are removed than if , eg , they are assigned to a country based on a voting mechanism of some other heuristic . A full analysis of these data preparation issues is beyond the scope of this paper , but our overall conclusions seem to hold independent of the preparation details . Second , if we examine individual countries—two representative examples are shown—then we
Community structure in real graphs
23
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
Social networks
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
100
10 1
10 2
10 3
) e c n a t c u d n o c (
ϕ
10 3
100 101 102 103 104 105 106 107 n ( number of nodes in the cluster )
10 3
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 4
100
101
102
103
104
105 n ( number of nodes in the cluster )
LinkedIn
Messenger
Delicious
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
10 3
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 2
100
Flickr
101
102
103
104
105 n ( number of nodes in the cluster )
EMail InOut
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
101
102
103
104
105 n ( number of nodes in the cluster )
Email enron
Information networks ( citation and blog networks )
100
10 1
) e c n a t c u d n o c (
ϕ
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 2
100 101 102 103 104 105 106 107 n ( number of nodes in the cluster )
10 3
100
Patents
101
102
103
104
105 n ( number of nodes in the cluster ) Blog nat06all
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
Collaboration networks 100
) e c n a t c u d n o c (
ϕ
10 1
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
101
102
103
104
105
106 n ( number of nodes in the cluster ) Post nat06all
10 3
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 2
100
AtA Imdb
101
102
103
104
105 n ( number of nodes in the cluster )
CA astro ph
10 3
100
101
102
103
104
105 n ( number of nodes in the cluster )
CA hep ph
Figure 6 : [ Best viewed in color . ] Community profile plots of networks from Table 1 . Color coding is as in Figure 5 ; in particular , red curve plots the results of the Local Spectral Algorithm .
24
100
10 1
10 2
10 3
) e c n a t c u d n o c (
ϕ
Leskovec et al .
Web graphs
100
10 1
10 2
10 3
10 4
) e c n a t c u d n o c (
ϕ
100
10 1
10 2
10 3
10 4
) e c n a t c u d n o c (
ϕ
10 4
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 5
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 5
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
Web BerkStan
Web Notredame
Web wt10g
100
10 1
) e c n a t c u d n o c (
ϕ
Internet networks
100
10 1
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
101
102
103
104
105 n ( number of nodes in the cluster )
10 2
100
AsNewman
101
102
103
104
105 n ( number of nodes in the cluster )
Gnutella 25
10 2
100
101
102
103
104 n ( number of nodes in the cluster )
AsOregon
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
Bipartite affiliation networks
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
101
102
103
104
105 n ( number of nodes in the cluster )
AtP cond mat
10 3
100
101
102
103
104
105 n ( number of nodes in the cluster )
10 2
100
AtP hep th
101
102
103
104
105
106 n ( number of nodes in the cluster )
Clickstream
Biological networks
100
10 1
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
101
102
103
104 n ( number of nodes in the cluster ) Bio Proteins
10 2
100
101
102
103 n ( number of nodes in the cluster )
10 2
100
101
102
103 n ( number of nodes in the cluster )
Bio Yeast
Bio YeastP0.01
Figure 7 : [ Best viewed in color . ] Community profile plots of networks from Table 2 . Color coding is as in Figure 5 ; in particular , red curve plots the results of the Local Spectral Algorithm .
Community structure in real graphs
25
100
10 1
10 2
10 3
) e c n a t c u d n o c (
ϕ
Low dimensional networks
100
10 1
10 2
10 3
10 4
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
10 4
100
101
102
103
104
105 n ( number of nodes in the cluster )
10 5
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 2
100
Road USA
Road PA
101
102
103 n ( number of nodes in the cluster ) Mani FacesK5
IMDB Actor to Movie graphs
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
10 3
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 2
100
101
102
103
104 n ( number of nodes in the cluster )
10 2
100
101
102
103
104 n ( number of nodes in the cluster )
Imdb raw07
Imdb Mexico
Imdb WestGermany
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
Amazon product co purchasing networks 100
100
) e c n a t c u d n o c (
ϕ
10 1
10 2
10 3
) e c n a t c u d n o c (
ϕ
10 1
10 2
10 3
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 4
100
AmazonAllProb
101
102
103
104
105
106 n ( number of nodes in the cluster ) Amazon0302
10 3
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
AmazonAll
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
( B )
( C ) Original network Rewired network
( D )
101
102
103
104
105
106 n ( number of nodes in the cluster )
Answers
Yahoo Answers networks
100
10 1
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
Original network Rewired network
101
102
103
104 n ( number of nodes in the cluster )
Answers 5
10 2
100
101
Original network Rewired network 102
103
104
105 n ( number of nodes in the cluster )
Answers 6
Figure 8 : [ Best viewed in color . ] Community profile plots of networks from Table 3 , as well as Answers and two sub pieces of Answers . Color coding is as in Figure 5 ; in particular , red curve plots the results of the Local Spectral Algorithm .
26
Leskovec et al . see substantially less structure at large size scales .
The Yahoo! Answers social network ( see Answers ) also has several large cuts with good conductance value—actually , the best cut in the network has more 105 nodes . ( It is likely that exogenous factors are responsible for these large deep cuts . ) Using standard graph partitioning procedures , we obtained four large disjoint clusters consisting of ca . 5 , 300 , 25 , 400 , 27 , 000 , and 290 , 000 nodes , respectively , corresponding to the four dips ( two of which visually overlap ) in the NCP plot . We then examined the community profile plots for each of these pieces . The two representative examples of which we show clearly indicate a NCP plot that is much more like other network datasets we have examined .
4 More structural observations of our network datasets
We have examined in greater detail our network datasets in order to understand which structural properties are responsible for the observed properties of the NCP plot . We first present statistics for our network datasets in Section 41 Then , in Section 4.2 we describe a heuristic to identify small sets of nodes that have strong connections amongst themselves but that are connected to the remainder of the network by only a single edge . In Section 4.3 , we show that these “ whiskers ” ( or disjoint unions of them ) are often the “ best ” conductance communities in the network , and then in Section 4.4 we examine NCP plots for networks in which these whiskers have been removed .
4.1 General statistics on our network datasets
In Tables 1 , 2 , and 3 , we also present the following statistics for our network datasets : the number of nodes N ; the number of edges E ; the fraction of nodes in the largest biconnected component Nb/N ; the fraction of edges in the largest biconnected component Eb/E ; the average degree ¯d = 2E/N ; the empirical second order average degree [ 41 ] ˜d ; average clustering coefficient [ 153 ] ¯C ; the estimated diameter D ; and the estimated average path length ¯D . ( The diameter was estimated using the following algorithm : pick a random node , find the farthest node X ( via shortest path ) ; move to X and find the farthest node from X ; iterate this procedure until the distance to the farthest node does not increase anymore . The average path length was estimated based on 10 , 000 randomly sampled nodes . )
In nearly every network we have examined , there is a substantial fraction of nodes that are barely connected to the main part of the network , ie , that are part of a small cluster of ca . 10 to 100 nodes that are attached to the remainder of the network via one or a small number of edges . In particular , a large fraction of the network is made out of nodes that are not in the biconnected core.3 For example , the Epinions network has 75 , 877 nodes and 405 , 739 edges , and the core of the network has only 36 , 111 ( 47 % ) nodes and 365 , 253 ( 90 % ) edges . For Delicious , the core is even smaller : it contains only 40 % of the nodes , and 65 % of the edges . Averaging over our network datasets , we see that the largest biconnected component contains around only 60 % of the nodes and 80 % of the edges of the original network . This is somewhat akin to the so called “ Jellyfish ” model [ 149 , 145 ] ( which was proposed as a model for the graph of internet topology ) and also to the “ Octopus ” model ( for random power law graphs [ 41 ] , which is described in more detail in Section 62 ) Moreover , the global minimum of the NCP plot is nearly always one of these pieces that is connected by only a single edge . Since these small barely connected pieces seem to have a disproportionately large influence on the community structure of our network datasets , we examine them in greater detail in the next section .
3In this paper , we are slightly abusing standard terminology by using the term bi connectivity to mean 2 edgeconnectivity . We are running the classic DFS based bi connectivity algorithm , which identifies both bridge edges and articulation nodes , but then we are only knocking out the bridge edges , not the articulation nodes , so we end up with 2 edge connected pieces .
Community structure in real graphs
27
4.2 “ Whiskers ” and the “ core ” in our network datasets
We define whiskers , or more precisely 1 whiskers , to be maximal subgraphs that can be detached from the network by removing a single edge . ( Occasionally , we use the term whiskers informally to refer to barely connected sets of nodes more generally . ) To find 1 whiskers , we employ the following very simple algorithm . Using a depth first search algorithm , we find the largest biconnected component B of the graph G . ( A graph is biconnected if the removal of any single edge disconnects the graph . ) We then delete all the edges that have one of their end points in B . We call the connected components of this new graph G′ 1 whiskers , since they correspond to largest subgraphs that can be disconnected from G by removing just a single edge . Recall that Figure 1(b ) contains a schematic picture a network , including several of its whiskers .
Not surprisingly , there is a wide range of whisker sizes and shapes . Figure 9 shows the distribution of 1 whisker sizes for a representative selection of our network datasets . Empirically , 1 whisker distribution is heavy tailed , with the largest whisker size ranging from around less than 10 to well above 100 . The largest whiskers in co authorship and citation networks have around 10 nodes , whiskers in bipartite graphs also tend to be small , and very large whiskers are found in a web graph . Figure 9 also compares the size of the whiskers with the sizes of whiskers in a rewired version of the same network . ( The first thing to note is that due to the sparsity of the networks , the rewired versions all have whiskers . ) In rewired networks the whiskers tend to be much smaller than in the original network . A particularly noteworthy exception is found in the Autonomous systems networks and the Gnutella network . ( See Figure 9(f ) for an example of the latter . ) In these cases , the whiskers are so small that even the rewired version of the network has more and larger whiskers . This makes sense , given how those networks were designed : clearly , many large whiskers would have negative effects on the Internet connectivity in case of link failures .
Figure 10 shows the ten largest whiskers of the Epinions social network , the full distribution of which was plotted in Figure 9(b ) , and Figure 11 shows the ten largest whiskers of the CA cond mat co authorship network . In these networks , the whiskers have on the order of 10 nodes , and they are seen to have a rich internal structure . Similar but substantially more complex figures could be generated for networks with larger whiskers . In general , the results we observe are consistent with a knowledge of the fields from which the particular datasets have been drawn . For example , in Web Google we see very large whiskers . This probably represents a well connected network between the main categories of a website ( eg , different projects ) , while the individual project websites have a main index page that then points to the rest of the documents .
The discrepancy between the sizes of the whiskers in the original and the rewired networks gives hints that real networks have much richer structure than that imposed by their heavy tailed degree distribution . One might ask whether the conclusion from this is that real world graphs should be thought of as being somewhat like sparse random graphs , since , eg , both have whiskers , or should be thought of as very different than sparse random graphs , since , eg , the whiskers have much more internal structure . We will return to this issue in Section 6 .
4.3 Bags of whiskers and communities of whiskers
Empirically , if one looks at the sets of nodes achieving the minimum in the NCP plot ( usually the green Metis+MQI curve ) , then before the global NCP minimum communities are whiskers and above that size scale they are often unions of disjoint whiskers . To understand the extent to which these whiskers and unions of them are responsible for the “ best ” conductance sets of different sizes , we have developed the Bag of Whiskers Heuristic . Suppose we have a set W = {w1 , w2 , . . .} of whiskers . In order to construct the optimal conductance cluster of size k , we need to solve the following problem : find a set C of whiskers such that Pi∈C N ( wi ) = k and Pi∈C is maximized , where N ( wi ) is the number of nodes in wi and d(wi ) is its total internal degree . We then use a dynamic programming heuristic to get an approximate d(wi )
|C|
28
Leskovec et al .
105
104
103
102
101 t n u o C
103
100
100
Original network Rewired network
101
102
Whisker size
( a ) LiveJournal1
Original network Rewired network
101
Whisker size ( c ) Cit hep th
102
Original network Rewired network t n u o C
106 105 104 103 102 101 100
100
105
104
103
102
101 t n u o C
Original network Rewired network
101
Whisker size
( b ) Epinions
102
Original network Rewired network
101
102
Whisker size ( d ) Web Google
103
Original network Rewired network t n u o C
106 105 104 103 102 101 100
100
104
103 t n u o C
102
101
100
100
106 105 104 103 102 101 100
100 t n u o C
101
102
Whisker size ( e ) Atp DBLP
103
100
100
Whisker size ( f ) Gnutella
101
Figure 9 : Distribution of whisker sizes in the true network and the rewired network ( random graph with same degree distribution ) for the six networks presented in Figure 5 . The ten largest whiskers for the Epinions social network ( the full distribution of which is presented here in panel ( b ) ) are presented in Figure 10 .
Community structure in real graphs
29
Figure 10 : Ten largest whiskers of the Epinions social network . The green square node is the node from the bi connected core of the network to which the whisker is connected . For visual clarity , the whisker node that connects to the core of the network is displayed in red , and thus it is the edge between the red circle and the green square node that if cut disconnects the whisker from the core . The distribution of whisker sizes and comparison to rewired network is plotted in Figure 9(b ) .
Figure 11 : Ten largest whiskers of the CA cond mat co authorship network .
30
Leskovec et al . solution to this problem . This way we find a cluster of a particular size that is composed solely from whiskers . Figure 5 as well as Figures 6 , 7 and 8 show the results of this heuristic applied to many of our network datasets .
There are several observations we can make . First , notice that the largest whisker ( denoted with a red square ) is the lowest point in nearly all plots . This means that the best conductance community is in a sense trivial as it cuts just a single edge , and in addition that a very simple heuristic can find this set . Second , note that above the size scale at which the minimum conductance sets occur , this heuristic can find sets with extremely good conductance values . The shape of this blue curve in that size region depends on the distribution of sizes of whiskers , but in nearly every case it is seen to yield better conductance sets than the Local Spectral Algorithm . Third , this heuristic often agrees , exactly or approximately , with the results from Metis+MQI . In particular , the best conductance sets of a given size are often disconnected , and when they are connected they are often only tenuously connected . Thus , if one only cares about finding good cuts then the best cuts in these large sparse graphs are obtained by composing unrelated disconnected pieces . Intuitively , a coherent cluster is internally well and evenly connected . Possible measures for cluster coherence include : cluster connectedness , diameter , conductance of the cut inside the cluster , ratio of conductance of the cut outside versus the cut inside . This is discussed in more detail in Section 5 , but a full discussion of it is beyond the scope of the present paper .
4.4 Community profile of networks with no 1 whiskers
Given the surprisingly significant effect on the community structure of real world networks that whiskers and unions of disjoint whiskers have , one might wonder whether we see something qualitatively different if we consider a real world network in which these barely connected pieces have been removed . To study this , we found all 1 whiskers and removed them from our networks , using the procedure we described in Section 4.2 , ie , we selected the largest biconnected component for each of our network datasets . Again , we computed the NCP plots , and Figure 12 shows the results with and without whiskers for all six networks we studied in detail before .
Notice that whisker removal does not change the NCP plot too much : the plot shifts slightly upward , but the general trends remain the same . Upon examination , the global minimum occurs with a “ whisker ” that is connected by two edges to the remainder of the graph . Intuitively , the largest biconnected core has a large number of barely connected pieces—connected now by two edges rather than by one edge . Since the “ volume ” for these pieces is similar to that for the original whiskers , whereas the “ surface area ” is a factor of two larger , the conductance value is roughly a factor of two worse . Thus , although we have been discussing 1 whiskers in this section , one should really view them as the simplest example of weakly connected pieces that exert a significant effect on the community structure in large real world networks .
5 Results from other algorithms
So far , we have been primarily relying on two graph partitioning algorithms : a Local Spectral Algorithm and Metis+MQI . We want to demonstrate that we are observing structural properties of our network datasets , rather than properties of our algorithms ; and we want to use the differences between different approximation algorithms to highlight structural properties of our network datasets . In this section we discuss several meta issues related to this , including whether or not our algorithms are sufficiently powerful to recover the true shape of the minimal conductance curves , and whether we should actually be trying to optimize a slightly different measure that combines cut conductance with piece compactness . Recall that we defined the NCP plot to be a curve showing the minimum conductance φ for each piece size k . Finding the points on this curve is NP hard . Any cut that we find will only provide an upper bound on the true minimum at the resulting piece ’s size . Given that fact , how confident can we be that
Community structure in real graphs
31
100
10 1
10 2
10 3
) e c n a t c u d n o c (
ϕ
10 4
100
101
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
105
106
10 3
100
Original network Whiskers removed 102
104
103 n ( number of nodes in the cluster )
( a ) LiveJournal1
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
Original network Whiskers removed
101
102
103
104
105 n ( number of nodes in the cluster )
( c ) Cit hep th
Original network Whiskers removed 103
102
101
104 n ( number of nodes in the cluster )
( b ) Epinions
100
10 1
10 2
10 3
) e c n a t c u d n o c (
ϕ
10 4
100
101
Original network Whiskers removed 102
103
104
105
106
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
101
100
10 1
) e c n a t c u d n o c (
ϕ
105
106
10 2
100
Original network Whiskers removed 102
103
104 n ( number of nodes in the cluster )
( e ) Atp DBLP n ( number of nodes in the cluster )
( d ) Web Google
Original network Whiskers removed
101
102
103
104 n ( number of nodes in the cluster )
( f ) Gnutella
Figure 12 : [ Best viewed in color . ] Network community profile plots with ( in red ) and without ( in green ) 1 whiskers , for each of the six networks shown Figure 5 . Whiskers were removed as described in the text . In the former case , we plot results for the full network , and in the latter case , we plot results for the largest bi connected component .
32
Leskovec et al . the curve of upper bounds that we have computed has the same rising or falling shape as the true curve ? One method for finding out whether any given algorithm is doing a good job of pushing down the upper bounding curve in a non size biased way is to compare its curves for numerous graphs with those produced by other algorithms . In such experiments , it is good if the algorithms are very powerful and also independent of each other . We have done extensive experiments along these lines , and our choice of Local Spectral and Metis+MQI as the two algorithms for the main body of this paper was based on the results . A full discussion of these experiments is beyond the scope of this paper , but in Section 5.1 we mention a few interesting points .
A different method for reducing our uncertainty about the shape of the true curve would be to also compute lower bounds on the curve . Ideally , one would compute a complete curve of tight lower bounds , leaving a thin band between the upper and lower bounding curves , which would make the rising or falling shape of the true curve obvious . In Section 5.2 we discuss some experiments with lower bounds . Although we only obtained a few lower bounds rather than a full curve , the results are consistent with our main results obtained from upper bounding curves .
Finally , in Section 5.3 we will discuss our decision to use the Local Spectral algorithm in addition to Metis+MQI in the main body of the paper , despite the fact that Metis+MQI clearly dominates Local Spectral at the nominal task of finding the lowest possible upper bounding curve for the minimal conductance curve . The reason for this decision is that Local Spectral often returns “ nicer ” pieces because rather than minimizing conductance alone , it optimizes a slightly different measure that produces a compromise between the conductance of the bounding cut and the “ compactness ” of the resulting piece .
5.1 Cross checking between algorithms
As just mentioned , one way to gain some confidence in the upper bounding curves produced by a given algorithm is to compare them with the curves produced by other algorithms that are as strong as possible , and as independent as possible . We have extensively experimented with several variants of the global spectral method , both the usual eigenvector based embedding on a line , and an SDP based embedding on a hypersphere , both with the usual hyperplane sweep rounding method and a fancier flow based rounding method which includes MQI as the last step . In addition , special post processing can be done to obtain either connected or disconnected sets . After examining the output of those 8 comparatively expensive algorithms on more than 100 graphs , we found that our two cheaper main algorithms did miss an occasional cut on an occasional graph , but nothing serious enough to change our conclusions at all . All of those detailed results are suppressed in this paper .
We have also done experiments with a practical version of the Leighton Rao algorithm [ 106 , 107 ] , similar to the implementation described in [ 104 ] and [ 105 ] . These results are especially interesting because the Leighton Rao algorithm , which is based on multi commodity flow , provides a completely independent check on Metis , and on Spectral Methods generally , and therefore on our two main algorithms , namely Metis+MQI and Local Spectral . The Leighton Rao algorithm has two phases . In the first phase , edge congestions are produced by routing a large number of commodities through the network . We adapted our program to optimize conductance ( rather than ordinary ratio cut score ) by letting the expected demand between a pair of nodes be proportional to the product of their degrees . In the second phase , a rounding algorithm is used to convert edge congestions into actual cuts . Our method was to sweep over node orderings produced by running Prim ’s MST algorithm on the congestion graph , starting from a large number of different initial nodes , using a range of different scales to avoid quadratic run time . We used two variations of this method , one that only produces connected sets , and another one that can also produce disconnected sets .
In the second row of Figure 13 , we show Leighton Rao curves for three example graphs . Our standard Local Spectral and Metis+MQI curves are drawn in black , while the Leighton Rao curves for connected and possibly disconnected sets are drawn in green and magenta respectively . We note that for small to medium scales , the Leighton Rao curves for connected sets resemble the Local Spectral curves , while the
Community structure in real graphs
33
Figure 13 : Result of other algorithms for three networks : Epinions , Email Enron , and CA astro ph . In the top row , we show spectral and SDP lower bounds on conductance for these three networks . In the middle row , we show NCP plot curves for connected and disconnected pieces from our implementation of the Leighton Rao algorithm . In the bottom row , we show the conductance of some cuts found by Graclus and by Newman ’s Dendrogram algorithm . See the text for a discussion .
Leighton Rao curves for possibly disconnected sets resemble the Metis+MQI curves . This is big hint about the structure of the sets produced by Local Spectral and Metis+MQI , that we will discuss further in Section 53
At large scales , the Leighton Rao curves for these example graphs shoot up and become much worse than our standard curves . This is not surprising because expander graphs are known to be the worst case input for the Leighton Rao approximation guarantee , and we believe that these graphs contain an expander like core that is necessarily encountered at large scales . We remark that Leighton Rao does not work poorly at large scales on every kind of graph . In fact , for large low dimensional mesh like graphs , Leighton Rao is a very cheap and effective method for finding cuts at all scales , while our local spectral method becomes impractically slow at medium to large scales . We will not discuss this point further , except to note that in the main body of the paper we have silently substituted Leighton Rao curves for local spectral curves for the large road networks and similar graphs .
34
Leskovec et al .
We have now covered the main theoretical algorithms that are practical enough to actually run , which are based on spectral embeddings and on multi commodity flow . Starting with [ 17 ] , there has been a recent burst of theoretical activity showing that spectral and flow based ideas , which were already known to have complementary strengths and weaknesses , can in fact be combined to obtain the best ever approximations . At present none of the resulting algorithms are sufficiently practical at the sizes that we require , so they were not included in this study .
Finally , we mention that in addition to the above theoretically based practical methods for finding low conductance cuts , there exist a very large number of heuristic graph clustering methods , some of which might be more familiar to some readers . We have tried a number of them , including Graclus [ 53 ] and Newman ’s Dendrogram program [ 79 ] . Graclus attempts to find a partitioning of a graph into pieces bounded by low conductance cuts using a kernel k means algorithm . We ran Graclus repeatedly , asking for 2 , 3 , , , i , i ∗ √2 , pieces . Then we measured the size and conductance of all of the resulting pieces .
Newman ’s Dendrogram program constructs a recursive partitioning of a graph ( that is , a dendrogram ) from the bottom up by repeatedly deleting the surviving edge with the highest betweenness centrality . A flat partitioning could then be obtained by cutting at the level which gives the highest modularity score , but instead of doing that , we measured the size of conductance of every piece defined by a subtree in the dendrogram .
In the bottom row of Figure 13 , we present these results as scatterplots . Again our two standard curves are drawn in black . No Graclus or Dendrogram point lies below the Metis+MQI curve . The points are roughly similar to those produced by Local Spectral . Our main point with these experiments is that the lowest points produced by either Graclus or Dendrogram gradually rise as one moves from small scales to larger scales , so in principle we could have made the same observations about the structure of social graphs by running one of those easily downloadable programs instead of the algorithms that we did run , which we like for their speed and power , but which may not be familiar to many readers . However , that claim is not quite the same thing as the demonstrably false statement that every graph partitioning algorithm will produce an upper bounding curve with the same slope as the true minimum conductance curve .
5.2 Lower bounds on cut conductance
As mentioned above , our main arguments are all based on curves which are actually upper bounds on the true minimum conductance curve . To get a better idea of how good those upper bounds are , it is a good idea to compute some lower bounds . Here we will discuss the well known spectral lower bound [ 33 ] on the conductance of cuts of arbitrary balance , and a related SDP based lower bound [ 28 ] on the conductance of any cut that divides the graph into two pieces of equal volume . First , we need the following notation . ~d is a column vector of the graph ’s node degrees . D is a square matrix whose only nonzero entries are the graph ’s node degrees on the diagonal . A is the usual adjacency matrix of G . L = D − A is the usual ( non normalized ) Laplacian matrix of G . 1 is vector of 1 ’s . A • B = trace(AT B ) is the matrix dot product operator . Now , consider the following optimization problem ( which is well known to be equivalent to an eigen problem ) :
λG = minfl xT Lx xT Dx
: x ⊥ ~d , x 6= 0
Let ˆx be a vector achieving the minimum value λG . Then λG is the spectral lower bound on the 2 conductance of any cut in the graph , regardless of balance , while ˆx defines a spectral embedding of the graph on a line , to which rounding algorithms can be applied to obtain actual cuts that can serve as upper bounds at various sizes .
Next , we discuss an SDP based lower bound on cuts which partition the graph into two sets of exactly
Community structure in real graphs
35 equal volume . Consider
CG = minfl 1
4
L • Y : diag(Y ) = 1 , Y • ( ~d ~d T ) = 0 , Y 0 , and let ˆY be a matrix achieving the minimum value CG . Then CG is a lower bound on the weight of any cut with perfect volume balance , and 2CG/Vol(G ) is a lower bound on the conductance of any cut with perfect volume balance . We briefly mention that since Y 0 , we can view Y as a Gram matrix that can be factored can be factored as RRT . Then the rows of R are the coordinates of an embedding of the graph on a hypersphere . Again , rounding algorithms can be applied to the embedding to obtain actual cuts that can server as upper bounds .
The spectral and SDP embeddings defined here were the basis for the extensive experiments with global spectral partitioning methods that were alluded to ( but not described in detail ) in Section 51 However , in this section , it is the lower bounds that concern us . In the top row of Figure 13 , we present the spectral and SDP lower bounds for three example graphs . The spectral lower bound , which applies to cuts of any balance , is drawn as a horizontal line which appears near the bottom of each plot . The SDP lower bound , which only applies to cuts separating a specific volume , namely Vol(G)/2 , appears as an upwards pointing triangle near the right side of the each plot . ( Note that plotting this point required us to use volume rather than number of nodes for the x axis of these three plots . ) Clearly , for these graphs , the lower bound at Vol(G)/2 , is higher than the spectral lower bound which applies at smaller scales . More importantly , the lower bound at Vol(G)/2 , is higher than our upper bounds at many smaller scales , so the true curve must go up , at least at the very end , as one moves from small to large scales .
Finally , in Table 4 we list for about 40 graphs the spectral and SDP lower bounds on overall conductance and on volume bisecting conductance , and also the ratio between the two . Although it is not as logically compelling as the above comparison of upper and lower bounds , it is interesting to see that for these graphs this ratio of lower bounds does a fairly good job of discriminating between falling NCP plot graphs , which have a small ratio , and rising NCP plot graphs , which have a large ratio .
5.3 Local Spectral vs Metis+MQI
In this section we discuss our rationale for using Local Spectral in addition to Metis+MQI as one of our two main algorithms for finding sets bounded by low conductance cuts . This choice requires some justification because the NCP plots are intended to show the tightest possible upper bound on the lowest conductance cut for each piece size , and Local Spectral is pretty strongly dominated by Metis+MQI according to that criterion .
Our reason for using Local Spectral in addition to Metis+MQI is that Local Spectral returns pieces that are arguably “ nicer ” . For graphs with a basically rising NCP plot , we have found that many of the low conductance sets returned by Metis+MQI ( or Leighton Rao , or the Bag of Whiskers Heuristic ) are actually disconnected . Since internally disconnected sets are not very satisfying “ communities ” , it is natural to wonder about NCP plot style curves with the additional requirement that pieces must be internally connected . In Section 5.1 , we generated such a curve using Leighton Rao , and found that the curve corresponding to connected pieces was higher than a curve allowing disconnected sets .
In the top row of Figure 14 , we show scatter plots illustrating a similar comparison between the conductance of the cuts bounding some connected pieces generated by Local Spectral and by Metis+MQI . Our method for getting connected pieces from Metis+MQI here is simply to separately measure each of the pieces in a disconnected set . The blue points in the figures show the conductance of some cuts found by Local Spectral . The red points show the conductance of some cuts found by Metis+MQI . Apparently , Local Spectral and Metis+MQI find similar pieces at very small scales , but at slightly larger scales a gap opens up between the red cloud and the blue cloud . In other words , at those scales Metis+MQI is finding lower conductance cuts than Local Spectral , even when the pieces must be internally connected .
36
Leskovec et al .
Network CollegeFootball [ 5 ] MonksNetwork [ 5 ] ZacharyKarate [ 5 ] PowerGrid PoliticalBooks [ 5 ] PoliticalBlogs [ 5 ] RB Hierarchical [ 135 ] Email InOut NetworkScience [ 5 ] as oregon all Blog nat05 6m Imdb India Cit hep ph Bio Proteins As RouteViews Gnutella 31 Imdb Japan Gnutella 30 DolphinsNetwork [ 5 ] As Newman AtP gr qc Cit hep th AtP cond mat
Spectral lowerbnd on φ ,
SDP lowerbnd on φ , at any size . Vol(G)/2 0.091017 0.068402 0.069660 0.117117 0.127625 0.066136 0.000268 0.000136 0.038031 0.018902 0.084052 0.040720 0.030335 0.011930 0.038669 0.113367 0.004502 0.001513 0.042976 0.012543 0.108979 0.031604 0.033318 0.009104 0.007858 0.029243 0.126137 0.033714 0.070462 0.018681 0.118711 0.029946 0.013396 0.003327 0.030621 0.124929 0.103676 0.019762 0.058952 0.009681 0.006040 0.000846 0.068880 0.009193 0.001703 0.013452 ratio of lower bnds 1.330624 1.681269 1.929736 1.978484 2.011991 2.064157 2.542792 2.931752 2.974695 3.426417 3.448250 3.659573 3.721553 3.741358 3.771821 3.964127 4.026721 4.079853 5.246171 6.089191 7.141270 7.492522 7.897650
Spectral lowerbnd on φ ,
SDP lowerbnd on φ , at any size . Vol(G)/2 0.131032 0.014185 0.009660 0.107422 0.047064 0.003593 0.159251 0.011896 0.048010 0.003462 0.124703 0.008714 0.070345 0.003893 0.000934 0.017421 0.009714 0.000514 0.013770 0.000723 0.065158 0.003025 0.027256 0.001183 0.001561 0.041125 0.086890 0.003143 0.036572 0.001283 0.021017 0.000661 0.092908 0.002361 0.000679 0.031954 0.089876 0.001763 0.052249 0.000889 0.150242 0.002395 0.185340 0.002636 0.000562 0.046327 ratio of lower bnds 9.237332 11.120081 13.098027 13.386528 13.867591 14.311255 18.067513 18.659710 18.899660 19.040287 21.538867 23.036835 26.350412 27.648094 28.514376 31.810460 39.350874 47.077242 50.965424 58.755927 62.739252 70.306807 82.397702
Network
Gnutella 25 Answers 2 CA cond mat Answers 1 Imdb France Answers 5 Imdb Mexico CA gr qc AtP hep th AtP hep ph Imdb WGermany AtP astro ph CA hep th CA astro ph Imdb UK Imdb Germany Blog nat06all Imdb Italy Email Enron CA hep ph Epinions Answers 3 Imdb Spain
Table 4 : Lower bounds on the conductance for our network datasets . Recall that the spectral lower bound applies to any cut , while the SDP lower bound applies to cuts at a specified volume fraction , taken here to be half . See the top row of Figure 13 for plots for three of these networks .
However , there is still a measurable sense in which the Local Spectral pieces are “ nicer ” , as shown in the second row of scatter plots in Figure 14 . For each of the same pieces for which we plotted a conductance in the top row , we are now plotting the average shortest path length between a large number of random node pairs in that piece . In these new plots we see that in the same size range where Metis+MQI is generating clearly lower conductance connected sets , we now see that Local Spectral is generating pieces with clearly shorter internal paths . In other words , the Local Spectral pieces are more “ compact ” .
In Figure 15 , we further illustrate this point with drawings of some example subgraphs . The two subgraphs shown on the left of Figure 15 were found by Local Spectral , while the two subgraphs shown on the right of Figure 15 were found by Metis+MQI . Clearly , these two pairs of subgraphs have a qualitatively different appearance , with the Metis+MQI pieces looking longer and stringier than the Local Spectral pieces . All of these subgraphs contain roughly 500 nodes , which is a bit more than the natural cluster size for that graph . In these cases it looks like Local Spectral has grown a cluster out a bit past its natural boundaries , while Metis+MQI has strung together a couple of different clusters . We remark that the tendency of Local Spectral to trade off cut quality in favor of piece compactness isn’t just an empirical observation , it is a well understood consequence of the theoretical analysis of spectral partitioning methods .
Finally , in the bottom row of Figure 14 we briefly introduce the topic of internal vs external cuts , which is something that none of our algorithms are explicitly trying to optimize . These are again scatter plots showing the same set of Local Spectral and Metis+MQI pieces as before , but now the y axis is external conductance divided by internal conductance . External conductance is the quantity that we usually plot , namely the conductance of the cut which separates the piece from the graph . Internal
Community structure in real graphs
37
Figure 14 : Result of comparing Local Spectral ( blue ) and Metis+MQI ( red ) for three networks : AtP DBLP , Email Enron , and CA astro ph . In the top row , we plot the conductance of the bounding cut . In the middle row , we plot the root mean square average path length in the cluster . In the bottom row , we plot the ratio of the external conductance to the internal conductance . Note that comparing the scatter plots in the top two rows shows that sometimes Metis+MQI yields better cuts while Local Spectral yields pieces that are more compact ; see the text for a discussion . conductance is the score of a low conductance cut inside the piece ( that is , in the induced subgraph on the piece ’s nodes ) . Intuitively , good communities should have small ratios , ideally below 10 However , the three bottom row plots show that for these three sample graphs , there are mostly no ratios below 1.0 except at small sizes . We have found that this is typical for social graphs . Of course , any given graph could happen to contain a very distinct piece of any size , and the roughly thousand node piece in the Email Enron network is a good example .
6 Models for network community structure
In this section , we address modeling issues . In Section 6.1 , we will examine the NCP plot for a wide range of commonly used network generation models , and we will see that none of them reproduces the observed properties , at even a qualitative level . Then , in Section 6.2 , we will analytically demonstrate
38
Leskovec et al .
Figure 15 : Two examples of “ communities ” found by the LocalSpectral algorithm ( on the left ) and two from the Metis+MQI algorithm ( on the right ) . Note that the Local Spectral “ communities ” are more compact—they are tighter and have smaller diameter since the algorithm has difficulty pushing probability mass down long extended paths—while the Metis+MQI “ communities ” are more sprawling—they have larger diameter and more diverse internal structure , but better conductance scores . In both cases , we have shown communities with ca . 500 nodes ( many of which overlap at resolution of this figure ) , ie , just above the “ whisker ” size scale . that certain aspects of the NCP plot , eg , the existence of deep cuts at small size scales , can be explained by very sparse random graph models . Then , in Section 6.3 , we present a simple toy model to develop intuition about the effect we must reproduce with a realistic generative model . Finally , in Section 6.4 , we will combine these and other ideas to describe a “ forest fire ” graph generation model that reproduces quite well our main observations .
6.1 Community profile plots for commonly used network generation models
We have studied a wide range of commonly used network generative models in an effort to reproduce the upward sloping NCP plots and to understand the structural properties of the real world networks that are responsible for this phenomenon . In each case , we have experimented with a range of parameters , and in no case have we been able to reproduce our empirical observations , at even a qualitative level . In Figure 16 , we summarize these results .
There has been a large body of work subsequent to that of Albert and Barab´asi [ 9 ] on models in which edges are added via a preferential attachment or rich gets richer mechanism [ 124 , 25 ] . Much of this work aims at reproducing properties of real world graphs such as heavy tailed degree distributions [ 11 , 27 , 61 ] . In these preferential attachment models , one typically connects each new node to the existing network by adding exactly m edges to existing nodes with a nonuniform probability that depends on the current degree of that existing node . Figure 16(a ) shows the NCP plot for a 10 , 000 node network generated according to the original preferential attachment model [ 9 ] , where at each time step a node joins the graph and connects to m = 2 existing nodes . Note that the NCP plot is very shallow and flat ( more even than the corresponding rewired graph ) , and thus the network that is generated is very expander like at all size scales .
A different type of generative model is one in which edges are added via a copying mechanism [ 101 ] . In this copying model , a new node joins the network by attaching exactly m edges to existing nodes as follows : the new node first selects uniformly at random a “ seed ” or “ ambassador ” node u ; then , for each of its m edges , with probability β the new node links to an existing node chosen randomly , and with probability 1 − β it links to a random neighbor of node u . In Figure 16(b ) , we show the results for a network with 50 , 000 nodes , generated with m = 2 and β = 005 Although intuitively the copying model aims to produce communities by linking a new node to neighbors of a existing node , this does not seem to be the right mechanism to reproduce the NCP plot since potential ambassador nodes are all treated similarly and since new nodes always create the same number of edges .
Community structure in real graphs
39
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
Original network Rewired network
101
103 n ( number of nodes in the cluster )
102
( a ) Preferential attachment
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
101
Original network Rewired network 102
103
104
105 n ( number of nodes in the cluster ) ( c ) Barabasi Hierarchical
100
10 1
) e c n a t c u d n o c (
ϕ
10 2
100
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
Original network Rewired network
101
104 n ( number of nodes in the cluster )
102
103
( b ) Copying model
Original network Rewired network
100
101
102
103
104 n ( number of nodes in the cluster ) ( d ) Community guided attachment
100
10 1
) e c n a t c u d n o c (
ϕ
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 2
100
Original network Rewired network
101
102
103
104 n ( number of nodes in the cluster )
( e ) Geometric PA [ 70 ]
10 3
100
Original network Rewired network
101
102
103 n ( number of nodes in the cluster ) ( f ) Nested Communities
Figure 16 : [ Best viewed in color . ] Network community profile for networks generated from commonly used procedures to generate graphs with heavy tailed degree distributions : ( 16(a ) ) Preferential attachment ; ( 16(b ) ) Copying model ; ( 16(c ) ) Hierarchical model ; ( 16(d ) ) Community guided attachment ; ( 16(e ) ) Geometric preferential attachment ; and ( 16(f ) ) Nested community model . See the text for details . Red curves plot the results of the Local Spectral Algorithm on the specified network , and black curves plot the results of the Local Spectral Algorithm applied to a randomly rewired version of the same network .
40
Leskovec et al .
Next , in Figure 16(c ) , we consider an example of a network that was designed to have a recursively hierarchical community structure [ 136 , 135 ] . In this model , we start with a 5 node square like structure with a central node , and then recursively expand the square and link it to the middle node of the network . This network has power law degree distribution , and clustering coefficient that decays as in a characteristic manner [ 135 ] . In this case , however , the NCP plot is sloping downwards . The local dips in the plot correspond to multiples of the size of the basic module of the graph . Although the model generates links such that nodes that are farther apart in the hierarchy link less frequently , the NCP plot clearly indicates that in aggregate larger communities are better connected than smaller communities .
A different way to generate power law degree distributions is the Community Guided Attachment model [ 111 ] . Here we decompose the nodes of a graph into a nested groups of nodes , such that the difficulty of forming links between nodes in different groups increases exponentially with the distance in the community hierarchy . Graphs generated by this principle have both power law degree distributions and they also obey the Densification Power Law [ 111 , 112 ] . As Figure 16(d ) shows , though , the NCP plot is sloping downward . Qualitatively this plot from CGA is very similar to the plot of the recursive hierarchical construction in Figure 16(c ) , which is not surprising given the similarities of the models .
Figure 16(e ) shows the NCP plot for a geometric preferential attachment model [ 70 , 71 ] . This model aims to achieve a heavy tailed degree distribution as well as deep cuts , and it does so by making the connection probabilities depend both on the two dimensional geometry and on the preferential attachment scheme . As we see , the effect of the underlying geometry eventually dominates the NCP plot since the best bi partitions are fairly well balanced [ 70 ] . Finally , we explored in more detail networks with explicitly planted community structure . For example , we started with 10 isolated communities generated using the Gn,p model , and then we generated a random binary tree . For each internal node at height h we link the nodes in both sides of the tree with probability ph , for a probability parameter p . This and other related networks gives a graph of nested communities resembling the hierarchical clustering algorithm of Newman and Girvan [ 129 ] . We see , however , from Figure 16(f ) that the NCP plot slopes steadily downward , and furthermore we observe that dips correspond to the cuts that separate the communities .
6.2 Very sparse random graphs have very unbalanced deep cuts
In this section , we will analyze a very simple random graph model . Perhaps somewhat surprisingly , it reproduces relatively deep cuts at small size scales . Understanding why will be instructive as a baseline for understanding the community properties we have observed in our real world networks .
We will work with the random graph model with given expected degrees , as described by Chung and Lu [ 41 , 39 , 43 , 38 , 40 , 44 , 45 , 42 ] . Let n , the number of nodes in the graph , and a vector w = ( w1 , . . . , wn ) , which will be the expected degree sequence vector ( where we will assume that maxi w2 i < Pk wk ) , be given . Then , in this random graph model , an edge eij between nodes i and j is added , independently , with probability pij = wiwj/Pk wk . Thus , P ( eij = 1 ) = pij and P ( eij = 0 ) = 1 − pij .
We use G(w ) to denote a random graph generated in this manner . ( Note that this model is different than the so called “ configuration model ” in which the degree distribution is exactly specified and which was studied by Molloy and Reed [ 121 , 122 ] and also Aiello , Chung , and Lu [ 7 , 8 ] . This model is also different than generative models such as preferential attachment models [ 9 , 124 , 25 ] or models based on optimization [ 56 , 57 , 60 ] , although common to all of these generative models is that they attempt to reproduce empirically observed power law behavior [ 11 , 61 , 27 , 126 , 49] . ) In this random graph model , the expected average degree is wav = 1 i=1 wi and the expected second order average degree is ˜w = Pn i=1 w2 i /Pk wk . Let wG = Pi wi denote the expected total degree . Given a subset S of nodes , we define the volume of S to be wS = Pv∈S wv and we say that S is c giant if its volume is at least cwG , for some constant c > 0 . We will denote the actual degrees of the graph G by {d1 , d2 , . . . , dn} , and will define d(S ) to be the sum of the actual degrees of the vertices in S . Clearly , by linearity of expectation , for any subset S , E(d(S ) ) = wS . n Pn
The special case of the G(w ) model in which w has a power law distribution is of interest to us
Community structure in real graphs
41 here . ( The other interesting special case , in which all the expected degrees wi are equal to np , for some p ∈ [ 0 , 1 ] , corresponds to the classical Gilbert Erd¨os Renyi Gnp random graph model [ 24] . ) Given the number of nodes n , the power law exponent β , and the parameters w and wmax , Chung and Lu [ 41 ] give the degree sequence for a power law graph : wi = ci−1/(β−1 ) for i st i0 ≤ i < n + i0 ,
( 10 ) where , for the sake of consistency with their notation , we index the nodes from i0 to n + i0− 1 , and where c = c(β , w , n ) and i0 = i0(β , w , n , wmax ) are as follows : w wmaxβ−1
, c = αwn1/(β−1 ) and i0 = nα where we have defined α = β−2 β−1 . It is easy to verify that : wmax = maxi wi is the maximum expected degree ; the average expected degree is given by wav = 1 i=1 wi = w(1 + o(1) ) ; the minimum expected degree is given by wmin = mini wi = wα(1 − o(1) ) ; and the number of vertices that have expected degree in the range ( k − 1 , k ] is proportional to k−β . The following theorem will characterize the shape of the NCP plot for this G(w ) model when the degree distribution follows Equation ( 10 ) , with β ∈ ( 2 , 3 ) . The theorem makes two complementary claims . First , there exists at least one ( small but moderately deep ) cut in the graph of size Θ(log n ) and conductance Θ( 1 log n ) . Second , for some constants c′ and ǫ , there are no cuts in the graph of size greater than c′ log n having conductance less than ǫ . That is , this model has clusters of of logarithmic size with logarithmically deep cuts , and once we get beyond this size scale there do not exist any such deep cuts . n Pn
( 11 )
Theorem 1 Consider the random power law graph model G(w ) , where w is given by Equation ( 10 ) , where w > 5.88 , and the power law exponent β satisfies 2 < β < 3 . Then , then with probability 1 − o(1 ) : 1 . There exists a cut of size Θ(log n ) whose conductance is Θ 1 log n .
2 . There exists c′ , ǫ > 0 such that there are no sets of size larger than c′ log n having conductance smaller than ǫ .
Proof : Combine the results of Lemma 1 and Lemma 3 below .
The two claims of Theorem 1 are illustrated in Figure 17(a ) . Note that when w ≥ 4 e and β ∈ ( 2 , 3 ) then a typical graph in this model is not fully connected but does have a giant component [ 41 ] . ( The wellstudied Gn,p random graph model [ 24 ] has a similar regime when p ∈ ( 1/n , log n/n ) , as will be discussed in Section 74 ) In addition , under certain conditions on the average degree and second order average degree , the average distance between nodes is in O ( log log n ) and yet the diameter of the graph is Θ ( log n ) . Thus , in this case , the graph has an “ octopus ” structure , with a subgraph containing nc/(log log n ) nodes constituting a deep core of the graph . The diameter of this core is O(log log n ) and almost all vertices are at a distance of O(log log n ) from this core . However , the pairwise average distance of nodes in the entire graph is O(log n/ log ˜w ) . A caricature of the G(w ) model when β ∈ ( 2 , 3 ) is presented in Figure 17(b ) . Our first lemma claims that for the G(w ) model , if the degree distribution w follows the above powerlaw , then there exists a moderately large cut with small conductance . In order to prove the existence of a cut of size Θ(log n ) and conductance Θ( 1 log n ) , it is sufficient to concentrate on the existence of whiskers that are large enough . In particular , to prove the following lemma , we compute the probability that there exists a cut of both volume and size Θ(log n ) and cut size 1 . ( Note that although we formally state the lemma in terms of the power law random graph model , the proof will show that the main claim holds for a more general representation of the heavy tailed degree distribution . )
Lemma 1 For the G(w ) model , where w follows a power law degree distribution with 2 < β < 3 then , with probability 1 − o(1 ) there exists a set of size Θ(log n ) with conductance Θ( 1 log n ) .
42
Leskovec et al .
( a ) NCP plot suggested by our main theorem
( b ) Structure of G(w ) model
Figure 17 : The G(w ) model in the sparse β ∈ ( 2 , 3 ) parameter regime . ( a ) Network community profile plot , as suggested by our main theorem . ( b ) Caricature of network structure .
Proof : Let S be a subset with the following description . S = {v0 , v1 , . . . , vk} , where k = c1 log n . Let wi denote the degree of vi . We have that w0 ∈ [ c2 log n , 2c2 log n ] and wi ≤ w for all i > 0 . Thus the expected volume of S is wS ∈ [ (2αwc2 + c1 ) log n , ( 2αwc2 + c1 ) log n ] , and the size of S is c1 log n + 1 . Note that the expected volume of the graph can be computed as wG = wn , and hence ρ = 1 wG Now , let n1 denote the number of vertices of expected degree at most 2αw . By simple calculation , n1 ≥ n/2 . The number of possible choices for the vertex v0 can be computed as follows . Let B be the set of vertices having degree greater than 2αwc2 log n and A be the set of vertices with degree at most 2αwc2 log n . Then the number of nodes with degree in [ c2 log n , 2c2 log n ] is given by the size of V \(A∪B ) which is
= 1 wn .
αw n c2 log nβ−1
− αw n
2c2 log nβ−1
≥ αw n c2 log nβ−1
, since β > 2 . Thus the number of possible such subsets S is given by the number of choices for v0 times the number of possible choices for the nodes v − 1 , . . . , vk . Thus , the number N of possible such subsets S is at least
N = n1 c1 log n × α
. n
2c2 log nβ−1
We say that S is good if , after instantiating all the edges , S has a star of size c1 log n centered at v0 , and v0 is connected to ¯S by exactly one edge , and none of the other vertices in S have any edge to ¯S . The probability that a particular set S is good is the product of the following terms : the probability p1 that there is star of size c1 log n with v0 at the center , the probability p2 that none of the nodes v1 , . . . , vk link to any nodes in ¯S , and the probability p3 that v0 connects to ¯S using exactly one edge . We now calculate the three probabilities as follows . First , p1 = Yi∈[1k ] w0wiρ ≥ ( w0αwρ)c1 log n , since each wi ≥ wmin ≥ αw . Next , p2 = Yi=1,k Yj /∈S
( 1 − wjρ ) ≥ Yi=1,k Yj /∈S e−wiρ/2 = e−(c1ρ2αww ¯S log n)/2 , obtained by using 1 − x ≥ e−x/2 for 0 < x < 1 , and wi ≤ 2αw for i ∈ S , i > 1 . Finally , we get p3 as
Community structure in real graphs
43 follows . First note
( 1 − wkw0ρ ) w0wj ρ Yk6=j,k∈ ¯S w0wj ρe−(w ¯S −wj )w0ρ/2 p3 = Xj∈ ¯S ≥ Xj∈ ¯S = w0ρe−w ¯Sw0ρ/2(Xj∈ ¯S Then , since wj w0ρ ≪ 1 and since ex ≥ 1 + x , we have that wj ewjw0ρ/2 ) . p3 ≥ w0ρe−w ¯S w0ρ/2(Xj∈ ¯S wj(1 + wj w0ρ
2
) )
≥ w0ρe−w ¯S w0ρ/2(w ¯S + w0ρ ˜w ¯S/2 ) , j . So the final probability of goodness of S is where ˜w ¯S = Pj∈ ¯S w2 p = p1 × p2 × p3 n
2c1 log nc1 log n 2c1 log nc1 log n
≥ w0α
≥ =
( w0αwρ)c1 log n × e−(c1ρ2αww ¯S log n)/2 × w0ρe−w ¯Sw0ρ/2(w ¯S + w0ρ ˜w ¯S/2 ) ( w0αwρ)c1 log n × e−(c1γ2αw log n ) × w0ρe−γw0(w ¯S + w0ρ ˜w ¯S/2 ) , using γ = ρw ¯S/2 . So the expected number of such good subsets S is n
× ( w0αwρ)c1 log n × e−(c1γ2αw log n ) × w0ρe−γw0(w ¯S + w0ρ ˜w ¯S/2 )
N p ≥ n1 ≥ n1 c1 log n × αw c1 log nc1 log n
2c2 log nβ−1 ( 2c2 log n)β−1 × ( w0αwρ)c1 log n × e−(c1γ2αw log n ) × w0ρe−γw0 × nw/2 , × using Stirling ’s formula and the fact that w ¯S ≥ nw/2 . Using the value of n1 and since nwρ = 1 , ( 2c2 log n)β−1 × ( w0αwρ)c1 log n × e−(c1γ2αw log n ) × e−γw0 × w0/2
N p ≥
αwnβ−1
αwnβ−1
×
αwnβ−1
( 2c2 log n)β−1 × ( w0αwρ)c1 log n × e−(c1γ2αw log n ) × e−γw0 × w0/2 .
×
Using w0 ≥ c2 log n , we have that have that
N p ≥ c2α
2c1 c1 log n
αwnβ−1
2(2c2 log n)β−2 × e−(c1γ2αw log n ) × e−γw0 × αw
≥ eΘ log n ×
2(2c2 log n)β−2 , where Θ = c1 log( c2α 2c1 γ = 1
2 − o(1 ) . Thus , choosing c2 = 2ec1/α and c1 =
) + ( β − 1)− γαwc1 − 2γc2 . Note that for 2 < β < 3 , we have that 0 < α < 1
2 . Also ,
β−2
2γαw+4γe/α−1 , we get Θ = 1 . So , αw
N p ≥ elog n ×
2(2c2 log n)β−2 = Ω(log n )
Then , the probability is a particular set S is good is p ≥ Ω ( log n )
N . Hence the probability of getting a good set is
1 − ( 1 − p)N ≥ 1 −1 − Ω ( log n)β−2
N
N
≥ 1 − o(1 )
44
Leskovec et al .
We next state the well known Chernoff bound [ 41 ] , which we will use below . i ) . Then ,
Lemma 2 Let X = Pi Xi where the Xi are independent random variables with Xi ≥ −M . Define kXk2 = Pi E(X 2
Pr(X ≥ E(X ) − λ ) ≤ exp−
2(kXk2 + M λ/3 ) . define a connected set S to be ǫ deficit set if it has actual volume d(S ) ≤ 1 of the cut ( S , ¯S ) is at most ǫ , ie , if the number of edges leaving S is at most ǫd(S ) .
Finally , we show that there are no deep cuts with size greater than Θ(log n ) . To state this lemma , 2 d(G ) and if the conductance
λ2
( 12 )
Lemma 3 For the G(w ) model , where w follows a power law degree distribution with 2 < β < 3 , if the average degree w satisfies w ≥ 5.88 , then with probability 1 − o(1 ) there exists constants c′ , ǫ such that there is no ǫ deficit set of size more than c′ log n .
Proof : Let e(S , ¯S ) denote the actual number of edges between S and ¯S . First we compute the probability that a given set S is ǫ deficit , that is , S satisfies e(S , ¯S ) < ǫd(S ) . Let δ = 2ǫ 1−ǫ . For our case , define the variables X(i,j ) = eij for ( i , j ) ∈ ( S , ¯S ) and X(i,j ) = −δeij for ( i , j ) ∈ ( S , S ) . Then the sum X = P X(i,j ) = P(i,j)∈(S , ¯S ) eij − δP(i,j)∈(S , ¯S ) eij . Note that e(S , ¯S ) < ǫd(S ) ⇐⇒ X ≤ 0 . Using the fact that E(eij ) = wiwj ρ , we have kXk2 = P E(X 2 Sρ . Furthermore , exploiting the fact that each Xi ≥ −δ , we get that ij ) = wSw ¯Sρ + δ2w2
Pr(X ≤ 0 )
=
≤
=
E(X)2
Pr(X ≤ E(X ) − E(X ) ) exp− exp−
2(kXk2 + δE(X)/3 ) 2(wSρ(w ¯S + δ2wS ) + δwSρ(w ¯S − δwS)/3 ) .
S(w ¯S − δwS)2
ρ2w2
Canceling ρwS from both numerator and denominator ,
Pr(X ≤ 0 )
≤
≤
≤ exp− exp− exp−
ρwS(w ¯S − δwS)2
2(w ¯S + δ2wS + δw ¯S/3 − δ2wS/3 ) ρwS(w ¯S − δwS)2 2(1 + δ/3 + 2δ2/3)w ¯S ≤ exp− 2(1 + δ/3 + 2δ2/3 ) ≤ exp ( −ρwSw ¯SAδ/2 ) , ρwSw ¯S(1 − 2δ )
2(1 + δ/3 + 2δ2/3 ) ρwSw ¯S(1 − 2δwS/w ¯S )
1−2δ where Aδ = ( 1+2δ/3+2δ2/3 ) . So this bounds the probability that a particular set S of size k is ǫ deficit . We will bound the expected number of such ǫ deficit subsets of size k . First , let Nk,ǫ,γ denote the expected number of ǫ deficit sets of size k that have expected volume wS ≤ γwG . By linearity of expectation ,
Nk,ǫ,γ
≤ XS:|S|=k wS ≤γwG
≤ XS:|S|=k wS ≤γwG wi1 . . . wik wk−2
S
ρk−1 exp ( −ρwSw ¯SAδ/2 )
S w2k−2 kk ρk−1 exp((−wS(1 − γ)Aδ) ) ,
Community structure in real graphs
45 where we used the fact that γ = ρw ¯S/2 and also the AM GM inequality to say that Qi∈S wi ≤ Pi∈S wi Aδ(1−γ ) . Thus , the above sum is maximized when wS = 2k−2
. Now , F ( x ) = x2k−2e−xAδ(1−γ ) is maximized at x = 2k−2 k k
Aδ(1−γ ) . Hence ,
Nk,ǫ,γ
≤
≤ nk k!
ρk−1 kk
( nρ)k
ρ√k(k/e)k
2(2k−2 ) · ( k − 1)(2k−2 ) ( Aδ(1 − γ))(2k−2 ) 1 kk
2(2k−2 ) · ( k − 1)(2k−2 ) ( Aδ(1 − γ))(2k−2 ) exp(−2k + 2 ) exp(−2k + 2 ) .
Using ( 1 − 1 k )2k ≤ e−2 , it follows that
Nk,ǫ,γ
≤
1
4e√k(k − 1)2
4
δ(1 − γ)2k ewA2
.
We would like Pcn k=c log n Nk,ǫ,γ to be o(1 ) , for which we need
4 ewA2
δ(1 − γ)2 < 1 , which gives a bound on average degree : w ≥
4
A2 δ(1 − γ)2e
.
For sets of volume wS ≥ γwG , we have the following . From the double sided Chernoff bound , for any fixed set S ,
|wS − d(S)| ≤ λ with probability 1 − 2 exp−
λ2
2(wS + λ/3 ) .
So if λ = √wS log n , we have the above statement with probability 1 − 2 exp(−3 log2 n/8 ) . Similarly ,
|e(S , ¯S ) − E(e(S , ¯S))| ≤ λ with probability 1 − 2 exp−
λ2
2(ρwSw ¯S + λ/3 ) .
By having λ = √ρwSw ¯S log n the above probability becomes 1 − 2 exp(−3 log2 n/8 ) . Now , if both these events occur , then the conductance of the set S is at least 1/3 . So the only way we can get an ǫ deficit set is at by having one of these conditions to be invalid . The total number of sets of expected volume
γwG is bounded by , wG by
γwG . So , the expected number of ǫ deficit sets of volume at least γwG is bounded
Xγ≤θ≤1/2
θwG4 exp(−3 log2 n/8 ) ≤ Zγ≤θ≤1/2 wG
1
√θwG 1
θθwG
4 exp(−3 log2 n/8 ) ≤ o(1 ) .
Thus , putting the two bounds together , the expected number of ǫ deficit sets of size greater that c log n is at most o(1 ) . Thus with probability 1 − o(1 ) there does not exist an ǫ deficit set of size greater than c log n .
46
Leskovec et al .
100
) e c n a t c u d n o c (
ϕ
B
A
( a ) A toy network model . . .
100
101
102
103
104 k ( number of nodes in the cluster ) ( b ) . . . and its community profile plot .
Figure 18 : Schematic picture of the properties of a network responsible for the upward sloping community profile plot . ( a ) This toy model is designed so that the optimal conductance cuts are achieved by cutting nodes from the top of the tree . ( b ) The minimum of the NCP plot is achieved by cutting the single top node , and then larger and larger cuts have gradually worse and worse conductance values .
6.3 An intuitive toy model for generating an upward sloping NCP plot
We have seen that commonly studied models , including preferential attachment models , copying models , simple hierarchical models , and models in which there is an underlying mesh like or manifold like geometry are not the right way to think out the community structure of large social and information networks . We have also seen that the extreme sparsity of the networks might be responsible for the deep cuts at small scales . To build intuition as to what the gradually increasing NCP plot might mean , consider Figure 18 . This is a toy example of a network construction in which the NCP plot has a deep dip at a small size scale and then increases . The network shown in Figure 18(a ) is an infinite tree that has two parts . The top part , a subtree ( with one node in this example , but more generally consisting of nT nodes ) is indicative of the whiskers , or the “ small scale ” structure of the graph . The remaining tree has the property that the number of children increases monotonically with the level of the node . This property is indicative of the fact that as the size of a cluster grows , the number of neighbors that it has also increases .
The key insight in this construction is that the best conductance cuts first cut at the top of the growing tree and then gradually work their way “ down ” the tree , starting with the small subtrees and moving gradually down the levels , as depicted in Figure 18(a ) . Thus , intuitively , one can think of small well separated communities—those below the nT size scale that consist of subsets of the small trees— starting to grow , and as they pass the nT size scale and become bigger and bigger , they blend in more and more with the central part of the network , which ( since it exhibits certain expander like properties ) does not have particularly well defined communities . Note ( more generally ) that if there are nT nodes in the small tree at the top of the graph , then the dip in the NCP plot in Figure 18(b ) is of depth 2/(nT + 1 ) . In particular , if nT = Θ(log n ) then the depth of this cut is Θ(log n ) .
6.4 A more realistic model of network community structure
The question arises as to whether we can find a simple generative model that can explain both the existence of small well separated whisker like clusters and also an expander like core whose best clusters get gradually worse as the purported communities increase in size . Intuitively , a satisfactory network generation model must successfully take into account the following two mechanisms :
( a ) The model should produce a relatively large number of relatively small—but still large when com
Community structure in real graphs
47 pared to random graphs—well connected and distinct whisker like communities . ( This should reproduce the downward part of the community profile plot and the minimum at small size scales . )
( b ) The model should produce a large expander like core , which may be thought of as consisting of intermingled communities , perhaps growing out from the whisker like communities , the boundaries of which get less and less well defined as the communities get larger and larger and as they gradually blend in with rest of the network . ( This should reproduce the gradual upward sloping part of the community profile plot . )
The so called Forest Fire Model [ 111 , 112 ] captures exactly these two competing phenomena . The Forest Fire Model is a model of graph generation ( that generates directed graphs—an effect we will ignore ) in which new edges are added via a recursive “ burning ” mechanism in an epidemic like fashion . Since the details of the recursive burning process are critical for the model ’s success , we explain it in some detail . To describe the Forest Fire Model of [ 111 , 112 ] , let us fix two parameters , a forward burning probability pf and a backward burning probability pr . We start the entire process with a single node , and at each time step t > 1 , we consider a new node v that joins the graph Gt constructed thus far . The node v forms out links to nodes in Gt as follows :
( i ) Node v first choose a node w , which we will refer to as a “ seed ” node or an “ ambassador ” node , uniformly at random and forms a link to w .
( ii ) Node v selects x out links and y in links of w that have not yet been visited . ( x and y are two geometrically distributed random numbers with means pf /(1− pf ) and pr/(1− pr ) , respectively . If not enough in links or out links are available , then v selects as many as possible . ) Let w1 , w2 , . . . , wx+y denote the nodes at the other ends of these selected links .
( iii ) Node v forms out links to w1 , w2 , . . . , wx+y , and then applied step ( ii ) recursively to each of the w1 , w2 , . . . , wx+y , except that nodes cannot be visited a second time during the process .
Thus , burning of links in the Forest Fire Model begins at node w , spreads to w1 , w2 , . . . , wx+y , and proceeds recursively until the process dies out . One can view such a process intuitively as corresponding to a model in which a person comes to the party and first meets an ambassador who then introduces him or her around . If the person creates a small number of friendships these will likely be from the ambassadors “ community , ” but if the person happens to create many friendships then these will likely go outside the ambassador ’s circle of friends . This way , the ambassador ’s community might gradually get intermingled with the rest of the network .
Two properties of this model are particularly significant . First , although many nodes might form one or a small number of links , certain nodes can produce large conflagrations , burning many edges and thus forming a large number of out links before the process ends . Such nodes will help generate a skewed out degree distribution , and they will also serve as “ bridges ” that connect formerly disparate parts of the network . This will help make the NCP plot gradually increase . Second , there is a locality structure in that as each new node v arrives over time , it is assigned a “ center of gravity ” in some part of the network , ie , at the ambassador node w , and the manner in which new links are added depends sensitively on the local graph structure around node w . Not only does the probability of linking to other nodes decrease rapidly with distance to the current ambassador , but because of the recursive process regions with a higher density of links tend to attract new links .
Not surprisingly , however , the Forest Fire Model is sensitive to the choice of the parameters pf and pb . We have experimented with a wide range of network sizes and values for these parameters , and in Figure 19 , we show the community profile plots of several 10 , 000 node Forest Fire networks generated with pb = 0.3 and several different values of pf . The first thing to note is that since we are varying pf the six plots in Figure 19 , we are viewing networks with very different densities . Next , notice that if , eg , pf = 0.33 or pf = 0.35 then we observe a very natural behavior : the conductance nicely decreases , reaches
48
Leskovec et al .
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
101
102
103
104 n ( number of nodes in the cluster )
10 3
100
101
102
103
104 n ( number of nodes in the cluster )
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
101
102
103
104 n ( number of nodes in the cluster )
10 3
100
101
102
103
104 n ( number of nodes in the cluster )
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
100
10 1
) e c n a t c u d n o c (
ϕ
10 3
100
101
102
103
104 n ( number of nodes in the cluster )
10 2
100
101
102
103
104 n ( number of nodes in the cluster )
Figure 19 : [ Best viewed in color . ] Community profile plots for the Forest Fire Model at various parameter settings . The backward burning probability is pb = 0.3 , and we increase ( left to right , top to bottom ) the forward burning probability pf = {0.26 , 0.31 , 0.33 , 0.35 , 0.37 , 040} Note that the largest and smallest values for pf lead to less realistic community profile plots , as discussed in the text .
Community structure in real graphs
49
Figure 20 : Examples of whiskers from a simulation of the Forest Fire Model with parameter settings pf = 0.37 and pb = 03 the minimum somewhere between 10 and 100 nodes , and then slowly but not too smoothly increases . Not surprisingly , it is in this parameter region where the Forest Fire Model has been shown to exhibit realistic time evolving graph properties such as densification and shrinking diameters [ 111 , 112 ] . Next , notice that if pf is too low or too high , then we obtain qualitatively different results . For example , if pf = 0.26 , then the community profile plot gradually decreases for nearly the entire plot . For this choice of parameters , the forest fire does not spread well since the forward burning probability is too small , the network is extremely sparse and is tree like with just a few extra edges , and so we get large well separated “ communities ” that get better as they get larger . On the other hand , when burning probability is too high , eg , pf = 0.40 , then the NCP plot has a minimum and then rises extremely rapidly . For this choice of parameters , if a node which initially attached to a whisker successfully burns into the core , then it quickly establishes many successful connections to other nodes in the core . Thus , the network has relatively large whiskers that failed to establish such a connection and a very expander like core , with no intermediate region , and the increase in the community profile plot is quite abrupt .
We have examined numerous other properties of the graphs generated by the Forest Fire Model and have found them to be broadly consistent with the social and information networks we have examined . This is certainly a topic for further study , and a detailed discussion of these issues is beyond the scope of this paper . One property , however , that is of particular interest is what the whiskers look like . Figure 20 shows an example of several whiskers generated by the Forest Fire Model if we choose pb = 0.30 and pf = 037 They are larger and more well structured than the tree like whiskers from the random graph model of Section 62 Also notice that they all look plausibly community like with a core of the nodes densely linked among themselves and the bridge edge then connects the whisker to the rest of the network . We conclude by noting that there has also been interest in developing hiererchical graph generation models , ie , models in which a hierarchy is given and the linkage probability between pairs of nodes decreases as a function of their distance in the hierarchy [ 136 , 135 , 30 , 6 , 109 , 47 , 156 , 110 ] . The motivation for this comes largely from the intuition that nodes in social networks and are joined in to small relatively tight groups that are then further join into larger groups , and so on . As Figures 16(c ) and 16(d ) make clear , however , such models do not immediately lead to community structure similar to what we have observed and which has been reproduced by the Forest Fire Model . On the other hand , although there are significant differences between hierarchical models and the Forest Fire Model , [ 111 , 112 ] notes that there are similarities . In particular , in the Forest Fire Model a new node v is assigned an ambassador w as an entry point to the network . This is analogous to a child having a parent in the hierarchy which helps to determine how that node links to the remainder of the network . Similarly , many hierarchical models have a connection probability that decreases exponentially in the hierarchical tree distance . In the Forest Fire Model , the probability that a node v will burn along a particular path to another node u is exponentially small in the path length , although the analogy is not perfect since there may exist many possible paths .
50
7 Discussion
Leskovec et al .
In this section , we discuss several aspects of our main results in a broader context . In particular , in Section 7.1 , we compare to several data sets in which there is some notion of “ ground truth ” community and we also describe several broader non technical implications of our results . Then , in Section 7.3 , we describe recent work on community detection and identification . Finally , in Section 7.4 , we discuss several technical and algorithmic issues and questions raised by our work .
7.1 Comparison with “ ground truth ” and sociological communities
In this subsection , we examine the relationship between network communities of the sort we have been discussing and more traditional social communities . We do so by examining several network datasets in which we have access to some notion of “ ground truth . ” That is , for each of these interaction graphs , we may associate with each node one or more community labels , which are exogenously specified . Note that we are overloading the term “ community ” here , as in this context the term might mean one of two things : first , it can refer to groups of nodes with good conductance properties ; and second , it can refer to groups of nodes that belong to the same self defined or exogenously specified group . We consider the following five datasets :
• LiveJournal12 [ 20 ] : LiveJournal is an on line blogging site where users can create friendship links to other bloggers . In addition , users can create groups , which other users can then join . In LiveJournal , there are 385 , 959 such groups , and a node belongs to 3.5 groups on the average . Thus , in addition to the information in the interaction graph , we have labels specifying those groups with which a user is associated , and thus we may view each such group as determining a “ ground truth ” community .
• CA DBLP [ 20 ] : We considered a co authorship network in which nodes are authors and there is an edge if authors co authored at least one paper . Here , publication venues ( eg , journals and conferences ) can play the role of “ ground truth ” communities . That is , an author is a member of a particular group or community if he or she published at a particular conference or in a particular journal . In our DBLP network , there are 2 , 547 such groups , with a node belonging to 2.6 on the average .
• AmazonAllProd [ 48 ] : This is a network of products that are commonly purchased together at amazoncom ( Intuitively one might expect that , eg , gardening books are frequently purchased together , so the network structure might reflect a well connected cluster of gardening books . ) Here , each item belongs to one or more hierarchically organized categories ( book , movie genres , product types , etc. ) , and products from the same category define a group which we will view as a “ ground truth ” community . Items can belong to 49 , 732 different groups , and each item belongs to 14.3 groups on the average .
• AtM IMDB : This network is a bipartite actors to movies network composed from IMDB data , and an actor A is connected to movie B if A appeared in B . For each movie we also know the language and the country where it was produced . Countries and languages may be taken as “ ground truth ” communities or groups , where every movie belongs to exactly one group and actors belongs to all groups to which movies that they appeared in belong . In our dataset , we have 393 language groups and 181 country groups .
• Email Inside and Email InOut [ 112 ] : This is an email communication network from a large European research organization conducting research in natural sciences : physics , chemistry , biology and computer science . Each of 986 members of the organization belongs to exactly one of 45 departments , and we use the department memberships to define “ ground truth ” communities
Community structure in real graphs
51
Although none of these notions of “ ground truth ” is perfect , many community finding algorithms use precisely this form of anecdotal evaluation : a network is taken , network communities are found , and then the correspondence of network communities to “ ground truth ” communities is evaluated . Note , however , we are evaluating how “ ground truth ” communities behave at different size scales with respect to our methodology , rather than examining how the groups we find relate to “ ground truth ” communities . Andersen and Lang [ 14 ] have performed the latter evaluation for a version of the IMDB data . Furthermore , note that the notions of “ ground truth ” are not all the same—we might expect that people publish papers across several different venues in a very different way than actors appear in movies from different countries . More detailed statistics for each of these networks may be found in Tables 1 , 2 and 3 .
To examine the quality of “ ground truth ” communities in the these network datasets , one can take all groups and measure the conductance of the cut that separates that group from the rest of the network . Thus , we generated NCP plots in the following way . For every “ ground truth ” community , we measure its conductance , from which we obtain a scatter plot of community size versus conductance . Then , we take the lower envelope of this plot , ie , for every integer k we find the conductance value of the community of size k that has the lowest conductance . Figure 21 shows the results for these network datasets ; the figure also shows the NCP plot obtained from using the Local Spectral Algorithm on both the original network and on the rewired network .
Several things should be noted . First , the conductance of “ ground truth ” communities follows that for the network communities up to until size 10 100 nodes , ie , larger communities get successively more community like . As “ ground truth ” communities get larger , their conductance values tend to get worse and worse , in agreement with network communities discovered with graph partitioning approximation algorithms . Thus , the qualitative trend we observed in nearly every large sparse real world network ( of the best communities blending in with the rest of the network as they grow in size ) is seen to hold for “ ground truth ” communities . Second , one might expect that the NCP plot for the “ ground truth ” communities ( the green curves ) will be somewhere between the NCP plot of the original network ( red curves ) and that for the rewired network ( black curves ) , and this is seen to be the case in general . The NCP plot for network communities goes much deeper and rises more gradually than for “ ground truth ” communities . This is also very consistent with our general observation that only small communities tend to be dense and well separated , and to separate large groups one has to cut disproportionately many edges . Third , for the two social networks we studied ( LiveJournal12 and CA DBLP ) , larger “ ground truth ” communities have conductance scores that get quite “ random ” , ie , they are as well separated as they would be in a randomly rewired network ( green and black curves overlap ) . This is likely associated with the relatively weak and overlapping notion of “ ground truth ” we associated with those two network datasets . On the other hand , for AmazonAllProd and AtM IMDB networks , the general trend still remains but large “ ground truth ” communities have conductance scores that lie well below the rewired network curve .
Our email networks illustrate a somewhat different point . The NCP plot for Email Inside should be compared with that for Email InOut , which is displayed in Figure 6 . The Email Inside email network is rather small , and so it has a decreasing community profile plot , in agreement with the results for small social networks . Since communication is mainly focused between the members of the same department , both network and “ ground truth ” communities are well expressed . Next , compare the NCP plot of Email Inside with that of Email InOut ( Figure 6 ) . We see that the NCP plot of Email Inside slopes downwards ( as we consider only the communication inside the organization ) , but as soon as we consider the communication inside the organization and to the outside world ( Email InOut , or alternatively , see Email Enron ) then we see a completely different and more familiar picture—the NCP plot drops and then slowly increases . This suggests that the organizational structure , ( eg , departments ) manifest themselves in the internal communication network but if we put the organization into the broader context ( ie , how it communicates to the rest of the world ) then the internal structure seems to disappear .
52
Leskovec et al .
100
10 1
10 2
10 3
) e c n a t c u d n o c (
ϕ
10 4
100
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
101
102
103
104
105 n ( number of nodes in the cluster )
( a ) LiveJournal12
102
103
101
105 n ( number of nodes in the cluster )
104
( c ) AmazonAllProd
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
100
) e c n a t c u d n o c (
ϕ
101
102
103
104
105 n ( number of nodes in the cluster )
( b ) CA DBLP
10 1
100
102 n ( number of nodes in the cluster )
101
( d ) Email Inside
100
10 1
10 2
) e c n a t c u d n o c (
ϕ
10 3
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
10 3
100
101
102
103
104
105
106 n ( number of nodes in the cluster )
( e ) AtM Imbd Country
( f ) AtM Imbd Language
Figure 21 : [ Best viewed in color . ] Network community profile plots for explicitly “ ground truth ” communities ( green ) , compared with that for the original network ( red ) and a rewired version of the network ( black ) : ( a ) LiveJournal12 ; ( b ) CA DBLP ; ( c ) AmazonAllProd ; ( d ) Email Inside ; and ( e f ) AtM IMDB .
Community structure in real graphs
53
7.2 Broader implications
In contrast to numerous studies of community structure , we find that the “ best ” communities are relatively small , with sizes only up to about 100 nodes . We also find that above size of about 100 , the “ quality ” of communities gets worse and worse and communities more and more “ blend into ” the graph . Eventually , even the existence of communities ( at least when viewed as sets with stronger internal than external connectivity ) is rather questionable . This seems to agree with Dunbar [ 58 ] who predicted that 150 is the upper limit on the size of a human community . Moreover , Allen [ 12 ] gives evidence that on line communities have around 60 members , and on line discussion forums start to break down at about 80 active contributors . Church congregations , military companies , divisions of corporations , all are close to the magic sum of 150 [ 12 ] . We are thus led to ask : Why , above this size , is community quality inversely proportional to its size ? And why are NCP plots of small and large networks so different ?
Recently , there have been several works hinting that the network communities subject is more complex than it seems at the first sight . For example , it has been found that random graphs can have good modularity scores [ 84 ] . Intuitively , random graphs have no community structure but there can still exist sets of nodes with good community scores , at least as measured by modularity . Moreover , very recently a study of robustness of community structure showed that the canonical example of presence of community structure in networks [ 157 ] may have no significant community structure [ 93 ] .
Previous studies mainly focused on small networks ( eg , see [ 52] ) , which are simply not large enough for the clusters to gradually blend into one another as one looks at larger size scales . Our results do not disagree with literature at small sizes . But it seems that in order to make our observations one needs to look at large networks . Probably it is only when Dunbar ’s limit is passed that we find large communities blurring and eventually vanishing . A second reason is that previous work did not measure and examine the network community profile of cluster size vs . cluster quality .
Dunbar ’s explanation aligns well with the common bond vs . common identity theory of group attachment [ 138 ] from social phycology . Common identity theory makes predictions about people ’s attachment to the group as a whole , while common bond theory predicts people ’s attachment to individual group members . The distinction between the two refers to people ’s different reasons for being in a group . Because they like the group as a whole we get identity based attachment , or because they like individuals in the group we get bond based attachment . Anecdotally , bond based groups are based on social interaction with others , personal knowledge of them , and interpersonal attraction to them . On the other hand , identity based groups are based on common identity of its members , eg , liking to play a particular online game , contributing to Wikipedia , etc . It has been noted that bond communities tend to be smaller and more cohesive [ 19 ] , as they are based on interpersonal ties , while identity communities are focused around common theme or interest . See [ 138 ] for a very good review of the topic .
Translating this to our context , the bond vs . identity communities mean that small , cohesive and well isolated communities are probably based on common bonds , while bigger groups may be based on common identity , and it is hard to expect such big communities to be well separated or well expressed in a network sense . This further means the transition between common bond ( ie , maintaining close personal ties ) and common identity ( ie , sharing a common interest or theme ) occurs at around one hundred nodes . It seems that at this size the cost of maintaining bond ties becomes too large and the group either dies or transitions into a common identity community . It would be very interesting as a future research topic to explore differences in community network structure as the community grows and transitions from common bond to common identity community .
Another explanation could be that in small , carefully collected networks , the semantics of edges is very precise while in large networks we know much less about each particular edge , eg , especially when online people have very different criteria for calling someone a friend . Traditionally social scientists through questionnaires “ normalized ” the links by making sure each link has the same semantics/strength .
There has also been some evidence that hints towards the findings we make here . For example , Clauset et al . [ 48 ] analyzed community structure of a graph related to the AmazonProd , and found
54
Leskovec et al . that 50 % of the nodes belonged to the largest “ miscellaneous ” community . This agrees with the typical size of the network core , and one could conclude that the largest community they found corresponds to the intermingled core of the network , and most of the rest of the communities are whisker like .
Our work also raises an important question of what is a natural community size , and whether larger communities ( in a network sense ) even exist . It seems that when community size surpasses some threshold it becomes so diverse , that it stops existing as a traditionally understood “ network community ” . It blends with the network , and intuitions based on connectivity and cuts seem to fail to identify it . Approaches that consider both the network structure and node attribute data might detect communities in these cases .
Also , conductance seems like a very reasonable measure that satisfies intuition about community quality , but we have seen that if one only worries about conductance , then bags of whiskers and other internally disconnected sets have the best scores . This raises interesting questions about cluster coherence , regularization and smoothness : what is a good definition of coherence , and how should this be connected to the notion of community separability ?
7.3 Relationship with community identification methods
A great deal of work has been devoted to finding communities in large networks , and much of this has been devoted to formalizing the intuition that a community is a set of nodes that has more and/or better intra linkages between its members than inter linkages with the remainder of the network . Very relevant to our work is that of Kannan , Vempala , and Vetta [ 92 ] , who analyze spectral algorithms and describe a community concept in terms of a bicriterion depending on the conductance of the communities and the relative weight of inter community edges . Flake , Tarjan , and Tsioutsiouliklis [ 68 ] introduce a similar bicriterion that is based on network flow ideas , and Flake et al . [ 66 , 67 ] defined a community as a set of nodes that has more intra edges than inter edges . Similar edge counting ideas were used by Radicchi et al . [ 133 ] to define and apply the notions of a strong community and a weak community .
Within the “ complex networks ” community , Girvin and Newman [ 79 ] proposed an algorithm that used “ centrality ” indices to find community boundaries . Following this , Newman and Girvin [ 129 ] introduced modularity as a posteriori measure of the strength of community structure . Modularity measures inter(and not intra ) connectivity , but it does so with reference to a randomized null model . Modularity has been very influential in the recent community detection literature [ 125 , 52 ] , and one can use spectral techniques to approximate it [ 154 , 128 ] . On the other hand , Guimer`a , Sales Pardo , and Amaral [ 84 ] and Fortunato and Barth´elemy [ 72 ] showed that random graphs have high modularity subsets and that there exists a size scale below which communities cannot be identified . In part as a response to this , some recent work has had a more statistical flavor [ 85 , 137 , 141 , 93 , 130 ] . In light of our results , this work seems promising , both due to potential “ overfitting ” issues arising from the extreme sparsity of the networks , and also due to the empirically promising regularization properties exhibited by local spectral methods . We have made extensive use of the Local Spectral Algorithm of Andersen , Chung , and Lang [ 13 ] . Similar results were originally proven by Spielman and Teng [ 147 , 148 ] , who analyzed local random walks on a graph ; see Chung [ 34 , 36 , 35 ] for an exposition of the relationship between these methods . Andersen and Lang [ 14 ] showed that these techniques can find ( in a scalable manner ) medium sized communities in very large social graphs in which there exist reasonably well defined communities . In light of our results , such methods seem promising more generally . Other recent work that has focused on developing local and/or near linear time heuristics for community detection include [ 48 , 155 , 46 , 21 , 134 ] .
In addition to this work we have cited , there exists work which views communities from a very different perspective . For example , Kumar et al . [ 102 ] view communities as a dense bipartite subgraph of the Web ; Gibson , Kleinberg , and Raghavan [ 78 ] view communities as consisting of a core of central authoritative pages linked together by hub pages ; Hopcroft et al . [ 88 , 89 ] are interested in the temporal evolution of communities that are robust when the input data to clustering algorithms that identify them are moderately perturbed ; and Palla et al . [ 131 ] view communities as a chain of adjacent cliques and focus
Community structure in real graphs
55 on the extent to which they are nested and overlap . The implications of our results for this body of work remain to be explored .
7.4 Relationship with other theoretical work
In this subsection , we describe the relationship between our work and recent work with similar flavor in graph partitioning , algorithms , and graph theory . Consider recent work that has focused on the expansion properties of power law graphs and the real world networks they model . For example , Mihail , Papadimitriou , and Saberi [ 118 ] , as well as Gkantsidis , Mihail , and Saberi [ 80 ] , studied Internet routing at the level of Autonomous Systems ( AS ) , and showed that the preferential attachment model and a random graph model with power law degree distributions each have good expansion properties if the minimum degree is greater than 2 or 3 , respectively . This is consistent with the empirical results , but as we have seen the AS graphs are quite unusual , when compared with nearly every other social and information network we have studied . On the other hand , Estrada has made the observation that although certain communication , information , and biological networks have good expansion properties , social networks do not [ 59 ] . This is interpreted as evidence that such social networks have good small highly cohesive groups , a property which is not attributed to the biological networks that were considered . From the perspective of our analysis , these results are interesting since it is likely that these small highly cohesive groups correspond to sets near the global minimum of the network community profile plot . Reproducing deep cuts was also a motivation for the development of the geometric preferential attachment models of Flaxman , Frieze , and Vera [ 70 , 71 ] . Note , however , that the deep cuts they obtain arise from the underlying geometry of the model and thus are nearly bisections .
Consider also recent results on the structural and spectral properties of very sparse random graphs . Recall that the Gnp random graph model [ 24 ] consists of those graphs on n nodes , in which there is an edge between every pair vertices with a probability p , independently . Recall also that if p ∈ ( 1/n , log n/n ) , then a typical graph in Gnp has a giant component , ie , connected subgraph consisting of a constant fraction of the nodes , but the graph is not fully connected [ 24 ] . ( If p < 1/n , the a typical graph is disconnected and there does not exist a giant component , while if p > log n/n , then a typical graph is fully connected . ) As noted , eg , by Feige and Ofek [ 62 ] , this latter regime is particularly difficult to analyze since with fairly high probability there exist vertices with degrees that are much larger than their expected degree . As reviewed in Section 6.2 , however , this regime is not unlike that in a power law random graph in which the power law exponent β ∈ ( 2 , 3 ) [ 37 , 115 , 41 ] . Of particular interest to us are recent results on the mixing time of random walks in this p ∈ ( 1/n , log n/n ) regime of the Gnp ( and the related Gnm ) random graph model . Benjamini , Kozma , and Wormald [ 22 ] and Fountoulakis and Reed [ 74 , 73 ] have established rapid mixing results by proving structural results about these very sparse graphs . In particular , they proved that these graphs may be viewed as a “ core ” expander subgraph , whose deletion leaves a large number of “ decorations , ” ie , small components such that a bounded number are attached to any vertex in the core . The particular constructions in their proofs is complicated , but they have a similar flavor to the core and whiskers structure we have empirically observed . Similar results were observed by Fernholz and Ramachandran [ 63 ] , whose analysis separately considered the 2 core of these graphs and then the residual pieces . They show that a typical longest shortest path between two vertices u and v consists of a path of length O(log n ) from u to the 2 core , then a path of length O(log n ) across the 2 core , and finally a path of length O(log n ) from the 2 core to v . Again , this is reminiscent of the core and whiskers properties we have observed . In all these cases , the structure is very different than traditional expanders [ 87 ] , which we also empirically observe . Eigenvalues of power law graphs have also been studied by Mihail and Papadimitriou [ 117 ] , Chung , Lu , Vu [ 43 , 44 , 45 ] , and Flaxman , Frieze , and Fenner [ 69 ] .
56
8 Conclusion
Leskovec et al .
We investigated statistical properties of sets of nodes in large real world social and information networks that could plausibly be interpreted as good communities , and we discovered that community structure in these networks is very different than what we expected from the literature and from what commonly used models would suggest . The most obvious property is that , in nearly every network dataset we examined , the conductance score of the best possible set of nodes gets gradually worse and worse as those sets increase in size . That is , if the world is modeled by a sparse “ interaction graph ” and if a density based notion such as conductance is an appropriate measure of community quality , then the “ best ” possible “ communities ” in nearly every real world network we examined gradually gets less and less communitylike and instead gradually “ blends in ” with the rest of the network , as the purported communities steadily grow in size . None of the commonly used network generation models , including preferential attachment , copying , and hierarchical models , generates networks that even qualitatively reproduce this community structure property . We found , however , that a model in which edges are added recursively , via an iterative “ forest fire ” burning mechanism , produces remarkably good results . Our work opens several new questions about the structure of large social and information networks in general , and it has implications for the use of graph partitioning algorithms on real world networks and for detecting communities in them .
Acknowledgement
We thank Reid Andersen , Christos Faloutsos and Jon Kleinberg for discussions , Lars Backstrom for data , and Arpita Ghosh for assistance with the proof of Theorem 1 .
References
[ 1 ] University of Oregon Route Views Project . Online data and reports . http://wwwrouteviewsorg , 1997 .
[ 2 ] TREC Web Corpus : WT10g . http://irdcsglaacuk/test collections/wt10g.html , 2000 .
[ 3 ] Google Programming Contest . http://wwwgooglecom/programming contest/ , 2002 .
[ 4 ] Netflix prize . http://wwwnetflixprizecom/ , 2006 .
[ 5 ] Network data . http://www personalumichedu/∼mejn/netdata/ , July 16 , 2007 .
[ 6 ] J . Abello . Hierarchical graph maps . Computers and Graphics , 28(3):345–359 , 2004 .
[ 7 ] W . Aiello , FRK Chung , and L . Lu . A random graph model for massive graphs . In STOC ’00 : Proceedings of the
32nd annual ACM Symposium on Theory of Computing , pages 171–180 , 2000 .
[ 8 ] W . Aiello , FRK Chung , and L . Lu . A random graph model for power law graphs . Experimental Mathematics ,
10:53–66 , 2001 .
[ 9 ] R . Z . Albert and A L . Barab´asi . Emergence of scaling in random networks . Science , 286(5439):509–512 , 1999 .
[ 10 ] R . Z . Albert and A L . Barab´asi . Statistical mechanics of complex networks . Reviews of Modern Physics , 74:47–97 ,
2002 .
[ 11 ] R . Z . Albert , H . Jeong , and A L . Barab´asi . The diameter of the world wide web . Nature , 401:130–131 , 1999 .
[ 12 ] Christopher Allen . Life with alacrity : The Dunbar number as a limit to group sizes , 2004 .
[ 13 ] R . Andersen , FRK Chung , and K . Lang . Local graph partitioning using PageRank vectors . In FOCS ’06 : Proceed ings of the 47th Annual IEEE Symposium on Foundations of Computer Science , pages 475–486 , 2006 .
[ 14 ] R . Andersen and K . Lang . Communities from seed sets .
In WWW ’06 : Proceedings of the 15th International
Conference on World Wide Web , pages 223–232 , 2006 .
[ 15 ] S . Arora , E . Hazan , and S . Kale . O(plog n ) approximation to sparsest cut in ˜O(n2 ) time . In FOCS ’04 : Proceedings of the 45th Annual Symposium on Foundations of Computer Science , pages 238–247 , 2004 .
[ 16 ] S . Arora and S . Kale . A combinatorial , primal dual approach to semidefinite programs . In STOC ’07 : Proceedings of the 39th annual ACM Symposium on Theory of Computing , pages 227–236 , 2007 .
[ 17 ] S . Arora , S . Rao , and U . Vazirani . Expander flows , geometric embeddings and graph partitioning . In STOC ’04 :
Proceedings of the 36th annual ACM Symposium on Theory of Computing , pages 222–231 , 2004 .
Community structure in real graphs
57
[ 18 ] M . Babenko , J . Derryberry , A . Goldberg , R . Tarjan , and Y . Zhou . Experimental evaluation of parametric max flow algorithms . In WEA ’07 : Proceedings of the 6th Workshop on Experimental Algorithms , pages 256–269 , 2007 .
[ 19 ] KW Back . Influence through social communication . Journal of Abnormal and Social Psychology , 46:9–23 , 1951 .
[ 20 ] L . Backstrom , D . Huttenlocher , J . Kleinberg , and X . Lan . Group formation in large social networks : membership , growth , and evolution . In KDD ’06 : Proceedings of the 12th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining , pages 44–54 , 2006 .
[ 21 ] JP Bagrow and EM Bollt . Local method for detecting communities . Physical Review E , 72:046108 , 2005 .
[ 22 ] I . Benjamini , G . Kozma , and N . Wormald . The mixing time of the giant component of a random graph . arXiv:math/0610459 , October 2006 .
[ 23 ] S . Boccaletti , V . Latora , Y . Moreno , M . Chavez , and DU Hwang . Complex networks : Structure and dynamics .
Physics Reports , 424(4 5):175–308 , 2006 .
[ 24 ] B . Bollob´as . Random Graphs . Academic Press , London , 1985 .
[ 25 ] B . Bollob´as and O . M . Riordan . Mathematical results on scale free random graphs . In S . Bornholdt and HG Schuster , editors , Handbook of Graphs and Networks , pages 1–34 . Wiley , 2004 .
[ 26 ] U . Brandes , M . Gaertler , and D . Wagner . Engineering graph clustering : Models and experimental evaluation . Journal of Experimental Algorithmics , 12(1 ) , 2007 .
[ 27 ] A . Broder , R . Kumar , F . Maghoul , P . Raghavan , S . Rajagopalan , R . Stata , A . Tomkins , and J . Wiener . Graph structure in the Web . In WWW ’00 : Proceedings of the 9th International Conference on World Wide Web , pages 309–320 , 2000 .
[ 28 ] S . Burer and RDC Monteiro . A nonlinear programming algorithm for solving semidefinite programs via low rank factorization . Mathematical Programming ( series B ) , 95(2):329–357 , 2003 .
[ 29 ] D . Chakrabarti and C . Faloutsos . Graph mining : Laws , generators , and algorithms . ACM Computing Surveys ,
38(1):2 , 2006 .
[ 30 ] D . Chakrabarti , Y . Zhan , and C . Faloutsos . R mat : A recursive model for graph mining . In SDM ’04 : Proceedings of the 4th SIAM International Conference on Data Mining , 2004 .
[ 31 ] J . Cheeger . A lower bound for the smallest eigenvalue of the laplacian . In Problems in Analysis , Papers dedicated to
Salomon Bochner , pages 195–199 . Princeton University Press , 1969 .
[ 32 ] BV Cherkassky and AV Goldberg . On implementing push relabel method for the maximum flow problem . In IPCO ’95 : Proceedings of the 4th International IPCO Conference on Integer Programming and Combinatorial Optimization , pages 157–171 , 1995 .
[ 33 ] FRK Chung . Spectral graph theory , volume 92 of CBMS Regional Conference Series in Mathematics . American
Mathematical Society , 1997 .
[ 34 ] FRK Chung . Four proofs of cheeger inequality and graph partition algorithms . In Proceedings of ICCM , 2007 .
[ 35 ] FRK Chung . The heat kernel as the pagerank of a graph . Proceedings of the National Academy of Sciences of the
United States of America , 104(50):19735–19740 , 2007 .
[ 36 ] FRK Chung . Random walks and local cuts in graphs . Linear Algebra and its Applications , 423:22–32 , 2007 .
[ 37 ] FRK Chung and L . Lu . The diameter of sparse random graphs . Advances in Applied Mathematics , 26(4):257–279 ,
2001 .
[ 38 ] FRK Chung and L . Lu . The average distances in random graphs with given expected degrees . Proceedings of the
National Academy of Sciences of the United States of America , 99(25):15879–15882 , 2002 .
[ 39 ] FRK Chung and L . Lu . Connected components in random graphs with given expected degree sequences . Annals of Combinatorics , 6(2):125–145 , 2002 .
[ 40 ] FRK Chung and L . Lu . The average distances in a random graph with given expected degrees . Internet Mathematics ,
1:91–113 , 2003 .
[ 41 ] FRK Chung and L . Lu . Complex Graphs and Networks , volume 107 of CBMS Regional Conference Series in
Mathematics . American Mathematical Society , 2006 .
[ 42 ] FRK Chung and L . Lu . The volume of the giant component of a random graph with given expected degrees . SIAM
Journal on Discrete Mathematics , 20:395–411 , 2006 .
[ 43 ] FRK Chung , L . Lu , and Van Vu . Eigenvalues of random power law graphs . Annals of Combinatorics , 7:21–33 ,
2003 .
[ 44 ] FRK Chung , L . Lu , and Van Vu . The spectra of random graphs with given expected degrees . Proceedings of the
National Academy of Sciences of the United States of America , 100(11):6313–6318 , 2003 .
58
Leskovec et al .
[ 45 ] FRK Chung , L . Lu , and Van Vu . The spectra of random graphs with given expected degrees . Internet Mathematics ,
1:257–275 , 2004 .
[ 46 ] A . Clauset . Finding local community structure in networks . Physical Review E , 72:026132 , 2005 .
[ 47 ] A . Clauset , C . Moore , and MEJ Newman . Structural inference of hierarchies in networks . arXiv:physics/0610051 ,
October 2006 .
[ 48 ] A . Clauset , MEJ Newman , and C . Moore . Finding community structure in very large networks . arXiv:cond mat/0408187 , August 2004 .
[ 49 ] A . Clauset , CR Shalizi , and MEJ Newman . Power law distributions in empirical data . arXiv:0706.1062 , June
2007 .
[ 50 ] V . Colizza , A . Flammini , MA Serrano , and A . Vespignani . Characterization and modeling of protein protein interaction networks . Physica A Statistical Mechanics and its Applications , 352:1–27 , 2005 .
[ 51 ] L . da F . Costa , FA Rodrigues , G . Travieso , and PR Villas Boas . Characterization of complex networks : A survey of measurements . Advances in Physics , 56(1):167–242 , 2007 .
[ 52 ] L . Danon , J . Duch , A . Diaz Guilera , and A . Arenas . Comparing community structure identification . Journal of
Statistical Mechanics : Theory and Experiment , 29(09):P09008 , 2005 .
[ 53 ] IS Dhillon , Y . Guan , and B . Kulis . Weighted graph cuts without eigenvectors : A multilevel approach .
IEEE
Transactions on Pattern Analysis and Machine Intelligence , 29(11):1944–1957 , 2007 .
[ 54 ] WE Donath and AJ Hoffman . Algorithms for partitioning graphs and computer logic based on eigenvectors of connection matrices . IBM Technical Disclosure Bulletin , 15(3):938–944 , 1972 .
[ 55 ] SN Dorogovtsev and JFF Mendes . Evolution of networks . Advances in Physics , 51:1079–1187 , 2002 .
[ 56 ] J . Doyle and JM Carlson . Power laws , highly optimized tolerance , and generalized source coding . Physical Review
Letters , 84(24):5656–5659 , 2000 .
[ 57 ] J . Doyle and JM Carlson . Complexity and robustness . Proceedings of the National Academy of Sciences of the
United States of America , 99:2538–2545 , 2002 .
[ 58 ] Robin Dunbar . Grooming , Gossip , and the Evolution of Language . Harvard Univ Press , October 1998 .
[ 59 ] E . Estrada . Spectral scaling and good expansion properties in complex networks . Europhysics Letters , 73:649–655 ,
2006 .
[ 60 ] A . Fabrikant , E . Koutsoupias , and CH Papadimitriou . Heuristically optimized trade offs : A new paradigm for power laws in the Internet . In ICALP ’02 : Proceedings of the 29th International Colloquium on Automata , Languages and Programming , pages 110–122 , 2002 .
[ 61 ] M . Faloutsos , P . Faloutsos , and C . Faloutsos . On power law relationships of the internet topology . In SIGCOMM ’99 : Proceedings of the Conference on Applications , technologies , architectures , and protocols for computer communication , pages 251–262 , 1999 .
[ 62 ] U . Feige and E . Ofek . Spectral techniques applied to sparse random graphs . Random Structures and Algorithms ,
27:251–275 , 2005 .
[ 63 ] D . Fernholz and V . Ramachandran . The diameter of sparse random graphs . Random Structures and Algorithms ,
31:482–516 , 2007 .
[ 64 ] CM Fiduccia and RM Mattheyses . A linear time heuristic for improving network partitions . In DAC ’82 : Proceed ings of the 19th ACM/IEEE Conference on Design Automation , pages 175–181 , 1982 .
[ 65 ] M . Fiedler . Algebraic connectivity of graphs . Czechoslovak Mathematical Journal , 23(98):298–305 , 1973 .
[ 66 ] GW Flake , S . Lawrence , and CL Giles . Efficient identification of web communities . In KDD ’00 : Proceedings of the 6th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining , pages 150–160 , 2000 .
[ 67 ] GW Flake , S . Lawrence , CL Giles , and FM Coetzee . Self organization and identification of web communities .
Computer , 35(3):66–71 , 2002 .
[ 68 ] GW Flake , RE Tarjan , and KTsioutsiouliklis Graph clustering and minimum cut trees . Internet Mathematics ,
1(4):385–408 , 2003 .
[ 69 ] A . Flaxman , A . Frieze , and T . Fenner . High degree vertices and eigenvalues in the preferential attachment graph .
Internet Mathematics , 2(1):1–19 , 2005 .
[ 70 ] AD Flaxman , AM Frieze , and J . Vera . A geometric preferential attachment model of networks . In WAW ’04 :
Proceedings of the 3rd Workshop On Algorithms And Models For The Web Graph , pages 44–55 , 2004 .
[ 71 ] AD Flaxman , AM Frieze , and J . Vera . A geometric preferential attachment model of networks II . In WAW ’07 :
Proceedings of the 5th Workshop On Algorithms And Models For The Web Graph , pages 41–55 , 2007 .
Community structure in real graphs
59
[ 72 ] S . Fortunato and M . Barth´elemy . Resolution limit in community detection . Proceedings of the National Academy of
Sciences of the United States of America , 104(1):36–41 , 2007 .
[ 73 ] N . Fountoulakis and B . Reed . The evolution of the mixing rate . arXiv:math/0701474 , January 2007 .
[ 74 ] N . Fountoulakis and BA Reed . Faster mixing and small bottlenecks . Probability Theory and Related Fields , 137(3–
4):475–486 , 2007 .
[ 75 ] M . Gaertler . Clustering . In U . Brandes and T . Erlebach , editors , Network Analysis : Methodological Foundations , pages 178–215 . Springer , 2005 .
[ 76 ] G . Gallo , MD Grigoriadis , and RE Tarjan . A fast parametric maximum flow algorithm and applications . SIAM
Journal on Computing , 18(1):30–55 , 1989 .
[ 77 ] J . Gehrke , P . Ginsparg , and J . Kleinberg . Overview of the 2003 KDD Cup . SIGKDD Explorations , 5(2):149–151 ,
2003 .
[ 78 ] D . Gibson , J . Kleinberg , and P . Raghavan . Inferring web communities from link topology . In HT ’98 : Proceedings of the 9th ACM Conference on Hypertext and Hypermedia , pages 225–234 , 1998 .
[ 79 ] M . Girvan and MEJ Newman . Community structure in social and biological networks . Proceedings of the National
Academy of Sciences of the United States of America , 99(12):7821–7826 , 2002 .
[ 80 ] C . Gkantsidis , M . Mihail , and A . Saberi . Conductance and congestion in power law graphs . In Proceedings of the 2003 ACM SIGMETRICS International Conference on Measurement and modeling of computer systems , pages 148–159 , 2003 .
[ 81 ] AV Goldberg and S . Rao . Beyond the flow decomposition barrier . Journal of the ACM , 45:783–797 , 1998 .
[ 82 ] AV Goldberg and RE Tarjan . A new approach to the maximum flow problem . Journal of the ACM , 35:921–940 ,
1988 .
[ 83 ] S . Guattery and GL Miller . On the quality of spectral separators . SIAM Journal on Matrix Analysis and Applica tions , 19:701–719 , 1998 .
[ 84 ] R . Guimer`a , M . Sales Pardo , and LAN Amaral . Modularity from fluctuations in random graphs and complex networks . Physical Review E , 70:025101 , 2004 .
[ 85 ] MB Hastings . Community detection as an inference problem . Physical Review E , 74:035102 , 2006 .
[ 86 ] B . Hendrickson and R . Leland . A multilevel algorithm for partitioning graphs . In Supercomputing ’95 : Proceedings of the 1995 ACM/IEEE Conference on Supercomputing ( CDROM ) , 1995 .
[ 87 ] S . Hoory , N . Linial , and A . Wigderson . Expander graphs and their applications . Bulletin of the American Mathe matical Society , 43:439–561 , 2006 .
[ 88 ] J . Hopcroft , O . Khan , B . Kulis , and B . Selman . Natural communities in large linked networks .
In KDD ’03 : Proceedings of the 9th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining , pages 541–546 , 2003 .
[ 89 ] J . Hopcroft , O . Khan , B . Kulis , and B . Selman . Tracking evolving communities in large linked networks . Proceedings of the National Academy of Sciences of the United States of America , 101:5249–5253 , 2004 .
[ 90 ] AK Jain , MN Murty , and PJ Flynn . Data clustering : a review . ACM Computing Surveys , 31:264–323 , 1999 .
[ 91 ] H . Jeong , SP Mason , A L . Barab´asi , and ZN Oltvai . Lethality and centrality in protein networks . Nature , 411:41–42 ,
2001 .
[ 92 ] R . Kannan , S . Vempala , and A . Vetta . On clusterings : Good , bad and spectral . Journal of the ACM , 51(3):497–515 ,
2004 .
[ 93 ] B . Karrer , E . Levina , and MEJ Newman . Robustness of community structure in networks . arXiv:0709.2108 ,
September 2007 .
[ 94 ] G . Karypis and V . Kumar . A fast and high quality multilevel scheme for partitioning irregular graphs . SIAM Journal on Scientific Computing , 20:359–392 , 1998 .
[ 95 ] G . Karypis and V . Kumar . Multilevel k way partitioning scheme for irregular graphs . Journal of Parallel and
Distributed Computing , 48:96–129 , 1998 .
[ 96 ] B . Kernighan and S . Lin . An effective heuristic procedure for partitioning graphs . The Bell System Technical Journal , pages 291–308 , 1970 .
[ 97 ] A . Khalil and Y . Liu . Experiments with PageRank computation . Technical Report 603 , Indiana University Department of Computer Science , December 2004 .
[ 98 ] R . Khandekar , S . Rao , and U . Vazirani . Graph partitioning using single commodity flows . In STOC ’06 : Proceedings of the 38th annual ACM Symposium on Theory of Computing , pages 385–390 , 2006 .
60
Leskovec et al .
[ 99 ] B . Klimt and Y . Yang . Introducing the enron corpus . In CEAS ’04 : Proceedings of the 1st Conference on Email and
Anti Spam , 2004 .
[ 100 ] R . Kumar , J . Novak , and A . Tomkins . Structure and evolution of online social networks . In KDD ’06 : Proceedings of the 12th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining , pages 611–617 , 2006 .
[ 101 ] R . Kumar , P . Raghavan , S . Rajagopalan , D . Sivakumar , A . Tomkins , and E . Upfal . Stochastic models for the web graph . In FOCS ’00 : Proceedings of the 41st Annual Symposium on Foundations of Computer Science , pages 57–65 , 2000 .
[ 102 ] R . Kumar , P . Raghavan , S . Rajagopalan , and A . Tomkins . Trawling the web for emerging cyber communities .
Computer Networks , 31(11):1481–1493 , 1999 .
[ 103 ] K . Lang . Finding good nearly balanced cuts in power law graphs . Technical Report YRL 2004 036 , Yahoo! Research
Labs , Pasadena , CA , November 2004 .
[ 104 ] K . Lang and S . Rao . Finding near optimal cuts : an empirical evaluation . In SODA ’93 : Proceedings of the 4th annual
ACM SIAM Symposium on Discrete algorithms , pages 212–221 , 1993 .
[ 105 ] K . Lang and S . Rao . A flow based method for improving the expansion or conductance of graph cuts . In IPCO ’04 : Proceedings of the 10th International IPCO Conference on Integer Programming and Combinatorial Optimization , pages 325–337 , 2004 .
[ 106 ] T . Leighton and S . Rao . An approximate max flow min cut theorem for uniform multicommodity flow problems with applications to approximation algorithms . In FOCS ’88 : Proceedings of the 28th Annual Symposium on Foundations of Computer Science , pages 422–431 , 1988 .
[ 107 ] T . Leighton and S . Rao . Multicommodity max flow min cut theorems and their use in designing approximation algorithms . Journal of the ACM , 46(6):787–832 , 1999 .
[ 108 ] J . Leskovec , LA Adamic , and BA Huberman . The dynamics of viral marketing . ACM Transactions on the Web ,
1(1 ) , 2007 .
[ 109 ] J . Leskovec , D . Chakrabarti , J . Kleinberg , and C . Faloutsos . Realistic , mathematically tractable graph generation In ECML/PKDD ’05 : Proceedings of the European International and evolution , using kronecker multiplication . Conference on Principles and Practice of Knowledge Discovery in Databases , pages 133–145 , 2005 .
[ 110 ] J . Leskovec and C . Faloutsos . Scalable modeling of real graphs using kronecker multiplication . In ICML ’07 : Pro ceedings of the 24th International Conference on Machine Learning , pages 497–504 , 2007 .
[ 111 ] J . Leskovec , J . Kleinberg , and C . Faloutsos . Graphs over time : densification laws , shrinking diameters and possible explanations . In KDD ’05 : Proceeding of the 11th ACM SIGKDD International Conference on Knowledge Discovery in Data Mining , pages 177–187 , 2005 .
[ 112 ] J . Leskovec , J . Kleinberg , and C . Faloutsos . Graph evolution : Densification and shrinking diameters . ACM Transac tions on Knowledge Discovery from Data , 1(1 ) , 2007 .
[ 113 ] J . Leskovec , M . McGlohon , C . Faloutsos , NS Glance , and M . Hurst . Patterns of cascading behavior in large blog graphs . In SDM ’07 : Proceedings of the 7th SIAM Conference on Data Mining , 2007 .
[ 114 ] L . Li , JC Doyle , and W . Willinger . Towards a theory of scale free graphs : Definition , properties , and implications .
Internet Mathematics , 2(4):431–523 , 2006 .
[ 115 ] L . Lu . The diameter of random massive graphs . In SODA ’01 : Proceedings of the 12th annual ACM SIAM Symposium on Discrete algorithms , pages 912–921 , 2001 .
[ 116 ] D . Lusseau , K . Schneider , OJ Boisseau , P . Haase , E . Slooten , and SM Dawson . The bottlenose dolphin community of doubtful sound features a large proportion of long lasting associations . Behavioral Ecology and Sociobiology , 54:396–405 , 2003 .
[ 117 ] M . Mihail and CH Papadimitriou . On the eigenvalue power law . In RANDOM ’02 : Proceedings of the 6th Interna tional Workshop on Randomization and Approximation Techniques , pages 254–262 , 2002 .
[ 118 ] M . Mihail , CH Papadimitriou , and A . Saberi . On certain connectivity properties of the internet topology . Journal of Computer and System Sciences , 72(2):239–251 , 2006 .
[ 119 ] R . Milo , N . Kashtan , S . Itzkovitz , MEJ Newman , and U . Alon . On the uniform generation of random graphs with prescribed degree sequences . arXiv:cond mat/0312028v2 , May 2004 .
[ 120 ] B . Mohar . The Laplacian spectrum of graphs .
In Y . Alavi , G . Chartrand , OR Oellermann , and AJ Schwenk , editors , Graph Theory , Combinatorics , and Applications , Vol . 2 , pages 871–898 . Wiley , 1991 .
[ 121 ] M . Molloy and B . Reed . A critical point for random graphs with a given degree sequence . Random Structures and
Algorithms , 6:161–180 , 1995 .
[ 122 ] M . Molloy and B . Reed . The size of the giant component of a random graph with a given degree sequence . Combi natorics , Probability and Computing , 7:295–305 , 1998 .
Community structure in real graphs
61
[ 123 ] AL Montgomery and C . Faloutsos . Identifying web browsing trends and patterns . Computer , 34(7):94–95 , 2001 .
[ 124 ] MEJ Newman . The structure and function of complex networks . SIAM Review , 45:167–256 , 2003 .
[ 125 ] MEJ Newman . Detecting community structure in networks . The European Physical Journal B , 38:321–330 , 2004 .
[ 126 ] MEJ Newman . Power laws , Pareto distributions and Zipf ’s law . Contemporary Physics , 46:323–351 , 2005 .
[ 127 ] MEJ Newman . Finding community structure in networks using the eigenvectors of matrices . Physical Review E ,
74:036104 , 2006 .
[ 128 ] MEJ Newman . Modularity and community structure in networks . Proceedings of the National Academy of Sciences of the United States of America , 103(23):8577–8582 , 2006 .
[ 129 ] MEJ Newman and M . Girvan . Finding and evaluating community structure in networks . Physical Review E ,
69:026113 , 2004 .
[ 130 ] MEJ Newman and EA Leicht . Mixture models and exploratory analysis in networks . Proceedings of the National
Academy of Sciences of the United States of America , 104(23):9564–9569 , 2007 .
[ 131 ] G . Palla , I . Der´enyi , I . Farkas , and T . Vicsek . Uncovering the overlapping community structure of complex networks in nature and society . Nature , 435(7043):814–818 , 2005 .
[ 132 ] Y . Qi , JK Seetharaman , and ZB Joseph . Random forest similarity for protein protein interaction prediction from multiple sources . In Pacific Symposium on Biocomputing , 2005 .
[ 133 ] F . Radicchi , C . Castellano , F . Cecconi , V . Loreto , and D . Parisi . Defining and identifying communities in networks .
Proceedings of the National Academy of Sciences of the United States of America , 101(9):2658–2663 , 2004 .
[ 134 ] U . Nandini Raghavan , RZ Albert , and S . Kumara . Near linear time algorithm to detect community structures in large scale networks . Physical Review E , 76:036106 , 2007 .
[ 135 ] E . Ravasz and A L Barab´asi . Hierarchical organization in complex networks . Physical Review E , 67:026112 , 2003 .
[ 136 ] E . Ravasz , AL Somera , DA Mongru , ZN Oltvai , and A L Barab´asi . Hierarchical organization of modularity in metabolic networks . Science , 297(5586):1551–1555 , 2002 .
[ 137 ] J . Reichardt and S . Bornholdt . Partitioning and modularity of graphs with arbitrary degree distribution . Physical
Review E , 76:015102 , 2007 .
[ 138 ] Y . Ren , R . Kraut , and S . Kiesler . Applying common identity and bond theory to design of online communities .
Organization Studies , 28(3):377–408 , 2007 .
[ 139 ] M . Richardson , R . Agrawal , and P . Domingos . Trust management for the semantic web . In ISWC ’03 : Proceedings of the 2nd International Semantic Web Conference , pages 351–368 , 2003 .
[ 140 ] M . Ripeanu , I . Foster , and A . Iamnitchi . Mapping the gnutella network : Properties of large scale peer to peer systems and implications for system design . IEEE Internet Computing , 6(1):50–57 , 2002 .
[ 141 ] M . Rosvall and CT Bergstrom . An information theoretic framework for resolving community structure in complex networks . Proceedings of the National Academy of Sciences of the United States of America , 104(18):7327–7331 , 2007 .
[ 142 ] SF Sampson . A novitiate in a period of change : An experimental and case study of social relationships . Technical report , Cornell University Deptartment of Sociology PhD thesis , 1968 .
[ 143 ] SE Schaeffer . Graph clustering . Computer Science Review , 1(1):27–64 , 2007 .
[ 144 ] J . Shi and J . Malik . Normalized cuts and image segmentation . IEEE Transcations of Pattern Analysis and Machine
Intelligence , 22(8):888–905 , 2000 .
[ 145 ] G . Siganos , SL Tauro , and M . Faloutsos . Jellyfish : A conceptual model for the as internet topology . Journal of
Communications and Networks , 8:339–350 , 2006 .
[ 146 ] DA Spielman and S H Teng . Spectral partitioning works : Planar graphs and finite element meshes . In FOCS ’96 :
Proceedings of the 37th Annual IEEE Symposium on Foundations of Computer Science , pages 96–107 , 1996 .
[ 147 ] DA Spielman and S H Teng . Nearly linear time algorithms for graph partitioning , graph sparsification , and solving In STOC ’04 : Proceedings of the 36th annual ACM Symposium on Theory of Computing , pages linear systems . 81–90 , 2004 .
[ 148 ] DA Spielman and S H Teng . Nearly linear time algorithms for graph partitioning , graph sparsification , and solving linear systems . arXiv:cs/0310051v9 , March 2004 .
[ 149 ] SL Tauro , C . Palmer , G . Siganos , and M . Faloutsos . A simple conceptual model for the internet topology .
In
GLOBECOM ’01 : Global Telecommunications Conference , pages 1667–1671 , 2001 .
[ 150 ] JB Tenenbaum , V . de Silva , and JC Langford . A global geometric framework for nonlinear dimensionality reduction .
Science , 290(5500):2319–2323 , 2000 .
62
Leskovec et al .
[ 151 ] U . von Luxburg . A tutorial on spectral clustering . Technical Report 149 , Max Plank Institute for Biological Cyber netics , August 2006 .
[ 152 ] S . Wasserman and K . Faust . Social Network Analysis . Cambridge University Press , Cambridge , 1994 .
[ 153 ] DJ Watts and SH Strogatz . Collective dynamics of small world networks . Nature , 393:440–442 , 1998 .
[ 154 ] S . White and P . Smyth . A spectral clustering approach to finding communities in graphs . In SDM ’05 : Proceedings of the 5th SIAM International Conference on Data Mining , pages 76–84 , 2005 .
[ 155 ] F . Wu and BA Huberman . Finding communities in linear time : a physics approach . The European Physical Journal
B , 38(2):331–338 , 2004 .
[ 156 ] Q . Xuan , Y . Li , and T J Wu . Growth model for complex networks with hierarchical and modular structures . Physical
Review E , 73:036105 , 2006 .
[ 157 ] WW Zachary . An information flow model for conflict and fission in small groups . Journal of Anthropological
Research , 33:452–473 , 1977 .
[ 158 ] CT Zahn . Graph theoretical methods for detecting and describing gestalt clusters . IEEE Transactions on Computers ,
C 20(1):68–86 , 1971 .
[ 159 ] Y . Zhao and G . Karypis . Empirical and theoretical comparisons of selected criterion functions for document clustering .
Machine Learning , 55:311–331 , 2004 .

EventShop : Recognizing Situations in Web Data Streams
Siripen Pongpaichet University of California ,
Irvine spongpai@icsuciedu
Vivek K . Singh
Mingyan Gao
Ramesh Jain
Massachusetts Institute
Google Inc .
University of California , of Technology singhv@mit.edu
Irvine gaomingyan@gmail.com jain@icsuciedu address fundamental
ABSTRACT Web Observatories must societal challenges using enormous volumes of data being created due to the significant progress in technology . The proliferation of heterogeneous data streams generated by social media , sensor networks , internet of things , and digitalization of transactions in all aspect of humans’ life presents an opportunity to establish a new era of networks called Social Life Networks ( SLN ) . The main goal of SLN is to connect People to Resources effectively , efficiently , and promptly in given Situations . Towards this goal , we present a computing framework , called EventShop , to recognize evolving situations from massive web streams in realtime . These web streams can be fundamentally considered as spatio temporal thematic streams and can be combined using a set of generic spatio temporal analysis operators to recognize evolving situations . Based on the detected situations , the relevant information and alerts can be provided to both individuals and organizations . Several examples from the real world problems have been developed to test the efficacy of EventShop framework . Categories and Subject Descriptors H35 [ Information Storage and Retrieval ] : Online Information Services Data sharing , Web based services ; H24 [ Database Management ] : System Multimedia databases , Query processing ; H51 [ Information Interfaces and Presentation ] : Multimedia Information Systems General Terms Management ; Design ; Human Factors Keywords EventShop ; Events Processing Framework ; Situation Recognition ; Web Data Streams ; Web Observatory ; Social Life Networks
1 . INTRODUCTION During the first generation of the Web ( Web 1.0 ) in 1990s , the focus was primarily on building the Web , and making it accessible by connecting people to online documents . In the the second generation ( Web 2.0 ) in 2000s , the growth of social networking sites , wikis , communication tools and folksonomies brought a new experience to our society , by connecting people to people . In addition , the emergence of the mobile Internet and mobile devices was a significant platform driving the adoption
Copyright is held by the International World Wide Web Conference Committee ( IW3C2 ) . IW3C2 reserves the right to provide a hyperlink to the author's site if the Material is used in electronic media . WWW 2013 Companion , May 13 17 , 2013 , Rio de Janeiro , Brazil . ACM 978 1 4503 2035 1/13/05 . and growth of the Web . Effectively , the Web became a universal medium for data , information , and knowledge exchange . In the third generation Web ( Web 3.0 ) , the innovation shifted toward upgrading the back end Web infrastructure level making the Web more connected , more exposed , and more intelligent . The Web is transformed from a network of separately siloed applications and content repositories to a more seamless and interoperable as a whole . The Web now can be used to establish a new network called “ Social Life Networks ( SLN ) ” [ 11 ] by connecting people to real world ( life ) resources for decision making at both individual and societal levels . The decisions making can range from daily life problems such as traffic , to emergency situations such as hurricane migration . With the enormous reach of mobile phones , used by more than 5 billion people , SLN can be used to connect people with life resources even in the remote areas of underdeveloped countries . Real world phenomena are now being observed by multiple media streams which are available in real time over the Web and increasingly the majority of these has space and time semantics . Let ’s take hurricane migration case as an example : there are massive volumes of related heterogeneous data stream available on the Web such as hurricane status ( NOAA.gov ) , weather forecast ( weather.com ) , population demographics ( census.gov ) , rescue shelters ( redcross.org ) , and traffic directions ( mapsgooglecom ) Despite rapidly the Web , comprehensive development tools and computational frameworks for effectively combining and processing these available heterogeneous streams are lacking . Solving particular problems such as giving a direction to the nearest shelter to the people who are currently in the unsafe areas are very difficult to achieve and time consuming by just manually browsing on the Web . To provide appropriate resource to individuals and organization efficiently and promptly , the most important problem is to recognize the situations happening around them . Recognizing situations in the right place at the right moment to take appropriate actions can save lives and resources in various aspects of human life . For instance , in healthcare domain , approximately 250,000 people die prematurely each year from asthma attacks [ 5 ] , and almost all of these deaths are avoidable . Asthma patients should have been notified to avoid the places that can cause their asthma attacks when they are in critical situation . Some of the early examples studied such as flood alerts in Thailand [ 8 ] , Flu monitoring [ 18 ] , and new business store location [ 19 ] clearly demonstrate the importance of situation recognition and the beneficial of SLN . increase of data available on
1359 B Building toward “ “ EventShop ” has p process on het fr framework is sh eg tweets , we ( f format and made o on application lo a are formed to gen u uniform data str d detect and reco s situations ( eg ‘f w with user param A Again , based on c constructed to se C CDC center on a analytic reports th hen take larged decisions . T The challenges f d data ingestion to th hem available fo W Web are not only J JSON , image , tab a are also very d W While semantic d data interoperabl w which can be us s spatio temporally s stream processin le evel concept of s T The solution to fu fundamentally di to o real world situ a as a particularize F For all situation w while time can s space and time in ntegration and p s simple unified re E EventShop inde r epresentation ca a approach is tha e evaluating a larg a attributes measu h human sensors . T
Figure d SLN , a novel s been designed terogeneous W own in Figure 1 eather.gov feed e amenable for c ogics , multiple s nerate different reams are conti ognize real time flu outbreak’ in meters ( eg ‘hi application logi end out personal 4th street’ ) to are also availab scale ( state , na
1 : “ EventShop ” computational d and developed Web data stream 1 . The data strea s ) are translate computing in the spatio temporal situation recogn inuously fed in e situations . Th n New England ) igh temperature c , the situation b lized action aler each individual ble to a central ation , corporate
” Event Process framework calle d to integrate an ms . The overa ams over the we ed into a unifie e next step . Base analysis operato nition models . Th nto the models hen , the detecte can be combine e’ , and location based controller rts ( eg ‘Report l . In addition , th analyst who ca e , or world wid he ke he ML , em c ) . ke del om he gh for this framewo o efficiently extr or later computa y generated in di ble , and sensor s different ( eg , m web technologi le , there is still sed to integrate y distributed w ng engine to brid situations and lo o our main p ifferent nature o uations . Majority ed property loca s , space can be be used to ana e become the processing of di epresentation bas exes and organ alled STT Observ t spatio tempor ge number of dat ured by either p To define and d rk come from tw ract data from th ation is not trivia ifferent media fo signal ) , but the p measuring weat ies and APIs ar l a lack of a ge heterogeneous d web streams . Se dge the semantic ow level data stre problems lies of these Web da y of the data no ated at some regi used to captur alyze their proce most important ifferent data str sed on Space Ti nizes all data vation . A basic a ral situations ar ta streams that r physical sensors detect complex s wo parts . First , th he Web and mak al . The data on th ormat ( eg , KM properties of the ther , and traffic re trying to mak eneric data mod data coming fro econd part is th gap between hig eams . in realizing th ata streams relate ow can be define ion of space tim e their proximit ession . Therefor t key aspects eams . By using ime Theme ( STT into a commo assumption in th re determined b represent differe s or observed b situation over va he ed ed me . ty , re , to g a T ) , on his by ent by ast sing Framework number ed program nd doubt h all data w eb ed recogni be the c ed but ver ors evolutio he to In sum ed as foll ed framew n ) . appropr is tempor to generic he their sp an define a de ) analysi concep develop domain environ framew and co connec benefit time . k towards “ Soc r of data stre mmed using asso how important si we can get from ition will be . W center attributes ry significant re on but it has bee mmary , the key c lows . First , w work to recogn riate informatio ral data streams c approach to in pace , time and th a useful set of o is to bridge the pt by the human p a system pro ns to easily bu nment . We en work can take le ontribute to a n cted . We anticipa from having the cial Life Networ eams , the proc orted spatio tem ituation recognit m the Web , th We believe that sp for sharing data equirement can en always overlo contributions of we propose an nize real world on and action f s available on ntegrate and ope heme ( where , w operators commo semantic gap b and low level d ototype which a uild diverse ap nsure that the ead on the spatio new vision of ate multiple situ ese Web data av rk ” cessing engine mporal operators . tion in big data i he more accura pace , time and th a over the Web . bring the Web ooked . the work repor nd design the d situations an from heterogene the Web . We erate data stream when , and what ) . only used in spat between high lev data on the Web . allows users fro pplications in e EventShop co o temporal strea the Web whe uation aware app vailable in term o should be There is no is . The more ate situation heme should This simple to the next rted here are computing nd generate eous spatiodescribe a ms based on Second , we tio temporal vel situation Finally , we om multiple experimental omputational ams analysis re data are plications to of space and
2 . RE Our fra several Informa web , an Multipl data fo Manage ( CEP ) s data str only . T The G operato on strea There choreog of thes
WORK ELATED W ally emerged fr amework has re s of event based l erstwhile areas ation Systems ( ( GIS ) , web serv s . nd mashup tools have looked at le recent efforts ng the relevan for understandin ement System ( DSMS ) and C systems , eg Ra apide [ 12 ] , provi ream analysis bu ut typically focu ications’ focus i Their main appli formation Syste Geographical Inf ors on spatial an nalysis , but are li aming data . also has bee graphy [ 1 ] and s se efforts focus en a growing semantic web se on well structu om a marriage b d computing , G ice choreograph between the Geographical hy , semantic analyzing socia nt situations . D Complex Event ide sophisticated us on data in the is different from em ( GIS ) provid imited on tempo al and sensor Data Stream Processing d support for cyber space m our focus . des handful oral analysis interest in w ervices [ 13 ] . How ured ( typically web service wever , most ontological )
1360 data . We on the other hand make the unified representation extremely simple ( STT ) , which allows many web streams to integrate easily . Semantic web technologies have been trying to make content on the Web meaningful . Their analytics tools have primarily focused on theme or entity relationships , but slightly support analysis on spatial and temporal relationships which are often the critical components for recognizing situation . To extract data from the web pages , several techniques have been practically used including screen scraping ( ie , HTML Parser ) and deepweb [ 3 ] . The former aims to extract the content from the surface web pages , while the latter try to access the content on invisible or dynamic web pages . Mashup and domain specific mashup tools ( eg MashArt [ 6 ] , http://pipesyahoocom ) also try to integrate data from multiple web contents . However , most of web mashups remain very shallow ( only visual integration ) and do not provide sophisticated ( eg geo temporal ) analysis capabilities . Efforts like Yahoo Query Language , Google Tables , Yahoo Pipes [ 23 ] , and MashArt provide easy , modular , computational tools for users to integrate and analyze web data . This resonates deeply with our EventShop system . Following similar lead , our ultimate goal is to provide a computational for sophisticated spatio temporal analysis of heterogeneous web streams to undertake situation based control . framework
3 . OVERALL FRAMEWORK There are two main components in EventShop framework which are Data Ingestor and Stream Processing Engine . A workflow of moving from heterogeneous raw data streams to actionable situations is shown in Figure 2 . In the Data Ingestor component , original raw spatio temporal data from the Web are translated into unified STT ( Space Time Theme ) format along with their numeric values using an appropriate Data Wrapper . Based on users’ defined spatio temporal resolutions , the system aggregates each STT stream to form an E mage stream which we will describe in more detail later in this Section . E mage was first introduced in [ 19 ] . These E mage streams are then transferred to the Stream Processing Engine component for processing . Based on situation recognition model determined by the domain expert , appropriate operators are applied on the E mage streams to detect situation . The final step is a segmentation operation that uses domain knowledge to assign appropriate class to each pixel on the E mage . This classification results in a segmentation of an Emage into areas characterized by the situation there . Once we know the situation , appropriate actions can be taken . Next , we will describe the challenges in building this framework .
Figure 2 : From Heterogeneous Data Sources to
Situation Recognition
3.1 Heterogeneous Data Sources By understanding the fundamental nature of the data streams observing real world events , we found that each data observation is always associated with a time and geo spatio metadata [ Perry 2008 ] . This commonality between different streams motivates our modeling approach . There are several approaches for modeling spatial , temporal and thematic ( STT ) data ; for example , using Semantic Web data models [ 17 , 15 ] , Spatiotemporal Database [ 20 ] , and GIS Spatio Temporal Modeling [ 21 , 14 ] . Given the geospatial continuity , we believe that a spatial grid structure is naturally suitable for representing various geo spatial data , where each cell of the grid stores value of certain measure taken from the corresponding geo location . We adopt the grid structure , and call it E mage ( an event data based analog of image ) . We believe that this generic data model can be used to integrate heterogeneous data coming from spatio temporally distributed web streams . For handling data streams , special attentions need to be paid to the semantics of aggregated data . Since the data streams are unbounded , combining such a data to find simple aggregated value such as summation and average is unclear . This problem is normally resolved by introducing windows which transform an unlimited sequence of data streams into overlapped or nonoverlapped windows of data . In this work , we use tumbling [ 4 ] window that splits data streams into non overlapped contiguous windows .
Figure 3 : From Heterogeneous STT Observations to E mage Apart from various media formats of the data , we can classify spatio temporal input streams into three categories based on their behavior as shown in Figure 3 . First , the simplest and the most common type is 1D ( or point ) STT Observation . Each data observation measures a property in the real world at particular point in time and geo location . Data point examples are tweets and sensor signals . For each the time window , STT Observations are collected to generate one E mage . Based on the E mage ’s resolution , and the spatial coordinate of STT Observation , each data point is spatially mapped to a cell in the E mage . The value at the cell is normally the sum of values of all the STT Observations mapped to the cell . Depending on the applications , different aggregates can be applied such as count , min , max , and average . Second category is 2D STT Observation . The values of the observations are already aggregated over time and space . This type of data is generally found on the geo images ( ie , pollen count from http://pollencom/images/usamapgif ) , maps , and most of the KML data format . In this case , the value at a cell in an Emage is computed from the original or normalized values at the pixels of the original geo image that are projected to this cell . Computation of projected area depends on the geo coordinate
1361 projection system . The last data type is 3D STT Observation . Unlike 1D STT , each data captures the real world property for a period of time at a region ( not a point ) . Thus , each cell in an Emage often consists of multiple values from many STT Observations . The interpolation and convolution techniques to constructing the cell from the set of data observations are required [ 16 ] . 311 Data Unification Model Each E mage represents some measure taken over a certain geographical area in a time window , and the measure can be evaluated from various heterogeneous data sources , including social sources , such as Twitter , Facebook and Flickr , as well as other geo graphical sources . For example , we collect tweets about a given topic , eg “ Obama ” , from Twitter . Then for each time window , an E mage can be constructed , each cell of which represents aggregated number of tweets regarding this topic coming from the corresponding geo location . An example E mage representing interest level amongst users across mainland US in terms of number of tweets containing the term “ iphone ” on 11th Jun 2009 is shown in Figure 4 .
Figure 4 : An Example E mage insightful
Although the use of a single number in each cell to represent a measure seems a very simple model , combining multiple such Emages that characterize different measures of an event could potentially generate very results and discover interesting phenomena hidden behind . This approach can capture the semantics and the notion of spatial neighborhood very elegantly , and geography driven joins [ 10 ] between data reduce to simple overlaying of grids . Humans are quite used to seeing satellite images and GIS data on similar interfaces , so they can understand such data much better text centric representation . E mage allows intuitive visualization and hence aids situation awareness for a human user . In addition , computation on grid like structure can efficiently speed scale up in several ways , including parallel computing with GPU , and spatial index ( ie , R tree [ 9 ] , quad tree [ 7 ] and KD tree [ 2] ) . 312 Data Representations All observed spatio temporal data stream coming into the EventShop framework are converted to , and represented in a common Space , Time , and Theme ( STT ) format . A STT Observation is represented as : STT = <latitude,longitude,timeStamp,theme,value> A flow of STTs becomes a STT Stream : than any
STT Stream = {STT0 , , STTi , }
Space is captures in latitude and longitude . The time is timestamp . The theme is a description of what this data observed . The value is a single numeric value . Values in STT Observations collected in a particular time window over STT Stream can be aggregated to form a two dimensional data grid . The data grid together with related STT information is called E mage , represented as :
E mage = < SWCoord , NECoord , latUnit , longUnit ,
TimeStamp Theme , 2D Grid >
SWCoord and NECoord are the southwest and northeast spatial coordinate to which the value at the bottom left and the top right cell in the 2D grid corresponds . latUnit and longUnit specify the actual spatial granularity distance , such as 40 miles or 0.1 unit of the width and height of each cell in the grid . The timeStamp of an E mage is the end time of the time window over which the STTs are collected , which is normally equal to the timeStamp of the last STT in the time window . A flow of E mages forms an E mage Stream :
E mage Stream = {E mage0 , , E magei , }
Building block of the 2D grid in an E mage is a single cell . The cell together with STT information is called stel ( spatio temporal element ) , stel = <SWCoord , NECoord , latUnit , longUnit , timeStamp , theme , value>
A stel is a special E mage , where the size is 1 by 1 . Some operators take normal E mage stream as an input and generate an output of this special E mage stream , called stel stream : stel Stream = {stel0 , , steli , …} 3.2 Operators for Situation Recognitions 321 Common Operators We analyzed situation recognition models across multiple domains and defined the initial set of operators , which are generic enough to capture most of the common requirements . We expect to keep enriching this set as this framework gets applied to more applications . Note that these operations are used to find out interesting E mage through describing their characteristics , rather than to manipulate them directly . Therefore , these operations are more declarative than the underlying operations in image processing .
One common task in our work is to select E mages or part of an E mage from E mage stream that satisfy certain predicates . To meet this requirement , we design the selection operation σ to support the following predicates , a value range , spatial bounding box , and time interval .
3211 Selection ( (cid:2026 ) ) 3212 Segmentation ( (cid:2011 ) ) 3213 Aggregation ( (cid:2009 ) )
This operator segments each E mage in a single E mage Stream . The current methods are K means and Thresholding . The segmented E mage can be either separated into multiple E mages or created a single E mage with cell values corresponding to the assigned segment .
Aggregation operator takes two or more E mages stream as an input and combines them to generate a new E mage stream as an output . E mages are aggregated per cell . For example , for each ( i , j ) pair , the sum aggregation adds cell(i , j ) of E mage from each input stream , and stores the sum value at cell(i , j ) of the new Emage . We assume that size of E mage from all input streams are the same . In addition , this operator allows one or more operands to be scalar or 2D pattern , in which case , every E mage in E mage streams can be combined with the scalar or the pattern .
1362 Aggregates supported are max , min , sum , avg , sub , mul , div , and , or , not , xor , convolution . With some exceptions , “ sub ” and “ div ” function can only be applied between two E mages , and “ not ” function is only allowed on one E mage .
3214 Spatial Characterization ( ∅ )
Spatial characterization operator takes a single E mage stream and computes a representative stel to characterize this E mage , based on a characterization function . The output is a stel stream . Each stel stores the spatial coordinate where the measure is taken , and the associated value . Characterization measures can be selected from max , min , sum , avg , epicenter , and coverage . For functions as max , min , and epicenter , the stel is the one where the value is reached . For instance , after using max , the stel whose value is the largest among all others in the E mage is returned . However , for other functions such as sum , avg , coverage and periodicity , the computation produces only a value without any specific location point .
3215 Spatial Pattern Matching ( (cid:2030 ) ) 3216 Temporal Characterization ( (cid:2028 ) )
Spatial pattern matching operator takes an E mage stream and a two dimensional pattern as inputs , and tries to match the pattern in every E mage . The output of this operator is a stel stream . The output stels record the location of highest match , and the corresponding similarity value . like velocity , displacement ,
Unlike previous operators , temporal characterization operation is designed to characterize stel stream instead of E mage stream . It takes a window of stels from a stel stream , and computes its acceleration , characteristics periodicity , and growthrate . The output of this operator is again a stel stream . We know that stel stream is the result of spatiotemporal characterization or pattern matching on E mage streams . Sometimes we may want to study how these characterization values or pattern similarities vary over time . For instance , given an E mage stream , we first find out epicenter of each E mage in the E mage stream , and then we may want to know how the center point moves from time t0 to time tk , where k + 1 is the size of time window . To use the pattern , users need to specify the time window size k , over which the stels are characterized .
3217 Temporal Pattern Matching ( (cid:2033 ) )
Temporal pattern matching operator compares the values of a window of stels in stel stream to certain 1D pattern , and see how similar the two trends is . Similarly , to use the operator , users need to specify the time window size . Output of this operator is a stel stream , where each stel stores the center position of the sub window of stels where the pattern matches with the highest similarity value , and the similarity value . The value 1.0 means that the sequence of stel values and the given pattern match with each other completely . Currently , we support linear , exponential , and periodic patterns matching . For generating a pattern , the users need to specify the sampling rate and the duration . For example , the sampling rate could be 1 value per 5 seconds , and the whole pattern duration is 30 seconds . For linear pattern , parameters include slope and Y intercept . Exponential pattern need the base value and the scale factor and Periodic patterns use frequency , amplitude , and phase delay . Note that in the current set of operators , the spatio temporal operators ( eg temporal pattern matching on velocity of epicenter of a hurricane ) are handled by applying temporal operators on the outputs of spatial operators . The summary of supported operators is shown in Figure 5 .
Figure 5 : Summary of Operators
3.3 Towards Web Observatory The main goal of Web Observatory [ 22 ] is to create a distributed archive of data on the web . As a result , state of the Web in terms of topologies , resources , links and activity , in the past , present , as well in the future can be examined , observed , and predicted . However , most of data on the Web do not only represent information in the cyber space , but also capture the real state of the physical world . This offers other great opportunities to various domains including real world situation recognition . Although , data held by the Web Observatory are so heterogeneous in terms of media formats and properties , data used in situation recognition can often be described along three dimensions : spatial , temporal and thematic . In EventShop , we provide several data wrappers to continuously retrieve data on the Web ( in various formats ) and translate them into STT streams and E mages stream respectively . Enormous spatio temporal data on the Web are collected and made available by Web Observatory . Instead of creating specific wrapper for each individual web page , it would be more useful to develop STT data adapter to bridge Web Observatory data source and EventShop . Similar to in traditional database like MySQL , data adapter serves as a bridge between a data set and a data source for retrieving and storing data . Querying data over space , time and theme attributes will be fundamental requirements for this adapter . We have started to see this functionality implemented on many popular web APIs such as Twitter , Facebook , Flickr , and New York Time News . We already proposed a generic approach for integrating spatial , temporal and thematic ( STT ) data from heterogeneous data streams and converting them into unified E mage streams for further processing . We also defined a set of common spatiotemporal operators that can be applied on the stream of E mages to detect complex situations . Next , we will describe our prototype system and demonstrate that EventShop is a suitable platform for analyzing the vast quantity of data captured by the Web Observatory .
4 . EVENTSHOP ARCHITECTURE The EventShop system takes spatio temporal data streams as inputs , and allows users to register situation models ( queries ) into the system by using the E mage operators as presented in Section 3 . Result streams of queries are finally outputted and shown to the end users . A generic system as EventShop would allow users with different study backgrounds to experiment with their spatiotemporal data streams , and potentially saves repeated efforts from building similar hard coded systems . In this section , the system requirements and architecture are described .
1363  
 
 
4.1 System 4 T There are numbe by the design of E b  The process  into the sy database or deal with sta The data in data stream given the i have propos and combin temporal da The spatio t sources are also often boxes and differences EventShop but it is a c Thus , we ne it is domain types of ap operators fo in the Event Lastly , the s ( GUI ) that i easily exper 4.2 System 4 T The EventShop s E EventShop inclu e engine . Inspired a allows users to e E EventShop allow a and formulate
Requireme er of system req EventShop . sing engine has ystem as continu r batch processi anding query ov ntegration needs s on the Web . A inherent spatial sed the unified ne heterogeneou ata . temporal data st not only hetero available at dif granularities . A among streams n is not a system computational fr eed to design the n independent an pplications . As or spatio tempor tShop system . system need to p is user friendly riment with their Architectur system architectu udes both a fron by the user fri experiment on th ws end users to queries by com
  provide a graph and encouraging r data . re ure is presented nt end GUI as w iendly GUI of P heir photos , the register new da mbining a rich ical user interfa g for end users in Figure 6 . well as a back en PhotoShop whic front end GUI ata stream sourc h set of built nd ch of ces in
F Figure 6 : Event ents and Des sign ded to be satisfie quirements need ng nal to to be able to ha uous streams . U ing engine , Eve ver continuous st s to handle high As shown in the semantics of th data structure , E us streams of a andle data flowin Unlike tradition entShop needs treaming data . hly heterogamo e previous sectio hese streams , w E mage , to mod aggregated spati us on , we del io ata but ng ch treams provided ogeneous in ter fferent spatio te Approaches that need to be desig m for specific do amework for the e system in gene d hence can be e a result , a set ral analysis are d d by different da rms of media , b emporal boundin can handle suc ned . omain applicatio e Web in genera eric fashion so th employed in man of useful gener defined and bui on , al . hat ny ric lt ed
Shop System A Architecture operato ors . User interact are dire ected to the corr engine . . These event events and generate J objects s and query obj When submit event i serializ zed into certain J of the EventShop D EventS Shop Query Lan sent to the backend Se process sing . The result E to displ lay on the frontback end , data In the b ESDDL L and ESQL ar them to Langua passes accordi ing to the langu query objects that a Process sing Engine res saved i in registered data storage e . According t riate Data Wrap appropr heterog geneous spatioObserv vations . These da to crea ate E mage strea queries s , stream proces mage g generator and pr instanti iated query ope back to E mage stored b There o output E mage , sent to o end users for Howev ver , users ( ie , a analysi is operators and process , and an further visualiz zed using variety s , trends , and pattern analyzi ing spatial temp tions on the GU responding even handlers get pa JavaScript obje ects , to tempora is triggered , th JSON format , ac Data Definition nguage ( ESQL ) . ervlet server thro E mage can be f end GUI . sources and que are received at age Parser . The uage , and creat are used by D spectively . Thes a source and reg to the data so pper is selected temporal web ata stream transm ams . Meantime , ssing engine pul rocesses the E m erators . The ou Store at the back such as classifie r situation reco application doma tools , such as m nalyze the data . E ty of visualizatio d anomalies be poral correlation ce to
UI widgets trigger nt handlers by th arameters value ects , including arily store the i hese front end ccording to the s Language ( ES . These JSON m ough Ajax call fetch from the E r events that e JavaScript es from the data source information . objects are specification SDLL ) and message are for backend E mage Store presented in eries objects rep roller which Backend Contr hese objects e parser parses th ta source or tes backend dat and Stream Data Ingestor a ects are also se backend obje main memory gistered query m pecification , ource object sp d to ingest and convert raw data into unifo formed STT ge Generator mitted to E mag he registered , directed by th ams from ells E mage strea each of the mage streams in utputs E mage streams are . k end controller . ed E mages , can n be directly tion taking . ognition and ac ain experts ) can apply other g toolkits , to machine learning E mage streams can also be on tools to visua ally discover ons besides etween situatio n . Since the out tput E mage
1364 streams can be accessible over the Web , the usages of them are not limited to our front end GUI . For example , the asthma mobile phone application can combine the global environments situation with users’ personal data on the phone ( ie activities level , location , and asthma level ) , and send out personalized message to individuals such as enjoy outdoors , avoid outdoors , take medication , visit doctor , and so on . 4.3 Data Ingestor After a data source is registered , parsed and inserted into the data source storage , back end controller creates new instances of STTObservationIterator as well as EmageIterator ( as described later in this section ) for this data source and adds them to the data ingestor . Data ingestor then connects to the data source and takes the raw spatio temporal thematic data stream as input , and relies on these iterators to convert the raw data stream into an E mage stream . 431 Data Source Specification A registered data source needs to information to enable data ingestion process : a ) Theme : the main topic discussed in a data source such as the following include flood , hurricane , asthma , flu , population , pollution , and etc . b ) URL : the API access link of a data source . For example , Twitter opens its Stream and Search API which allows users to query tweet streams . Sensor data , such as traffic sensors provided by PeMS ( Caltrans Performance Measurement Systems ) , is also publicly available on the Web . c ) Data Type : Raw data stream are available to access in different formats and granularities . Several data inter change formats are already supported such as , JSON , CSV , KML as well as geo image ( PNG , JPG , BMP , GIF ) . Beyond data media formats , input data streams are categorized into three types which are STT stream , geo image stream , and array stream . For Twitter and many sensors , single data point , such as a tweet and signal , is the unit generated and appended to data stream . Some data sources aggregate STT data and offer them in geo image format , for instance , pollen count data ( http://pollen.com/ images/usamapgif ) Other data sources provide a set of data collected in a time window in array format . This type of data gets updated at each time window and forms an array stream . A data source needs to be declared as one of the types above . d ) Type Specific Parameters : Different data types require different specific parameters . e ) Frame Parameters : To aggregate STT stream into E mage stream , the parameters for specifying the size , resolution and generation frequency of an E mage are needed . This set of frame parameters consist of the size of time window ( eg 10 seconds , 1 hour , 1 day ) , the synchronization time point ( eg creating an E mage at every 10th second , or at 6AM everyday ) , unit of latitude ( 0.1 latitude = 40miles ) , unit of longitude , spatial boundary including southwest and northeast coordinates . The frame parameters used to guide the framing of raw STT stream to create E mage stream is called Initial Frame Parameters . The final Frame Parameters will be introduced later as required by processing query .
432 System Design of Data Ingestor As for now , all integrations are done in main memory to guarantee low latency and rely on iterators life cycle to continuously generate E mage . A data ingestor is comprised of two types of iterators , STTObservationIterator and EmageIterator . a ) STT Observation Iterator A STTObservationIterator interface is a iterator that each raw data point into STT format , and outputs one STT Observation at each next( ) function call . Specific wrappers to handle particular data sources can be implemented from this interface . For example , for each incoming tweet in the Twitter stream of a specific topic T , ( eg , hurricane ) , along with the meta data associated with the tweet , the Twitter wrapper finds out tweet time and tweet location , and generates one STT <tweet location , tweet time , T , 1> . Value in the result STT is customized by the wrapper . It could be the count , eg 1 , of the tweet , or the temperature value . We are also opening APIs that allow users to implement their own wrappers to ingest more data streams . b ) E mage Iterator At each time window specified in the initial frame parameters , an EmageIterator generates one E mage . This E mage remains in its internal buffer until query processor pulls the E mage by calling next( ) function . Based on the data source type , E mages could be generated from STT stream , geo image stream and array stream . 4.4 Stream Processing Engine After registered data sources , the situation recognition model can be formed by applying different spatio temporal operators on any of data sources , and registered into the system . This model is represented as a rooted query plan tree ( logical operator tree ) to show an ordered set of steps for accessing or processing on Emages . Nodes of a query plan tree are either Data Access Node ( DAN ) , or Operation Node ( OpNode ) . Leaf nodes of a query plan tree are always DAN , and internal nodes are OpNode . Root node of a query plan tree represents the last operator in the plan applied to an E mage . Edges between nodes represent the E mage stream flowing from a lower level node to a higher level node . [ an example shown in section 5 ] . The model or query plan is different from traditional one time query issued to database because it a standing query . A standing query needs to be registered and instantiated in the system before related data streams flow into the system and get processed . For each operator of each registered query , as specified by its parameters , back end controller creates an operator instance that performs the actual computation . Next , back end controller connects these operator instances as defined in the logical operator tree of the query and forms a runtime operator tree in the stream query processor . Then , as required in the query , controller pulls E mage streams from the EmageIterators ( in data ingestor ) of the appropriate data sources , and feeds the streams to the runtime operator tree . Each operator instance processes the E mage streams pulled from upstream operators and buffers the results in its internal buffer . The E mage stream output from the last operator instance is the output of the entire query . A query registered by end users needs to specify two parts of information , a Final Frame Parameters and a logical operator tree . Queries may need to access the same data source but combine them with other data sources at different spatial bounding box , resolution or time window . Therefore , every query specifies a set of final frame parameters , which should be followed by all input E mages streams . E mages pulled from data ingestors need to be first mapped to E mages following the final frame parameters .
1365 The system has a Resolution Mapper ( RM ) component , which takes an E mage stream of a data source , the corresponding initial frame parameters , and final frame parameters as requested by a query as input , and generates a new E mage stream following the final frame parameters . In the RM component , we allow users to select the strategy to perform frame mapping . If E mages at coarser frame parameters are mapped to finer frame parameters , the set of strategies includes interpolation , repeat , and split . If the mapping is performed on the other way , users can choose strategy like sum , max , min , avg , and majority , for conversion . 4.5 Web GUI The Web front end GUI of EventShop is shown in Figure 7 . It consists of five main components as follow :
Figure 7 : EventShop Web GUI a ) Data Source Panel : displays a list of data sources that registered with the system . Users can click on each data source to view its description and its recent E mage created by the system . Users can also register a new data source into the system . b ) Operators Panel : allows users to form a query by applying different operators on any of the data sources , as well as allow them to configure action control to send out alerts . The built in spatio temporal operators are categorized into seven groups as mentioned in Section 3 . Intermediate Query Panel : shows a textual representation of the intermediate query currently being composed by the user . d ) Registered Queries Panel : Displays a list of standing queries that registered with the system . It allows users to start and stop the query processes . c ) e ) Result Panel : displays the recent output of the running query , E mage and stel , which can be presented on a map , timeline , numeric value output , or a combination of them .
5 . USE CASES For the past couple years , several applications have been designed and developed using the EventShop framework to recognize real world situations across multiple domains ; for example , Hurricane detection and migration , Identifying demand hot spots of business products , Flu outbreak , Wildfires detection , Flood migration , and Allergy risk and recommendation . We select two applications and demonstrate here . 5.1 Thailand Flood This application aims to suggest the safe location to people who are trapped in Thailand flood on October – November 2011 .
To achieve the goal , we first classify the flooding areas into three groups based on flooding condition and shelter sufficiency . Then for those people who tweeted about flood from the dangerous zones , we sent tweets to them and directed them to the nearest shelter in the safe areas . The data sources include the map of flood affected are across Thailand ( wwwthaifloodcom/floodmap ) and the shelter location map ( wwwsheltersthaifloodcom ) Both data sources are continuously collected every few hours in the KML format , an to display geographic data on the Google map . Moreover , we collect tweets send for central of Thailand with keywords both in Thai and ้าท่วม ” , “ #ThaiFlood ” , “ #Flood ” , and English “ #ThaiFloodEng ” . The logical query plan of the grouping query and parameters of each operator are presented in Figure 8 . international standard format used including “ #นํ
Figure 8 : Sample E mages and Flooding Area Query Plan
The final result of this grouping query is a stream of E mages . Finally , we use the E mage result along with the tweet data source to send out personal alert tweets . Grouping query result as well as a snapshot of our twitter account sending tweets is shown in Figure 9 . Some of our tweets are being re tweeted by tweet receivers . Our Twitter account is @SocLifeNetworks .
Figure 9 : E mage Result and Alert Tweets Sent from
EventShop
5.2 Asthma Relief Application In this experiment , we combine data from three data sources related to asthma study , and then segment the aggregated data over entire US into three danger zones based on the values in aggregated E mages . The severeness of an environment to an asthma patient is related to the pollen count and air quality in that area . From crowd sourcing aspect , if many people from a specific area discuss about asthma , it usually suggests that the situation in that area is not very friendly to asthma patients . The keywords selected for the Twitter source include “ asthma ” and “ allergy ” . Figure 10 ( a , b , c ) shows sample E mages from the three data sources .
1366 The final frame parameters specified for this query are <1 day , 0 , US , 0.1 lat x 0.1 long> . E mages coming from the three data sources with distinct initial frame parameters are mapped to Emages following the same final frame parameter by Resolution Mapper . The final E mages ( shown in Figure 10(d ) ) will be generated every day at 12AM with the spatial resolution as 260 x 590 .
Figure 10 : Data Source E mage and Result E mage of Asthma
Application
6 . CONCLUSION AND FUTURE RESEARCH Web contains enormous volumes of evolving spatio temporal thematic data . The goal of a Web Observatory is to provide a framework to ingest , combine , process , and utilize this data for various societal applications . Based on the importance of space , time and theme , we proposed that these attribute should be accessible across the web . We envision that EventShop and similar other computational frameworks will have an active role in the evolution of Web 30 We designed and developed EventShop platform for processing heterogeneous Web streams . An important aspect of the real system with multiple data streams which the quality or trustworthiness of data sources . The confident values of the data source , as well as new distributed E mage will be implemented in the next version to solve this problem . In another aspect , we have lightly used the benefit of “ theme ” . Taxonomy or ontology on the theme should be explored to help us in data source selection over massive set of web streams . In addition , we are in the process of making this framework available as an open source around the mid year of 2013 . is not addressed in this paper is
REFERENCES [ 1 ] Arkin , A . et al . 2002 . Web Service Choreography Interface
( WSCI ) 10
[ 2 ] Bentley , JL 1975 . Multidimensional binary search trees used for associative searching . Commun . ACM . 18 , ( 1975 ) , 509–517 .
[ 3 ] Bergman , MK 2001 . White Paper : The Deep Web . Surfacing Hidden Value . The Journal of Electronic Publishing . 7 , ( 2001 ) , online .
[ 4 ] Carney , D . et al . 2002 . Monitoring streams : a new class of data management applications . Proceedings of the 28th international conference on Very Large Data Bases ( 2002 ) , 215–226 .
[ 5 ] Cruz , AA 2007 . Global surveillance , prevention and control of chronic respiratory diseases : a comprehensive approach . Who .
[ 6 ] Daniel , F . et al . 2009 . Hosted Universal Integration on the Web : The mashArt Platform . ICSOC/ServiceWave ( 2009 ) , 647–648 .
[ 7 ] Finkel , RA and Bentley , JL 1974 . Quad Trees : A Data Structure for Retrieval on Composite Keys . Acta Inf . 4 , ( 1974 ) , 1–9 .
[ 8 ] Gao , M . et al . 2012 . Eventshop : from heterogeneous web streams to personalized situation detection and control . WebSci ( 2012 ) , 105–108 .
[ 9 ] Guttman , A . 1984 . R Trees : A Dynamic Index Structure for
Spatial Searching . SIGMOD Conference ( 1984 ) , 47–57 .
[ 10 ] Hjaltason , GR and Samet , H . 1998 . Incremental Distance
Join Algorithms for Spatial Databases . SIGMOD Conference ( 1998 ) , 237–248 .
[ 11 ] Jain , R . and Sonnen , D . 2011 . Social Life Networks . IT
Professional . 13 , ( 2011 ) , 8–11 .
[ 12 ] Luckham , DC 2012 . Event processing for business  : organizing the real time enterprise . Hoboken , NJ John Wiley & Sons .
[ 13 ] McIlraith , SA et al . 2001 . Semantic Web Services . IEEE
Intelligent Systems . 16 , ( 2001 ) , 46–53 .
[ 14 ] Parent , C . et al . 1999 . Spatio temporal conceptual models : data structures+ space+ time . Proceedings of the 7th ACM international symposium on Advances in geographic information systems ( 1999 ) , 26–33 .
[ 15 ] Perry , MS 2008 . A framework to support spatial , temporal and thematic analytics over semantic web data . Wright State University .
[ 16 ] Peuquet , DJ 2001 . Making space for time : Issues in spacetime data representation . GeoInformatica . 5 , ( 2001 ) , 11–32 .
[ 17 ] Sheth , AP and Perry , M . 2008 . Traveling the Semantic
Web through Space , Time , and Theme . IEEE Internet Computing . 12 , ( 2008 ) , 81–86 .
[ 18 ] Singh , VK et al . 2010 . From microblogs to social images : event analytics for situation assessment . Proceedings of the international conference on Multimedia information retrieval ( Philadelphia , Pennsylvania , USA , 2010 ) , 433–436 .
[ 19 ] Singh , VK et al . 2010 . Social pixels : genesis and evaluation . ACM Multimedia ( 2010 ) , 481–490 .
[ 20 ] Wang , X . et al . 2000 . Spatiotemporal data modelling and management : a survey . Technology of Object Oriented Languages and Systems , 2000 . TOOLS Asia 2000 . Proceedings . 36th International Conference on ( 2000 ) , 202– 211 .
[ 21 ] Yuan , M . 1996 . Temporal GIS and spatio temporal modeling . Proceedings of Third International Conference Workshop on Integrating GIS and Environment Modeling , Santa Fe , NM ( 1996 ) .
[ 22 ] Web Observatory Wiki . http://wowwestwebobservatoryorg [ 23 ] Yahoo pipes . http://pipesyahoocom/pipes/
1367

A Weighted Correlation Index for Rankings with Ties fi Sebastiano Vigna
Dipartimento di Informatica
Università degli Studi di Milano , Italy
ABSTRACT Understanding the correlation between two different scores for the same set of items is a common problem in graph analysis and information retrieval . The most commonly used statistics that quantifies this correlation is Kendall ’s ; however , the standard definition fails to capture that discordances between items with high rank are more important than those between items with low rank . Recently , a new measure of correlation based on average precision has been proposed to solve this problem , but like many alternative proposals in the literature it assumes that there are no ties in the scores . This is a major deficiency in a number of contexts , and in particular when comparing centrality scores on large graphs , as the obvious baseline , indegree , has a very large number of ties in social networks and web graphs . We propose to extend Kendall ’s definition in a natural way to take into account weights in the presence of ties . We prove a number of interesting mathematical properties of our generalization and describe an O.n log n/ algorithm for its computation . We also validate the usefulness of our weighted measure of correlation using experimental data on social networks and web graphs .
1 .
INTRODUCTION
In the analysis of social networks and web graphs , one is often faced with different scores1 assigned by different centrality measures ( eg , indegree and Bavelas ’s closeness [ 1 ] ) to the same graph . Analogously , in information retrieval one has the lists of documents returned by different search engines and their associated relevance scores , or the lists of query recommendation returned by different algorithms .
In most of the literature , the scores are assumed to be without ties , thus inducing a ranking of the elements . At that point , fi Sebastiano Vigna has been supported by the EU FET grant NADINE ( GA 288956 ) . 1We purposely and consistently use “ score ” to denote real numbers associated to items , and “ rank ” to denote ordinal positions induced by the scores . The two terms are used somewhat interchangeably in the literature , but in this paper the distinction is important as we assume that scores of different items can be identical .
Copyright is held by the International World Wide Web Conference Committee ( IW3C2 ) . IW3C2 reserves the right to provide a hyperlink to the author ’s site if the Material is used in electronic media . WWW 2015 , May 18–22 , 2015 , Florence , Italy . ACM 978 1 4503 3469 3/15/05 . http://dxdoiorg/101145/27362772741088 correlation statistics such as Spearman ’s rank correlation coefficient [ 25 ] and Kendall ’s [ 12 ] can be used to evaluate the similarity of the rankings . Spearman ’s correlation coefficient is equivalent to the traditional linear correlation coefficient computed on ranks of items . Kendall ’s , instead , is proportional to the number of pairwise adjacent swaps needed to convert one ranking into the other . For a number of reasons , Kendall ’s has become a standard statistic to compare the correlation between two ranked lists . Such reasons include fast computation ( O.n log n/ , where n is the length of the list , using Knight ’s algorithm [ 14] ) , and the existence of a variant that takes care of ties [ 13 ] .
The explicit treatment of ties is of great importance when comparing scores assigned by different graph centrality measures . The baseline of such scores is indegree . More sophisticated approaches include Bavelas ’s closeness [ 1 ] , Katz ’s index [ 10 ] , PageRank [ 22 ] , and countless variants . Due to the highly skewed indegree distribution , a very large number of documents share the same indegree , and the same happens of many other scores : it is thus of uttermost importance that the evaluation of correlation takes into account ties as first class citizens . Breaking ties randomly , for instance , leads to the paradoxical results that the score made by half zeroes , half ones has with any other equivalent score an expected of n=2n , 1// 0:5 instead of one . On the other hand , Kendall ’s has some known problems that motivated the introduction of several weighted variants . In particular , a striking difference often emerges between the anecdotal evidence of the top elements by different scores being almost identical , and the value being quite low . This is due to a known phenomenon : the scores of important items tend to be highly correlated in all reasonable rankings , whereas most of the remaining items are ranked in slightly different ways , introducing a large amount of noise , yielding a low value .
This problem motivates the definition of correlation statistics that consider more important correlation between highly ranked items . In particular , recently Yilmaz , Aslam and Robertson introduced a statistics , named AP ( average precision ) correlation [ 27 ] , which aims at considering more important swaps between highly ranked items . The need for such a measure is very well motivated in the introduction of their paper , and we will not repeat here their detailed discussion .
In this paper , we aim at providing a measure of correlation in the same spirit of the definition of Yilmaz , Aslam and Robertson , but taking smoothly ties into account . We will actually define a general notion of weighting for Kendall ’s , and develop its mathematical properties . Since it is important that such a statistics is computable on very large data sets , we will provide a generalization of Knight ’s algorithm that can be applied whenever the weighting depends additively or multiplicatively on a weight assigned to each
1166 item . The same algorithm can be used to compute AP correlation in time O.n log n/ .
All data and software used in this paper are available as part of the LAW software library under the GNU General Public License.2
2 . RELATED WORK
Shieh [ 24 ] wrote the one of the first papers proposing a generic weighting of Kendall ’s . She assumes from the very start that there are no ties , and assign to the exchange between i and j a weight wij . Her motivation is the fidelity evaluation of software packages for structural engineering , in which a set of variables is ranked in two different ways , and one would like to emphasize agreement on the most important ones . In particular , she concentrates on weights given by the product of two weights associated with the elements participating in the exchange . Our work can be seen as a generalization of her approach , albeit we combine weights differently .
Kumar and Vassilvitskii [ 16 ] study a definition that extends Shieh ’s taking into account position weights and similarity between elements . Again , they assume that ties are broken arbitrarily , which is an unacceptable assumption if large sets of elements have the same score . Fagin , Kumar and Sivakumar [ 5 ] use instead penalty weights to apply Kendall ’s just to the top k elements of two ranked lists ( with no ties ) . Exchanges partially or completely outside the top k elements obtain different weights .
Finally , the recent quoted work by Yilmaz , Aslam and Robertson [ 27 ] on AP correlation is the closest to ours in motivation and methodology , albeit targeted at ranked lists with no ties . Melucci [ ? ] extends their definition to include a probabilistic weight assigned to items , remarking that both approaches are actually specific instances of Shieh ’s .
Pn
We note that analogous research exists in association with Spearman ’s correlation : Iman and Conover [ 9 ] , for example , study the usage of Savage scores [ 23 ] instead of ranks when comparing ranked lists . Savage scores for a ranked list of n elements are given by jDi 1=j , where i is the rank ( starting at one ) of an element . Spearman ’s correlation applied to Savage scores considers more important elements at the top of a ranked list .
A fascinating proposal , entirely orthogonal to the ones we discussed , is the idea of weighting Kemeny ’s distance between permutations proposed by Farnoud and Milenkovic [ 6 ] . In this proposal , Kemeny ’s distance between two permutations and is characterized as the minimum number of adjacent transpositions ( ie , transpositions of the form .i i C 1/ ) that turn into . At this point , one can define a weight associated to each adjacent transposition , and by assigning larger weights to adjacent transpositions with smaller indices one can make differences in the top part of the permutations more important than differences in the bottom part . The right notion of weighted distance turns out to be the minimum sum of weights of a sequence of adjacent transposition that turn into . The interesting property of this approach is that avoids the need for a ground truth ( an intrinsic notion of importance of an element ) , which is necessary , implicitly or explicitly , to weigh an exchange in the approaches of [ 24 , 27 ] and in the one discussed in this paper . The main drawbacks , presently , are that the weight assignment is not very intuitive ( as it is related to positions , rather than to elements ) and that more work is needed to extend the distance into a proper correlation index in the case of ties .
3 . MOTIVATION
The need for weighted correlation measures in the case of ranked list has been articulated in detail in previous work . Here we will fo2http://lawdiunimiit/ cus on the case of centrality measures for graphs . Consider the graph of English Wikipedia ( more precisely , enwiki 2013 , a dataset available at the LAW web site ) , which has about four million nodes and one hundred million arcs . In this graph , 99:95 % of the nodes have the same indegree of some other node—for example , more than a half million node has indegree one . It is clearly mandatory , when computing the correlation of other scores with indegree , that ties are taken into consideration in a systematic way ( eg , not broken arbitrarily ) .
We will consider four other commonly used scores based on the adjacency matrix A of the Wikipedia graph . One is PageRank [ 22 ] , which is defined by where ˛ 2 Œ0 : : 1/ is a damping factor and NA is a stochasticization of A : every row not entirely made of zeroes is divided by its sum , so to have `1 norm one .
The other index we consider is Katz ’s [ 10 ] , which is defined by
X k0
1=n
.˛ NA/k ;
1X k0
.˛A/k ; where ˛ 2 Œ0 : : 1=/ is an attenuation factor depending on , the dominant eigenvalue of A [ 20 ] . In both cases , we take ˛ in the middle of the allowed interval ( using different values does not change the essence of what follows , unless they are extreme ) .
A different kind of score is provided by Bavelas ’s closeness . The closeness of x is defined by
P
1 d.y;x/<1 d.y ; x/
; where d.,;,/ denotes the usual graph distance . Note that we have to eliminate nodes at infinite distance to avoid zeroing scores . By definition , the closeness of a node with indegree zero is zero . Finally , we consider harmonic centrality [ 2 ] , a modified version of Bavelas ’s closeness designed for directed graphs that are not strongly connected ; the harmonic centrality of x is defined by
X
1
: y¤x d.y ; x/
These scores provide an interesting mix : indegree is an obvious baseline , and entirely local . PageRank and Katz are similar in their definition , but the normalization applied to A makes the scores quite different ( at least in theory ) . Finally , closeness and harmonic centrality are of a completely different nature , having no connection with dominant eigenvectors or Markov chains.3
Our first empirical observation is that , looking just at the very top pages of Wikipedia ( Table 1 ; entries in boldface are unique to the list they belong to , here and in the following ) , we perceive these scores as almost identical , except for closeness , which displays almost random values . The latter behavior is a known phenomenon : nodes that are almost isolated obtain a very high closeness score ( this is why harmonic centrality was devised ) . We note also that harmonic centrality has a slightly different slant , as it is the only ranking including Latin , Europe , Russia and the Catholic Church in the top 20 .
The problem is that these facts are not reflected in any way in the values of Kendall ’s shown in Table 3 . If we exclude closeness , 3It is interesting to remark that , in spite of these rankings being real valued , more than 20 % of the nodes have the same score of some other node .
1167 Indegree PageRank Katz Harmonic Closeness
Ind . 1 0.75 0.90 0.62 0.55
PR 0.75 1 0.75 0.61 0.56
Katz Harm . 0.62 0.90 0.61 0.75 1 0.70 1 0.70 0.62 0.92
Cl . 0.55 0.56 0.62 0.92 1
Table 3 : Kendall ’s between Wikipedia centrality measures .
Indegree PageRank Katz Harmonic Closeness
Ind . 1 0.31 0.63 0.24 0.06
PR 0.31 1 0.27 0.10 0.10
Katz Harm . 0.24 0.63 0.10 0.27 0.50 1 1 0.50 0.20 0.65
Cl . 0.06 0.10 0.20 0.65 1
Table 4 : Kendall ’s between Wikipedia centrality measures , restricted to nodes of indegree 1 and 2 . with the exception of the correlation between indegree and Katz , all other correlation value fail to surpass the 0:9 threshold , usually considered the threshold for considering two rankings equivalent [ 26 ] . Actually , they are below the threshold 0:8 , under which we are supposed to see considerable changes . The correlation of closeness with harmonic centrality , moreover , is even more pathological : it is the largest correlation .
An obvious observation is that , maybe , the score is lowered by a large discordance in the rest of the rankings . Table 2 tries to verify this intuition by listing the top pages that are associated with the Wordnet category “ scientist ” in the Yago2 ontology data [ 8 ] . These pages have considerably lower score ( their rank is below 300 ) , yet the first three rankings are almost identical . Harmonic centrality is still slightly different ( Linnaeus is absent , and actually ranks 21 ) , which tells us that the Kendall ’s is not giving completely unreasonable data . Nonetheless , closeness continues to provide apparently random results .
We have actually to delve deep into Wikipedia , beyond rank 100 000 using the category “ cocktail ” to see that , finally , things settle down ( Table 5 ) . While closeness still displays a few quirks , the rankings start to stabilize .
To understand what happens in the very low rank region , in Table 4 we provide Kendall ’s as in Table 3 , but restricting the computation to nodes of indegree 1 and 2 . As it is immediately evident , after stabilization the low rank region is fraught with noise and all correlation values drop significantly .
The very high correlation between closeness and harmonic centrality is , actually , not strange : on the nodes reachable from giant connected component of our Wikipedia snapshot ( 89 % of the nodes ) they agree almost exactly , as closeness is the reciprocal of a denormalized arithmetic mean , whereas harmonic centrality is the reciprocal of a denormalized harmonic mean [ 2 ] . Even if the remaining 11 % of the nodes is completely out of place , making closeness useless , Kendall ’s tells us that it should be interchangeable with harmonic centrality . At the same time , Kendall ’s tells us that indegree is very different from PageRank , which again goes completely against our empirical evidence ( and also against theoretical considerations [ 7] ) .
In the rest of the paper , we will try to approach in a systematic manner these problems by defining a new weighted correlation index for scores with ties .
4 . A WEIGHTED CORRELATION INDEX In his 1945 paper about ranking with ties [ 13 ] , Kendall , starting from an observation of Daniels [ 4 ] , reformulates his correlation index using a definition similar in spirit to that of an inner product , which will be the starting point of our proposal : we consider two real valued vectors r and s ( to be thought as scores ) with indices in n;4 then , let us define hr ; si WDX sgn.ri , rj / sgn.si , sj / ; where i <j sgn.x/ WD
8ˆ<ˆ:1
0
,1 if x > 0 ; if x D 0 ; if x < 0 :
Indices of score vectors in summations belong to n throughout the paper . Note that the expression above is actually an inner product in a larger space of dimension n.n , 1/=2 : each score vector r is mapped to the vector with coordinate hi ; ji , i < j , given by sgn.ri , rj /.5 We have the property hr ; ˛si D h˛r ; si D sgn.˛/hr ; si ; which reminds of the analogous property for inner products , and that hr;,i D h , ; ri D 0 if r is constant . Following the analogy , we can define krk WDphr ; ri ; k˛rk D j sgn.˛/j krk : so p
The norm thus defined measures the “ untieness ” of r : it is zero if and only if r is a constant vector , and it has maximum value n.n , 1/=2 when all components of r are distinct . Since hr ; si is an inner product on a larger space , we have a Cauchy–Schwartz like inequality : jhr ; sij krkksk :
This property makes it possible to define Kendall ’s between two vectors r and s with nonnull norm as a normalized inner product , in a way formally identical to cosine similarity :
.r ; s/ WD hr ; si krk ksk :
( 1 )
We recall that if r and s have no ties , the definition reduces to the classical “ normalized difference of concordances and discordances ” , as the denominator is exactly n.n , 1/=2 . The definition above is exactly that proposed by Kendall [ 13 ] , albeit we use a different formalism .
The form of ( 1 ) suggests that to obtain a weighted correlation hr ; siw WDX index it would be natural to define a weighted inner product sgn.ri , rj / sgn.si , sj /w.i ; j / ; i <j where w.,;,/ W n . n ! R0 is some nonnegative symmetric weight function . We would have then a new norm krkw Dphr ; riw
4Throughout the paper , we use von Neumann ’s notation : if n is a natural number , n D f 0 ; 1 ; : : : ; n , 1g . 5We thank Ravi Kumar for this useful observation . Note that the map from the original space to the larger space is not linear .
1168 Indegree
Harmonic
PageRank
United States
United States
United States List of sovereign states Animal Animal England France Association football United Kingdom Germany Canada World War II India Australia London Japan Italy Arthropod Insect New York City English language Village
List of sovereign states France Germany Association football England India United Kingdom Canada Arthropod Insect World War II Japan Australia Village Italy Poland English language National Reg . of Hist . Places World War I
Katz United States List of sovereign states United Kingdom United Kingdom France Animal World War II England Association football Germany Canada India Australia London Italy Japan New York City English language China Poland
World War II France Germany Association football English language China Canada India Latin World War I England Italy Russia Europe Australia European Union Catholic Church London
Closeness Kharqan Rural District Talageh ye Sofla Talageh ye Olya Greatest Remix Hits ( Whigfield album ) Suzhou HSR New Town Suzhou Lakeside New City Mepirodipine List of MPs . . . M–N List of MPs . . . O–R List of MPs . . . S–T List of MPs . . . U–Z List of MPs . . . J–L List of MPs . . . C List of MPs . . . F–I List of MPs . . . A–B List of MPs . . . D–E Esmaili ye Sofla Esmaili ye Olya Levels of organization ( ecology ) Jacques Moeschal ( architect )
Table 1 : Top 20 pages of the English version of Wikipedia following five different centrality measures .
Indegree
Carl Linnaeus Aristotle Thomas Jefferson Margaret Thatcher Plato Charles Darwin Karl Marx Albert Einstein Vladimir Lenin Sigmund Freud J . R . R . Tolkien Johann Wolfgang von Goethe Spider Man Pliny the Elder Benjamin Franklin Leonardo da Vinci Isaac Newton Ptolemy Immanuel Kant George Bernard Shaw
PageRank
Carl Linnaeus Aristotle Thomas Jefferson Charles Darwin Plato Albert Einstein Karl Marx Pliny the Elder Vladimir Lenin Johann Wolfgang von Goethe Margaret Thatcher Ptolemy Sigmund Freud Isaac Newton Benjamin Franklin J . R . R . Tolkien Immanuel Kant Leonardo da Vinci Pierre André Latreille Thomas Edison
Katz
Harmonic
Aristotle Albert Einstein Thomas Jefferson Charles Darwin Thomas Edison Alexander Graham Bell Nikola Tesla William James Isaac Newton Karl Marx Charles Sanders Peirce
Carl Linnaeus Aristotle Thomas Jefferson Albert Einstein Charles Darwin Karl Marx Plato Margaret Thatcher Vladimir Lenin Isaac Newton Ptolemy Johann Wolfgang von Goethe Noam Chomsky Pliny the Elder Benjamin Franklin J . R . R . Tolkien Thomas Edison Sigmund Freud Immanuel Kant Leonardo da Vinci Noam Chomsky
Closeness
Noël Bernard ( botanist ) Charles Coquelin Markku Kivinen Angiolo Maria Colomboni Om Prakash ( historian ) Michel Mandjes Kees Posthumus F . Wolfgang Schnell Christof Ebert Reese Prosser David Tulloch Kim Hawtrey Patrick J . Miller Mikel King Albert Perry Brigham
Enrico Fermi Ptolemy John Dewey Johann Wolfgang von Goethe Gordon Wagner ( economist ) Bertrand Russell Plato John von Neumann Vladimir Lenin
George Henry Chase Charles C . Horn Paul Goldstene Robert Stanton Avery
Table 2 : Top 20 pages of Wikipedia following five different centrality measures and restricting pages to Yago2 Wordnet category “ scientist ” . The global rank of these items is beyond 300 . and a new correlation index w .r ; s/ WD hr ; siw krkw kskw
:
Note that still hr;,iw D h , ; riw D 0 if r is constant . 4.1 Properties We say that two score vectors r and s are equivalent if sgn.ri , rj / D sgn.si , sj / , opposite if sgn.ri , rj / D , sgn.si , sj / for all i and j . Since hr ; si is a semi definite inner product on a larger space ( due the possibility of zero weights ) , the Cauchy Schwarz inequality still holds , even if we need positive definiteness for the necessary condition on equality : Theorem 1 jhr ; siwj krkwkskw : A sufficient condition for equality to hold is that the two vectors are equivalent or opposite . The condition is necessary if w is strictly positive and krkw ;kskw ¤ 0 or krkw ;kskw D 0 Note that the two last conditions are necessary : when w is the con stant zero weight we have equality for all vectors , and if one of the vector has null norm while the other has not the necessary linearity condition for equality is moot .
Interestingly , even if our “ inner product ” is neither additive nor linear , we can still prove directly the triangular inequality for the induced “ norm ” : Theorem 2 kr C skw krkw C kskw . w
PROOF . kr C sk2
D hr C s ; r C siw
DX X D hr ; riw C hs ; siw CX i <j i <j sgn.ri C si , rj , sj /2w.i ; j / .j sgn.ri , rj /j C j sgn.si , sj /j/2w.i ; j / j sgn.ri , rj / sgn.si , sj /jw.i ; j / : i <j
1169 We now notice that j sgn.ri , rj / sgn.si , sj /jw.i ; j /
X i <j
X i <j sgn.ri , rj /2w.i ; j / D hr ; riw D krk2 w ; krk2
C w and analogously for kskw . We conclude that kr C sk2 ksk2
C 2krkwkskw D .krkw C kskw /2 : w w
The triangular inequality has a nice combinatorial interpretation : adding score vectors can only decrease the amount of “ untieness ” . There is no way to induce in a sum vector more untieness than the amount present in the summands .
Finally , we gather systematically the properties of w : Theorem 3 Let w W n.n ! R be a nonnegative symmetric weight function . The following properties hold for every score vector t and for every r , s with nonnull norm : ffl if t is constant , ktkw D 0 ; ffl ,1 w .r ; s/ 1 ; ffl if r and s are equivalent , w .r ; s/ D 1 ; ffl if r and s are opposite , w .r ; s/ D ,1 ; Moreover , if w is strictly positive : ffl if ktkw D 0 , t is constant ; ffl if w .r ; s/ D 1 , r and s are equivalent ; ffl if w .r ; s/ D ,1 , r and s are opposite .
As a result , if w is strictly positive and we obtain correlation ˙1 the equivalence classes formed by tied scores are necessarily in a size preserving bijection that is monotone ( increasing or decreasing , depending on the sign ) on the scores . 4.2 Decoupling rank and weight
The reader has probably already noticed that the dependence on the weight on the indices associated to the elements has no meaning : a trivial request ( see , for instance [ 11 ] ) on a correlation measure is that , like Kendall ’s , it is invariant by isomorphism , that is , it does not change if we permute the indices of the vector . This currently doesn’t happen because we are using the numbering of the element as ground truth to weigh the correlation between r and s . While there is nothing bad in principle ( we can stipulate that elements are indexed in order of importance using some external source of information ) , we think that a more flexible approach decouples the problem of the ground truth from the problem of weighting . We thus define the ranked weight product sgn.ri , rj / sgn.si , sj /wfli / ; fl.j // ; hr ; sifl;w WDX i <j where fl W n ! n[f1g is a ranking function associating with each index a rank , the highest rank being zero . We admit the possibility of rank 1 , given that the weight function provides a meaningful value in such a case , to include also the case of partial ground truths . The definition of the ranked weighted product induces , as in ( 1 ) , a correlation index fl;w , and the machinery we developed applies immediately , as wfl,/ ; fl.,// is just a different weight function .
Figure 1 : Scatter plots between Kendall ’s and the additive weighted . The rows , from top to bottom , represent logarithmic , hyperbolic and quadratic weighting . The plots are generated correlating a permutation of 12 elements versus the identity permutation ( left ) , or a permuted set of scores with skewed distribution wrt the same scores in descending order ( right ) .
What if there is no ground truth to rely on ? Our best bet is to use the rankings induced by the vectors r and s . Let us denote by flr;s the ranking defined by ordering elements lexicographically with respect to r and then s in case of a tie ( in descending order ) , and analogously for fls;r . If two elements are at a tie in both vectors , their can be placed in any order , as their rank does not influence the value of fl;w . We just take the average of the two possible correlations and define ffl;w .r ; s/ WD flr;s ;w .r ; s/ C fls;r ;w .r ; s/
:
( 2 )
2
The same approach has been used in [ 27 ] to make AP correlation symmetric . This is the definition used in the rest of the paper . It should be noted that the theory developed in Section 4.1 about k , kw has no counterpart for ffl;w , but the relevant parts of Theorem 3 can be trivially extended , and those are the basic properties that we want to hold . 4.3 Choosing a weighting scheme
There are of course many ways to choose w . For computational reasons , we will see that it is a good idea to restrict to a class of weighting schemes in which w is obtained by combining additively or multiplicatively a one argument weighting function f W n ! R0 applied to each element of a pair .
Shieh [ 24 ] , for instance , combines weights multiplicatively , without giving a motivation . We have , however , two important motivations for adding weights . First and foremost , unless weights are scaled in some way that depends on n ( which we would like to avoid ) , the largest weight will be some constant , and then weight
1170 Indegree Martini ( cocktail ) Piña colada Mojito Caipirinha Cuba Libre Irish coffee Singapore Sling Manhattan ( cocktail ) Windle ( sidecar ) Cosmopolitan ( cocktail ) Mai Tai IBA Official Cocktail Kir ( cocktail ) Shaken , not stirred Beer cocktail Pisco Sour Long Island Iced Tea Sour ( cocktail ) White Russian ( cocktail ) Vesper ( cocktail )
Katz
Harmonic
PageRank Irish coffee Martini ( cocktail ) Caipirinha Caipirinha Martini ( cocktail ) Mojito Piña colada Piña colada Kir ( cocktail ) Irish coffee Kir ( cocktail ) Mojito Cosmopolitan ( cocktail ) Mai Tai Manhattan ( cocktail ) IBA Official Cocktail Beer cocktail Mai Tai Singapore Sling Cuba Libre Tom Collins Long Island Iced Tea Sour ( cocktail ) Shaken , not stirred Negroni Flaming beverage Lillet
Cuba Libre Singapore Sling Long Island Iced Tea Shaken , not stirred Beer cocktail Manhattan ( cocktail ) Cosmopolitan ( cocktail ) Windle ( sidecar ) Pisco Sour White Russian ( cocktail ) Wine cocktail IBA Official Cocktail Moscow mule Vesper ( cocktail )
Irish coffee Caipirinha Kir ( cocktail ) Martini ( cocktail ) Piña colada Mojito Beer cocktail Shaken , not stirred Pisco Sour Mai Tai Spritz ( alcoholic beverage ) Long Island Iced Tea Sazerac Fizz ( cocktail ) Flaming beverage Cuba Libre
Singapore Sling Moscow mule White Russian ( cocktail )
Closeness
Magie Noir Batini ( drink ) Scorpion bowl Poinsettia ( cocktail ) Irish coffee Caipirinha Kir ( cocktail ) Martini ( cocktail ) Piña colada Mojito Beer cocktail Shaken , not stirred Mai Tai Spritz ( alcoholic beverage ) Pisco Sour Long Island Iced Tea Sazerac Flaming beverage Fizz ( cocktail ) Wine cocktail
Table 5 : Top 20 pages of Wikipedia following five different centrality measures and restricting pages to Yago2 Wordnet category “ cocktail ” . The global rank of these items is beyond 100 000 . will decrease monotonically with importance . As a result , an exchange between the first and the last element would be assigned an extremely low weight . Second , adding weights paves the way to a natural measure for top k correlation [ 5 ] by assigning rank 1 to elements after the first k . The definition of such a measure in the multiplicative case is quite contrived and ends up being case bycase . For what matters f , we are particularly interested in the hyperbolic weight function f .r/ WD 1=.r C 1/ . This function gives more importance to elements of high rank , and weights zero only pairs in which both index have infinite rank . Using a hyperbolic weight has a number of useful features . First , it reminds the well motivated weight given to exchanges by AP correlation . Second , it guarantees that as n grows the mass of weight grows indefinitely . Using a function with quadratic decay , for instance , might end up in making the influence of low rank element vanish too quickly , as it is summable . For the opposite reason , a logarithmic decay might fail to be enough discriminative to provide additional information with respect to the standard .
We try to make this intuition more concrete in Figure 1 , where we display a number of scatter plots showing the correlation between Kendall ’s and the additive weighted defined by ( 2 ) under different weighting schemes . The left half of the plots correlates all permutations on 12 elements with the identity permutation . The right half correlates all score vectors made of 15 values with skewed distribution ( there are t C 1 elements with score 0 t 4 ) with the same vector in descending order . A visual examination of the plots suggests , indeed , that logarithmic weighting restricts too much the possible divergence from Kendall ’s , whereas quadratic weighting ends up in providing answers that are too uncorrelated . We will return to these consideration in Section 6 .
5 . COMPUTING fl;w
Our motivations come from the study of web and social graphs . It is thus essential that our new correlation measure can be evaluated efficiently . We now describe a generalization of Knight ’s algorithm [ 14 ] that makes it is possible to compute fl;w in time O.n log n/ under some assumptions on w . Our first observation is that , similarly to the unweighted case , each pair of indices i ; j with i < j belongs to one of five subsets ; it can be ffl a joint tie , if ri D rj and si D sj ; ffl a left tie , if ri D rj and si ¤ sj ; ffl a right tie , if ri ¤ rj and si D sj ; ffl a concordance , if sgn.ri , rj / sgn.si , sj / D 1 ; ffl a discordance , if sgn.ri , rj / sgn.si , sj / D ,1 . Let J , L , R , C and D be the overall weight of joint ties , left ties , right ties , concordances and discordances , respectively . Clearly ,
J C L C R C C C D DX wfli / ; fl.j // D T : i <j
The first requirement for our technique to work is that T can be computed easily . This is possible if weights are computed additively or multiplicatively from some single argument function f . In the additive case ,
,f fli // C f flj // D .n , 1/ f fli //f flj // D X
Also the multiplicative case is easy , as 2T D 2
T DX X
X 2 ,X f fli //2 : f fli // :
( 3 ) f fli // i <j i i <j i i
( 4 ) The same observation leads to a simple O.n log n/ algorithm to compute L : sort the indices in n by r , and for each block of consecutive k > 1 elements with the same score apply ( 3 ) or ( 4 ) restricting the indices to the subset . In the same way one can compute R and J .
We now observe that , as in the unweighted case , hr ; sifl;w D C , D D T , .L C R , J / , 2D :
This can be easily seen from the fact that C is given by the total weight T , minus the weight of discordances D , minus the number of ties , joint or not , which is L C R , J ( we must avoid to count twice the weight of joint ties , hence the ,J term ) . In particular , hr ; rifl;w D T , L hs ; sifl;w D T , R ;
1171 as in this case there are just concordances and all ties are joint .
We are left with the computation of D . The core of Knight ’s algorithm is an exchange counter : an O.n log n/ algorithm that given a list of elements and an order on the elements of the list computes the number of exchanges that are necessary to sort the list . The algorithm is a modified MergeSort [ 15]:6 during the merging phase , whenever an element is moved from the second list to the temporary result list the current number of elements of the first list is added to the number of exchanges . The number of discordances is then equal to the number of exchanges ( as we evaluate whether there is a discordance on i and j only for i < j ) .
Our goal is to make this computation weighted : for this to happen , it must be possible to keep track incrementally of a residual weight r associated with the first list , and obtain in constant time the weight of the exchanges generated by the movement of an element from the second list .
If weights are computed multiplicatively or additively starting from a single argument function f this is not difficult : it is sufficient to let r be the sum of the values of f applied to the elements currently in the first list . In the additive case , moving an element i from the second list increases the weight of exchanges by the residual r plus the weight f fli // multiplied by the length of the first list . In the multiplicative case , we must instead use the weight f fli // multiplied by the residual r . When we move an element from the first list we update the residual by subtracting its weight . The resulting recursive procedure ( for the additive case ) is Algorithm 1 . The final layout of the computation of fl;w is thus as follows : ffl Consider a list L initially filled with the integers Œ0 : : n/ . ffl Sort stably L using r as primary key and s as secondary key . ffl Compute T and L using L to enumerate elements in the order defined by r and s . ffl Apply Algorithm 1 to L using s to define the order , thus computing D and sorting stably L by s . ffl Compute R using L to enumerate elements in the order defined by s . ffl Compute T and put everything together . The running time of the computation is dominated by the sorting phases , and it is thus O.n log n/ . 5.1 The asymmetric case and AP Correlation It is easy to adapt Algorithm 1 for the case in which w.i ; j / is given by a combination of two different one argument functions , one , f , for the left index and one , g , for the right index . The only modification of Algorithm 1 is the replacement of f with g at line 14 , so that we combine the residual computed with f with a weight computed with g .
The formulae for computing T can be updated easily for the ad ditive case :
T DX
,f fli //C gflj // DX i.f fln , 1 , i //C gfli /// i¤0 i <j
6In principle , any stable algorithm that sorts by comparison could be used . This is particularly interesting as entirely on disk algorithms , such as polyphase merge [ 15 ] , could be used to count exchanges using constant core memory .
Algorithm 1 A generalization of Knight ’s algorithm for weighing exchanges . Input : A list L , a comparison function for the elements of L , a rank function fl , and a single argument weight function f that will be combined additively . e is a global variable initialized to 0 that will contain the weight of exchanges after the call weigh(0 , jL j ) . The procedure works on a sublist specified by its starting index 0 s < jL j and its length ` . T is a temporary list . Output : the sum of f fl,// on the specified sublist . 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 function weigh(s : integer , ` : integer ) if ` D 1 then return f flL Œs// fi `0 b`=2c `1 ` , `0 m s C `0 r weigh.s ; `0/ w weigh.m ; `1/ C r i ; j ; k 0 while j < `0 and k < `1 do T Œi  D L Œs C j ++ r r , f flT Œi // T Œi  D L Œm C k++ e e C f flT Œi // .`0 , j / C r od for k D `0 , j , 1 ; : : : ; 0 do od for k D 0 ; : : : ; i , 1 do L Œs C k T Œk od return w
L Œs C i C k L Œs C j C k if L Œs C j  L Œm C k then fi i++ end else and for the multiplicative case :
T DX f fli //gflj // DX i <j i
X i <j f fli // gflj // :
Both formulae can be computed in linear time using a suitable loop . Given this setup , it is easy to compute AP correlation : as it can be checked from the very definition [ 27 ] , the AP correlation of r wrt s , where both vectors have no ties , is simply w;fls .r ; s/ , where fls is the ranking induced by s and the weight function w is computed additively from two weight functions f .r/ D 0 , g.r/ D 1=r . In this case , T D n , 1 , J D L D R D 0 ( we are under the assumption that there are no ties ) and Algorithm 1 can be considerably simplified , as the residual r is always zero.7
7Of course , it is possible to forget that we are computing AP corre if L Œs C j  L Œm C k then
Algorithm 2 The replacement for lines 9–15 of Algorithm 1 to compute AP correlation . 9 10 11 12 13 14 fi
T Œi  D L Œs C j ++ T Œi  D L Œm C k++ e e C .`0 , j /=fl.T Œi / else
1172 Indegree PageRank Katz Harmonic Closeness
Ind . 1 0.95 0.98 0.90 0.27
PR 0.95 1 0.96 0.92 0.65
Katz Harm . 0.90 0.98 0.92 0.96 1 0.93 1 0.93 0.26 0.28
Cl . 0.27 0.65 0.26 0.28 1
Table 6 : h on Wikipedia .
Algorithm 2 makes explicit the change to the selection statement of Algorithm 1 that is sufficient to compute AP correlation . Since keeping track of the residual is no longer necessary , the recursive function can be further simplified to a recursive procedure that does not return a value . The value e computed by the modified algorithm is all we need to compute AP correlation using the formula .T , 2e/=T .
6 . EXPERIMENTS
We now return to our main motivation—understanding the correlation between centralities on large graph . In this section , we gather the results of a number of computational experiments that help to corroborate our intuition that h , the additive hyperbolic weighted , or in short , the hyperbolic , works as expected . We will find also an interesting surprise along the way .
Note that judging whether a new measure is useful for such a purpose is a difficult task : to be interesting , a new measure must highlight features that were previously undetectable or badly evaluated , but those are exactly those features on which a systematic assessment is problematic .
Table 6 reports the value of h on the Wikipedia graph . We finally see data corresponding to the empirical evidence discussed in Section 3 : indegree , Katz and PageRank are almost identical , harmonic centrality is highly correlated but definitely less than the previous triple , which matches our empirical observations . Closeness is not close to any ranking ( and in particular , not to harmonic centrality ) due to its pathological behavior .
There is of course a value that immediately stands out : the suspiciously high correlation ( 0:65 ) between closeness and PageRank . We reserve discussing this value for later .
In Table 7 we show the same data for logarithmic and quadratic weights . The intuition we gathered from Figure 1 is fully confirmed : logarithmic weights provides results almost indistinguishable from Kendall ’s ( compare with Table 3 ) , and quadratic weighs make the influence of the tail so low that all non pathological scores collapse .
To gather a better understanding of the behavior of h we extended our experiments to two very different datasets : the Hollywood co starship graph , an undirected graph ( 2 million nodes , 229 million edges ) with an edge between two persons appearing in the Internet Movie Data Base if they ever worked together , and a host graph ( 100 million nodes , 2 billion arcs ) obtained from a large lation and use the weight matrix just described combined with the machinery of Section 4 to define an “ AP correlation with ties ” . In this case , J , L and R should be computed using the formulae for the asymmetric case , and the probabilistic interpretation would be lost . Such an index would most likely yield a notion of correlation very similar to h , but we find more natural and more in line with Kendall ’s original definition to introduce the weighted as a symmetric index in which both ends of an exchange are relevant in computing the exchange weight . Moreover , as discussed in the conclusions , our approach naturally paves the way to a weighted notion of top k correlation .
Indegree PageRank Katz Harmonic Closeness
Indegree PageRank Katz Harmonic Closeness
Ind . 1 0.76 0.90 0.63 0.55
Ind . 1 1.00 1.00 1.00 0.22
PR 0.76 1 0.76 0.62 0.56
PR 1.00 1 1.00 1.00 0.85
Katz Harm . 0.63 0.90 0.62 0.76 1 0.70 1 0.70 0.62 0.91
Katz Harm . 1.00 1.00 1.00 1.00 1.00 1 1 1.00 0.18 0.07
Cl . 0.55 0.56 0.62 0.91 1
Cl . 0.22 0.85 0.18 0.07 1
Table 7 : The logarithmic ( top ) and quadratic ( bottom ) additive on Wikipedia . scale crawl gathered by the Common Crawl Foundation8 in the first half of 2012.9 As ( unavoidably anecdotal ) empirical evidence we report the top 20 nodes for both graphs .
Table 8 should be compared with Table 10 . PageRank and harmonic centrality turns to be less correlated to indegree than Katz in Table 8 , and indeed we find many quirk choices in the very top PageRank actors ( Ron Jeremy is a famous porn star ; Lloyd Kaufman is an independent horror/splatter filmmaker and Debbie Rochon an actress working with him ) . Harmonic centrality provides unique names such as Malcolm McDowell , Robert De Niro , Anthony Hopkins and Sylvester Stallone , and drops all USA presidents altogether . Kendall ’s values , instead , suggest that PageRank and harmonic centrality are entirely uncorrelated ( whereas we find several common items ) , and that harmonic and closeness centrality should be extremely similar .
We see analogous results comparing Table 9 with Table 11 . Here h separates in a very strong way harmonic centrality from the first three , and indeed we see a significant difference in the lists , with numerous sites that have a high indegree and appear in at least two of the three lists because of technical or political reasons ( gmpg.org , rtalabel.org , stafftumblrcom , phpbb.com , miibeiangovcn , ) disappearing altogether in favor of sites such as apple.com , amazon.com , myspace.com , microsoft.com , bbccouk , nytimes.com and guardiancouk , which do not appear in any other list . If we look at Kendall ’s , we should expect PageRank and Katz to give very different rankings , whereas more than half of their top 20 elements are in common . 6.1 PageRank and closeness
It is now time to examine the mysteriously high h between PageRank and closeness we found in all our graphs . When we first computed our correlation tables , we were puzzled by its value . The phenomenon is interesting for three reasons : first , it has never been reported—using standard , unweighted indices this correlation is simply undetectable ; second , it was known for techniques based on singular vectors [ 17 ] ; third , we know exactly the cause of this correlation , because the only real difference between harmonic and closeness centrality is the score assigned to nodes unreachable from 8http://commoncrawl.org/ 9The crawl contains 3:53 billion web documents ; we are using the associated host graph , which has a node for each host and an arc between two hosts x and y if some page in x points to some page in y . More information about the graph can be found in [ 19 ] , and the complete host ranking can be accessed at http : //wwwrankingwebdatacommonsorg/
1173 Indegree
Shatner , William Flowers , Bess Sheen , Martin Reagan , Ronald ( I ) Clooney , George Jackson , Samuel L . Williams , Robin ( I ) Hanks , Tom Jeremy , Ron Hitler , Adolf Willis , Bruce Clinton , Bill ( I ) Freeman , Morgan ( I ) Hopper , Dennis Stone , Sharon ( I ) Madonna ( I ) Bush , George W . Harris , Sam ( II ) Brosnan , Pierce Travolta , John
PageRank
Katz
Harmonic
Sheen , Martin Clooney , George Jackson , Samuel L . Hopper , Dennis Hanks , Tom Stone , Sharon ( I ) Brosnan , Pierce Hitler , Adolf McDowell , Malcolm
Shatner , William Jeremy , Ron Sheen , Martin Hitler , Adolf Kaufman , Lloyd Hanks , Tom Williams , Robin ( I ) Bush , George W . Clooney , George Reagan , Ronald ( I ) Reagan , Ronald ( I ) Clinton , Bill ( I ) Willis , Bruce Sheen , Martin Rochon , Debbie Jackson , Samuel L . Kennedy , John F . Stone , Sharon ( I ) Freeman , Morgan ( I ) Williams , Robin ( I ) Hopper , Dennis Nixon , Richard Flowers , Bess Estevez , Joe Brosnan , Pierce Douglas , Michael ( I ) Hopkins , Anthony Shatner , William Madonna ( I ) Jackson , Samuel L . Stewart , Jon ( I ) Travolta , John Carradine , David ( I ) Hopper , Dennis Asner , Edward Zirnkilton , Steven Colbert , Stephen Madsen , Michael ( I )
Ford , Harrison ( I ) Asner , Edward MacLaine , Shirley Clinton , Bill ( I )
De Niro , Robert Willis , Bruce
Madonna ( I ) Lee , Christopher ( I ) Douglas , Michael ( I ) Sutherland , Donald ( I ) Freeman , Morgan ( I ) Stallone , Sylvester Ford , Harrison ( I )
Closeness
Östlund , Claes Göran Östlund , Catarina von Preußen , Oskar Prinz von Preußen , Georg Friedrich von Mannstein , Robert Grund von Mannstein , Concha von der Busken , Mart van der Putten , Thea de la Bruheze , Joel Albert de la Bruheze , Emile te Riele , Marloes de Reijer , Eric des Bouvrie , Jan de Klijn , Judith de Freitas , Luís ( II ) de Freitas , Luís ( I ) Zuu , Winnie Otondi Zuu , Emmanuel Dahngbay Zilbersmith , Carla Zilber , Mac
Table 10 : Top 20 pages of the Hollywood co starship graph .
Indegree wordpress.org youtube.com gmpg.org enwikipediaorg tumblr.com twitter.com google.com flickr.com rtalabel.org wordpress.com mp3shake.com w3schools.com domainslycoscom stafftumblrcom clubtripodcom creativecommons.org vimeo.com miibeiangovcn facebook.com phpbb.com
PageRank gmpg.org wordpress.org youtube.com livejournal.com tumblr.com enwikipediaorg twitter.com networkadvertising.org promodj.com skriptmail.de parallels.com tistory.com google.com miibeiangovcn phpbb.com blogfc2com twyahoocom w3schools.com wordpress.com domainslycoscom
Katz wordpress.org youtube.com gmpg.org enwikipediaorg tumblr.com twitter.com google.com flickr.com rtalabel.org wordpress.com mp3shake.com w3schools.com creativecommons.org stafftumblrcom domainslycoscom clubtripodcom vimeo.com miibeiangovcn facebook.com phpbb.com
Harmonic youtube.com enwikipediaorg twitter.com google.com wordpress.org flickr.com facebook.com apple.com vimeo.com creativecommons.org amazon.com adobe.com myspace.com w3.org bbccouk nytimes.com yahoo.com microsoft.com guardiancouk imdb.com
Closeness
0 p.com 0 0 0 0 0 0 0indahiphopru 0 0 1itiexuenet 0 00cigarettes.info 0 0mos00hi5com 0 0new0 0hi5com 0 0sunny0 0hi5com 0 1itiexuenet 0 1sxsyco 0 2paparazziwannabecom 0 311.cn 0 360rukazanru 0 5days.com 0 5days.net 0 5kalibrpdjru 0 9 0 4 4 9promoradioru 0 9 0 9dbassru 0 9 0 9promodjru 0 9 1125itiexuenet 0 9 7 16softwareinformercom
Table 11 : Top 20 hosts of the Common Crawl host graph .
Indegree PageRank Katz Harmonic Closeness
Indegree PageRank Katz Harmonic Closeness
Ind . 1 0.42 0.93 0.55 0.43
Ind . 1 0.90 0.98 0.91 0.10
PR 0.42 1 0.36 0.10 0.18
PR 0.90 1 0.88 0.81 0.64
Katz Harm . 0.55 0.93 0.10 0.36 0.61 1 1 0.61 0.49 0.86
Katz Harm . 0.91 0.98 0.81 0.88 0.92 1 0.92 1 0.18 0.11
Cl . 0.43 0.18 0.49 0.86 1
Cl . 0.10 0.64 0.11 0.18 1
Indegree PageRank Katz Harmonic Closeness
Indegree PageRank Katz Harmonic Closeness
Ind . 1 0.71 0.89 0.61 0.54
Ind . 1 0.91 0.96 0.72 0.20
PR 0.71 1 0.66 0.50 0.50
PR 0.91 1 0.90 0.81 0.69
Katz Harm . 0.61 0.89 0.50 0.66 0.69 1 1 0.69 0.59 0.86
Katz Harm . 0.72 0.96 0.81 0.90 0.78 1 0.78 1 0.35 0.15
Cl . 0.54 0.50 0.59 0.86 1
Cl . 0.20 0.69 0.15 0.35 1
Table 8 : Kendall ’s ( top ) and h ( bottom ) on the Hollywood co starship graph .
Table 9 : Kendall ’s ( top ) and h ( bottom ) on the on the Common Crawl host graph . the giant component . We thus expect to discover an unsuspected correlation between the way PageRank and closeness rank these nodes .
To have a visual understanding of what is happening , we created Figure 2 , 3 and 4 in the following way : first , we isolated the nodes that are unreachable from the giant component ( in the case of Hollywood , which is undirected , these nodes form separate compo nents ) , omitting nodes which have indegree zero , modulo loops ( as all measures give the lowest score to such nodes ) ; then , we sorted the nodes in order of decreasing closeness rank , and plotted for each node its rank following the other measures ( we average ranks on block of nodes so to contain the number of points in the plots ) . A point of high abscissa in the figures implies a high rank .
1174 Figure 2 : Ranks of components unreachable from the giant component of the Wikipedia graph .
Figure 4 : Ranks of components unreachable from the giant component of the Common Crawl host graph .
We have then proposed families of weighting schemes that are intuitively appealing , and showed that they can be computed in time O.n log n/ using a generalization of Knight ’s algorithm , which makes them suitable for large scale applications . The fact that the main cost of the algorithm is a modified stable sort makes it possible to apply standard techniques to run the algorithm exploiting multicore parallelism , or a in distributed environment . The algorithm can be also used to compute AP correlation [ 27 ] .
All three pictures show clearly that PageRank assigns a preposterously high rank to nodes belonging to components that are unreachable from the giant component . This behavior is actually related to PageRank ’s well known insensitivity to size [ 2 ] : for instance , in a graph made of two components , one of which is a 3clique and the other a k clique , the PageRank score of all nodes is 1=.3 C k/ , independently of k . The same phenomenon is at work when the community around Lloyd Kaufman ’s production company ( very small and very dense ) is attributed such a great importance that its elements make their way to the very top ranks . Dually , harmonic centrality , the only score sensitive to size among those we are considering , sports consistently the lowest ranks on such nodes . We remark that the gap in rank is lower in the case of Wikipedia , but this is fully in concordance with the higher baseline value of Kendall ’s .
7 . CONCLUSIONS
In this paper , motivated by the need to understand similarity between score vectors , such as those generated by centrality measures on large graphs , we have defined a weighted version of Kendall ’s starting from its 1945 definition for scores with ties . We have developed the mathematical properties of our generalization following a mathematical similarity with internal products , and showing that for a wide range of weighting schemes our new measure behaves as expected , providing a correlation index between 1 and 1 , and hitting boundaries only for opposite or equivalent scores .
Figure 3 : Ranks of components of the Hollywood co starship graph , excluding the giant component .
In search for a confirmation of our mathematical intuition , we have then applied our measure of choice h ( which uses additive hyperbolic weights ) to diverse graph such as Wikipedia , the Hollywood co starship graph and a large host graph , finding that , contrarily to Kendall ’s , h provides results that are consistent with an anecdotal examination of lists of top elements .
Our measure was also able to discover a previously unnoticed correlation between PageRank and closeness on small components that are unreachable from the giant component , providing a quantifiable account of the strong bias of PageRank towards small sized dense communities . This bias might well be the cause of the repeatedly assessed better performance of indegree wrt PageRank in ranking documents [ 21 , 3 ] , as in all our experiments the h between PageRank and indegree is above 0:9 .
A generalization similar to the one described in this paper can be also applied to Goodman–Kruskal ’s fl , which in the notation of Section 5 is just .C , D/=.C C D/ . The problem with fl is that the contribution of ties is only implicit ( they are simply not counted ) . Thus , the value of w on tied pairs does not appear at all in the above formula . This “ forgetful ” behavior can lead to unnatural results : for instance , the fl correlation between the score vectors h1 ; 2 ; 3i and h1 ; 2 ; 2i is one , independently of the weights ( ie , even if we let w12 go to infinity ) . This behaviour suggests the Kendall ’s is a better candidate for this approach—the cor2=3 with
2=.2 C w12/ , which is 1 when w12 D 0,p relation isp uniform weights , and goes to zero as w12 goes to infinity .
We remark that an interesting application of additive hyperbolic weighting is that of measuring the correlation between top k lists . By assuming that the rank function fl returns 1 after rank k , we obtain a correlation index that weighs zero pairs outside the top k , weights only “ by one side ” pairs with just one element outside the top k , and weights fully pairs whose elements are within the top k . Formula ( 2 ) could provide then in principle a finer assessment than , for instance , the modified Kendall ’s proposed in [ 5 ] , as the position of each element inside the list , beside the fact that it appears in the top k or not , would be a source of weight . We leave the analysis of such a correlation measure for future work .
0 20000 40000 60000 80000 100000ranknode ( sorted by closeness)IndegreePageRankKatzHarmonicCloseness 0 10000 20000 30000 40000 50000 60000 70000ranknode ( sorted by closeness)IndegreePageRankKatzHarmonicCloseness 0 1e+06 2e+06 3e+06 4e+06 5e+06ranknode ( sorted by closeness)IndegreePageRankKatzHarmonicCloseness1175 8 . REFERENCES [ 1 ] Alex Bavelas . Communication patterns in task oriented groups . J . Acoust . Soc . Am . , 22(6):725–730 , 1950 .
[ 2 ] Paolo Boldi and Sebastiano Vigna . Axioms for centrality .
Internet Math . , 10(3 4):222–262 , 2014 .
[ 3 ] Nick Craswell , David Hawking , and Trystan Upstill .
Predicting fame and fortune : PageRank or indegree ? In In Proceedings of the Australasian Document Computing Symposium , ADCS2003 , pages 31–40 , 2003 .
[ 4 ] Henry E . Daniels . The relation between measures of correlation in the universe of sample permutations . Biometrika , 33(2):129–135 , 1943 .
[ 5 ] Ronald Fagin , Ravi Kumar , and D . Sivakumar . Comparing top k lists . SIAM Journal on Discrete Mathematics , 17(1):134–160 , 2003 .
[ 6 ] F . Farnoud and O . Milenkovic . An axiomatic approach to constructing distances for rank comparison and aggregation . IEEE Trans . on Information Theory , 60(10):6417–6439 , October 2014 .
[ 7 ] Santo Fortunato , Marián Boguñá , Alessandro Flammini , and Filippo Menczer . On local estimations of pagerank : A mean field approach . Internet Math . , 4(2):245–266 , 2007 .
[ 8 ] Johannes Hoffart , Fabian M . Suchanek , Klaus Berberich , and
Gerhard Weikum . YAGO2 : A spatially and temporally enhanced knowledge base from Wikipedia . Artificial Intelligence , 194:28–61 , 2013 .
[ 9 ] Ronald L . Iman and W . J . Conover . A measure of top down correlation . Technometrics , 29(3):351–357 , 1987 .
[ 10 ] Leo Katz . A new status index derived from sociometric analysis . Psychometrika , 18(1):39–43 , 1953 .
[ 11 ] John G . Kemeny . Mathematics without numbers . Daedalus ,
88(4):577–591 , 1959 .
[ 12 ] Maurice G . Kendall . A new measure of rank correlation .
Biometrika , 30(1/2):81–93 , 1938 .
[ 13 ] Maurice G . Kendall . The treatment of ties in ranking problems . Biometrika , 33(3):239–251 , 1945 .
[ 14 ] William R . Knight . A computer method for calculating
Kendall ’s tau with ungrouped data . Journal of the American Statistical Association , 61(314):436–439 , June 1966 .
[ 15 ] Donald E . Knuth . Sorting and Searching , volume 3 of The
Art of Computer Programming . Addison Wesley , second edition , 1997 .
[ 16 ] Ravi Kumar and Sergei Vassilvitskii . Generalized distances between rankings . In Proceedings of the 19th International Conference on World Wide Web , pages 571–580 . ACM , 2010 .
[ 17 ] Ronny Lempel and Shlomo Moran . The stochastic approach for link structure analysis ( SALSA ) and the TKC effect . Computer Networks , 33(1):387–401 , 2000 .
[ 18 ] Massimo Melucci . On rank correlation in information retrieval evaluation . SIGIR Forum , 41(1):18–33 , June 2007 .
[ 19 ] Robert Meusel , Sebastiano Vigna , Oliver Lehmberg , and
Christian Bizer . Graph structure in the web — Revisited , or a trick of the heavy tail . In WWW’14 Companion , pages 427–432 . International World Wide Web Conferences Steering Committee , 2014 .
[ 20 ] Carl D . Meyer . Matrix analysis and applied linear algebra .
Society for Industrial and Applied Mathematics , 2000 .
[ 21 ] Marc Najork , Hugo Zaragoza , and Michael J . Taylor . HITS on the web : how does it compare ? In Wessel Kraaij , Arjen P . de Vries , Charles L . A . Clarke , Norbert Fuhr , and Noriko Kando , editors , SIGIR 2007 : Proceedings of the 30th Annual International ACM SIGIR Conference on Research and Development in Information Retrieval , Amsterdam , The Netherlands , July 23 27 , 2007 , pages 471–478 . ACM , 2007 .
[ 22 ] Lawrence Page , Sergey Brin , Rajeev Motwani , and Terry
Winograd . The PageRank citation ranking : Bringing order to the web . Technical Report SIDL WP 1999 0120 , Stanford Digital Library Technologies Project , Stanford University , 1998 .
[ 23 ] I . Richard Savage . Contributions to the theory of rank order statistics—the two sample case . The Annals of Mathematical Statistics , 27(3):590–615 , 1956 .
[ 24 ] Grace S . Shieh . A weighted kendall ’s tau statistic . Statistics
& Probability Letters , 39(1):17–24 , 1998 .
[ 25 ] Charles Spearman . The proof and measurement of association between two things . The American journal of psychology , 15(1):72–101 , 1904 .
[ 26 ] Ellen M . Voorhees . Evaluation by highly relevant documents . In Proceedings of the 24th annual international ACM SIGIR conference on Research and development in information retrieval , pages 74–82 . ACM , 2001 .
[ 27 ] Emine Yilmaz , Javed A . Aslam , and Stephen Robertson . A new rank correlation coefficient for information retrieval . In Proceedings of the 31st annual international ACM SIGIR conference on Research and development in information retrieval , pages 587–594 . ACM , 2008 .
1176

Adapting a Map Query Interface for a Gesturing Touch
Screen Interface∗
Hanan Samet Benjamin E . Teitler Marco D . Adelfio Michael D . Lieberman
Center for Automation Research , Institute for Advanced Studies ,
Department of Computer Science , University of Maryland
College Park , MD 20742 USA
{hjs , bteitler , marco , codepoet}@csumdedu
ABSTRACT NewsStand is an example application of a general framework that we are developing to enable searching for information using a map query interface , where the information results from monitoring the output of over 8,000 RSS news sources and is available for retrieval within minutes of publication . The user interface of NewsStand was recently adapted so that NewsStand can execute on mobile and tablet devices with a gesturing touch screen interface such as the iPhone , iPod Touch , and iPad . This action led to a discovery of some shortcomings of current mapping APIs as well as devising some interesting new widgets . These issues are discussed , and the realization can be seen by a demo at http:// newsstandumiacsumdedu on any of the above Apple devices as well as other devices that support gestures such as an Android phone .
Categories and Subject Descriptors H31 [ Information Storage and Retrieval ] : Content Analysis and Indexing ; H33 [ Information Storage and Retrieval ] : Information Search and Retrieval ; H52 [ Information Interfaces and Presentation ] : User Interfaces
General Terms Algorithms , Design , Experimentation , Human Factors , Performance
Keywords NewsStand , Touch Screen Gesturing Interface , Map Query Interface
1 .
INTRODUCTION
In this paper we describe how we adapted the user interface of NewsStand ( denoting Spatio Textual Aggregation of News and Display ) [ 7 ] , as well as the related STEWARD [ 4 ] and TwitterStand [ 6 ] systems , so that NewsStand can execute on a mobile device with a touch screen interface such as the iPhone and iPod Touch , as well as tablet devices such
∗This work was supported in part by the National Science Foundation under Grants IIS 09 48548 , IIS 08 12377 , CCF08 30618 , and IIS 07 13501 .
Copyright is held by the International World Wide Web Conference Committee ( IW3C2 ) . Distribution of these papers is limited to classroom use , and personal use by others . WWW 2011 , March 28–April 1 , 2011 , Hyderabad , India . ACM 978 1 4503 0637 9/11/03 . as the iPad . NewsStand is an example application of a general framework that we are developing to enable searching for information using a map query interface . The advantage of doing so is that a map , coupled with an ability to vary the zoom level at which it is viewed , provides an inherent granularity to the search process that facilitates an approximate search . In particular , the map query interface is useful here as the act of pointing at a location ( eg , by the appropriate positioning of a pointing device ) and making the interpretation of the precision of this positioning specification dependent on the zoom level is equivalent to permitting the use of spatial synonyms .
NewsStand , and the related systems that we have built , addresses the synonym problem for spatial queries . It makes use of the observation that all spatial queries can be broken down into the following two classes :
1 . Location based—Take a location X , traditionally specified using lat/long coordinate values , as an argument , and return a set of features associated with X .
2 . Feature based—Take a feature Y as an argument and return the set of locations with which Y is associated ( also known as spatial data mining [ 1 , 2] ) .
For the domain of a collection of news articles , the locationbased queries are formulated in terms of textually specified locations ( converted to coordinate values using geotagging [ 3 , 5] ) , and the features are news topics . Thus a locationbased query returns all topics/articles mentioning a specific place or region X , while a feature based query returns all places/regions mentioned in articles about topic T , or just in article Y . It is important to note that NewsStand does not require T to be known a priori , in which case the topics are ranked by importance , which can be defined by a number of criteria including , but not limited to , the number of articles which comprise them . Using this definition of T leads us , at times , to use the terms “ Top Stories ” and “ Map Mode ” to differentiate between the feature based and location based queries , respectively .
In this paper we discuss the issues that arose in adapting NewsStand so that it can execute on mobile and tablet devices with a gesturing touch screen interface such as the iPhone , iPod Touch , and iPad .
ISSUES 2 . 2.1 Queries
Adapting the user interface of NewsStand to execute on devices with touch screens such as the iPhone , iPod Touch ,
WWW 2011 – DemoMarch 28–April 1 , 2011 , Hyderabad , India257 Figure 1 : iPad screenshot of NewsStand ’s output to “ Where is topic T or article Y happening ? ” , where T is Brazil ’s loss to Holland in the 2010 Soccer World Cup Tournament in July 2010 . The left shows a number of topics . Hovering the mouse cursor ( or tapping on a touch screen ) over a topic ( left pane ) , visualized by graying the topic , causes appropriate icons ( baseballs denoting a sports topic in this example ) to appear on the map ( right pane ) at the principal geographic locations associated with this topic which include Brazil , Holland , South Africa , Cameroon , and Slovakia . and iPad needs to take into account the different display screen sizes which have a direct effect on what can be seen . This is a major factor in deciding what functionality of NewsStand to retain . In particular , the size of the display screen has the biggest effect on the iPhone and iPod Touch . For example , consider the feature based query ( ie , the “ Where is topic T or article Y happening ? ” ) an example of which is given in Figure 1 which displays NewsStand ’s output on the iPad where T is Brazil ’s loss to Holland in the 2010 Soccer World Cup Tournament in July 2010 . On the left we see a number of topics . Hovering the mouse cursor ( or tapping on a touch screen ) over a topic ( left pane ) , visualized by graying the topic , causes appropriate icons ( baseballs denoting a sports topic in this example ) to appear on the map ( right pane ) at the principal geographic locations associated with this topic , which include Brazil , Holland , South Africa , Cameroon , and Slovakia .
It ’s clear that display screen size on the mobile devices is somewhat small to support the full fledged version of this query . Thus we also provide an alternative where users first invoke the “ What is happening at X ? ” query on a particular region , and then enter the topic in the “ Search ” query box . The result is a map with markers showing the locations that are mentioned in representative articles from article clusters that contain this keyword . For example , Figure 2 shows the result of the iPhone and iPod Touch search for “ Where is topic spy happening ? ” ( ie , the keyword is “ spy ” ) where the results are heavily skewed to a recent arrest of 10 Russian spies ( June 2010 ) . Figure 2(a ) is a map of the relevant area ( restricted to the Eastern half of the US ) with icons corresponding to article clusters . Figure 2(b ) is an icon bubble that contains headlines for the icon corresponding to Northern Virginia ( remaining headlines can be obtained by a two finger pan gesture which is the touch screen equivalent of scroll buttons in the window ) . Figure 2(c ) is an icon bubble showing the text tying a representative article to an article cluster associated with “ Northern Virginia ” corresponding to the arrest of a husband and wife pair of spies residing there . Supporting location based queries of the form “ What is happening at X ? ” is much easier on the mobile devices as only the map needs to be displayed ( in contrast to also having to include the topics as in the “ Where is topic T hap
WWW 2011 – DemoMarch 28–April 1 , 2011 , Hyderabad , India258 ( a )
( b )
( c )
Figure 2 : iPhone and iPod Touch screen shots showing the result of a search for the keyword “ spy , ” ( a ) map icons corresponding to article clusters ( restricted to the Eastern half of the US ) , ( b ) headlines for the icon corresponding to Northern Virginia , and ( c ) an icon bubble showing the text tying a representative article to an article cluster associated with Northern Virginia corresponding to the arrest of a husband and wife pair of spies residing there . pening ? ” query ) . Searching for a particular location X is achieved by making use of the “ Locate ” query box where users enter the location and the result is a map with markers showing the article clusters that mention the location and other locations in its vicinity . The extent of the vicinity can be increased ( decreased ) by zooming out ( zooming in ) . 2.2 Javascript and Mapping APIs
NewsStand is a web based application ( Javascript/AJAX ) that is dependent upon external mapping APIs in order to function . Currently , the non touch screen interface version of NewsStand supports the Javascript APIs provided by Google Maps , Microsoft Bing Maps , and the Google Earth Browser Plugin . This means that whatever mapping API we used for our touch screen interface version of NewsStand must support touch gestures . We could not use the Google Earth Browser Plugin , since it is not supported on the iPhone , iPod Touch , and iPad but Google and Bing maps were viable options .
At the time of our implementation , only the latest version of the Google Maps Javascript API ( version 3 or v3 for short ) understood the gestures used on the Apple mobile devices ( Mobile Safari ) . In particular , this Javascript API for Google Maps v3 supports , by default , all of the operations that one would expect for a map interface ( namely zoom in , zoom out , and pan ) and it is the one we used . Recently , this capability was added to the Bing Maps Javascript API . It is important to note that both Google Maps and Bing Maps have native applications for the iPhone , iPod Touch , and iPad that support touch gestures , but , unfortunately , they are not accessible from Javascript . 2.3 Zooming Issues
A problem with a screen display which has a very small resolution ( such as the iPhone and iPod Touch , for instance ) is that their screens are simply too small to fit an entire web page on one screen , and be able to read , let alone say anything about it . Of course , developers are well aware that their applications will have to run correctly on a variety of different resolutions , and will write code that is compatible with different screen sizes . However , the screens of these mobile devices ( at least the iPhone and iPod Touch ) are so small that this is often impossible . In order to combat this problem , Apple ’s Mobile Safari renders web pages first to a “ virtual ” screen , which is usually much bigger than the resolution of the device . Mobile Safari then treats the physical window of the device as a sliding window that can be moved across the virtual screen by the typical zoom and pan gestures . Therefore , the user can now zoom into places on the web page that are currently too small , as well as zoom out to view more screen real estate .
Unfortunately , this solution causes a semantic issue with mapping APIs that support gestures , such as Google Maps v3 when they are embedded in web pages such as NewsStand . In particular , when the user makes a zoom or pan gesture on the map , the question arises whether the user is asking to zoom or pan on the virtual screen ? Or is the user asking for the gesture to be passed to the mapping API in order to tunnel into the data to provide more detail ( which is the typical interpretation of zoom on a map ) ?
It is interesting to note that this problem also arises in the context of general drawing programs where we would like to shrink the resulting figure to fit in a smaller space in the publication , while we don’t necessarily want the graphic elements ( eg , the thickness of the line segments ) to shrink or the symbolic elements ( ie , the point size of the font ) to decrease , which means that we may have to move labels around in the same spirit as name placement is done in maps . Clearly , we don’t want the user to lose the ability to zoom or pan the web page , since they may wish to adjust the size of fonts as well as other graphic elements of the web page . In NewsStand , we overcome this problem by providing the user with the ability to choose between these two gesture modes . This is done by the introduction and implementation of a widget in the form of a “ magnifying glass ” positioned at the lower left corner of the screen ( see Figure 2 ) .
WWW 2011 – DemoMarch 28–April 1 , 2011 , Hyderabad , India259 By default , gestures are passed onto the mapping API . However , if the user toggles the magnifying glass button , then the gestures will now be applied to the web page . Once the commands for the web page have been completed , the magnifying glass button is toggled and subsequent gestures are once again passed to the mapping API . The two modes are distinguished by graying the background map when the magnifying glass is selected .
2.4 Redirection
Another problem is fully understanding and appreciating the semantics of redirecting the user to content from NewsStand . One of the shortcomings of NewsStand has been the confusion of users as to where control is to flow logically after certain events . In particular , the semantics of the “ back ” button are difficult to master . The problem is that after certain events , users would like to return to the web page from where they last departed . Unfortunately , this is not always possible due to the complicated interactions between NewsStand controls , and the fact the browser ’s back button cannot reason about the Javascript state , which affects the rendering of the page . It is important to note that when the user wishes to view an article discovered on NewsStand , we do not wish to replace the entire NewsStand web page with the article ( since otherwise the user will lose their place on the map ) , and so we open the new web page in a frame overlaying NewsStand . We use the same frame idea for various other content on NewsStand ( eg , when viewing a set of images associated with a cluster ) .
Unfortunately , the problem with frames is that they are naturally smaller than the browser window from which they have been invoked , which makes it difficult satisfy the user ’s conflicting needs to be able to see something and also to realize/understand that they are still in NewsStand . Therefore , this frame strategy is not appropriate for mobile devices since the screen real estate is far too valuable to give up for this purpose . Thus , what we do is simply open web pages in a new tab on the iPhone , iPod Touch , and iPad .
Interestingly , all is not lost here as it turns out that the iPhone , iPod Touch , and iPad have a nice tab changing animation which moves from one page to the next , and makes it very clear to the user what is happening . In particular , all currently open web pages can be accessed by the browser ’s window button ( at the lower right corner of the interface ) , which opens up a screen/window where miniature previews of web pages can be viewed and selected . In this case , there is a distinction in the implementations on the iPhone and iPod Touch vis a vis the iPad due to the difference in screen sizes . In particular , on the iPhone and iPod Touch , the miniatures are placed in a row so that just one miniature can be seen in its entirety and navigation proceeds by panning , while on the iPad , the miniatures are placed in sets of 3 × 3 matrices , and navigation again proceeds by panning . This is a far superior solution than currently in use in implementations of browsers with conventional non gesturing interfaces , where tabs are tabulated with nonintuitive names and the action of wrongly closing a tab is not recoverable . In other words , the miniature images of the open web pages serve as an additional guard against wrongly closing pages and also ensure that users return to the page from which they came as they can recognize them more easily .
3 . CONCLUDING REMARKS
We presented an overview of some of the issues that we faced in porting a web based mapping application to devices with gesturing touch screen interfaces such as the Apple iPhone , iPod Touch , and iPad . Readers can test drive this application , which can be found at http://newsstand . umiacsumdedu on any of the above Apple devices as well as other devices that support gestures such as an Android phone . We are currently developing a native application ( ie , built using Apple ’s SDK ) that should be far more efficient than our current web based Javascript implementation of NewsStand for a gesturing touch screen interface . In particular , the zooming and panning operations in the Javascript version of Google Maps are very slow compared to the native Google Maps application . We hope that further advances will be made to Apple ’s mobile and tablet devices which increase the speed of their Javascript implementation . Finally , we note that the recent boom of popularity of mobile and tablet devices such as the iPhone , iPod Touch , and iPad open up a new world of opportunity for mobile GIS applications . Thus it is very important that the Javascript versions of mapping APIs are working smoothly on these devices , and that the user interface semantics are clear . We believe that NewsStand for the iPhone , iPod Touch , and iPad provides a nice glimpse as to how non trivial GIS applications can function on mobile and tablet devices . 4 . REFERENCES [ 1 ] W . G . Aref and H . Samet . Efficient processing of window queries in the pyramid data structure . In Proc . of the 9th ACM SIGACT SIGMOD SIGART Symposium on Principles of Database Systems ( PODS ) , pages 265–272 , Nashville , TN , Apr . 1990 .
[ 2 ] J . Han and M . Kamber . Data Mining : Concepts and Techniques . Morgan Kaufmann , San Francisco , 2000 .
[ 3 ] M . D . Lieberman , H . Samet , and J . Sankaranarayanan .
Geotagging with local lexicons to build indexes for textually specified spatial data . In Proc . of the 26th IEEE International Conference on Data Engineering , pages 201–212 , Long Beach , CA , Mar . 2010 .
[ 4 ] M . D . Lieberman , H . Samet , J . Sankaranarayanan , and J . Sperling . STEWARD : architecture of a spatio textual search engine . In Proc . of the 15th ACM International Symposium on Advances in Geographic Information Systems , pages 186–193 , Seattle , WA , Nov . 2007 . [ 5 ] G . Quercini , H . Samet , J . Sankaranarayanan , and M . D . Lieberman . Determining the spatial reader scopes of news sources using local lexicons . In Proc . of the 18th ACM SIGSPATIAL International Conference on Advances in Geographic Information Systems , pages 43–52 , San Jose , CA , Nov . 2010 .
[ 6 ] J . Sankaranarayanan , H . Samet , B . Teitler , M . D .
Lieberman , and J . Sperling . TwitterStand : News in tweets . In Proc . of the 17th ACM SIGSPATIAL International Conference on Advances in Geographic Information Systems , pages 42–51 , Seattle , WA , Nov . 2009 .
[ 7 ] B . Teitler , M . D . Lieberman , D . Panozzo ,
J . Sankaranarayanan , H . Samet , and J . Sperling . NewsStand : A new view on news . In Proc . of the 16th ACM SIGSPATIAL International Conference on Advances in Geographic Information Systems , pages 144–153 , Irvine , CA , Nov . 2008 .
WWW 2011 – DemoMarch 28–April 1 , 2011 , Hyderabad , India260

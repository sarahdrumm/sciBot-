Modeling the Temporal Dynamics of Social Rating Networks using Bidirectional
Effects of Social Relations and Rating Patterns
Mohsen Jamali
School of Computing Science
Simon Fraser University
Vancouver , Canada mohsen jamali@cssfuca
Gholamreza Haffari
School of Computing Science
Simon Fraser University
Vancouver , Canada ghaffar1@cssfuca
Martin Ester
School of Computing Science
Simon Fraser University
Vancouver , Canada ester@cssfuca
Abstract—A social rating network is a social network in which edges represent social relationships and users ( nodes ) express ratings on some of the given items . Such networks play an increasingly important role in reviewing websites such as Epinionscom In this paper we first observe and analyze the temporal behavior of users in a social rating network on expressing ratings and creating social relations . Then , we model the temporal dynamics of a SRN based on our observations and using bidirectional effects of ratings and social relationships . While existing models for other types of social networks have captured some of the factors , our model is the first one to represent all four factors , ie social relations on ratings ( social influence ) , social relations on social relations ( transitivity ) , ratings on social relations ( selection ) , and ratings on ratings ( correlational influence ) . We also model the strength of each effect throughout the evolution of a SRN . Using our model , we develop a generative model for SRNs . Such a model can serve as basis for several purposes , in particular link prediction , rating prediction and prediction of future community structures . Given the sensitive nature of social network data , there are only very few public social rating network datasets . This motivates the development of generative models to create such synthetic datasets for research purposes . Our experimental study on the Epinions dataset demonstrates that the proposed model produces social rating networks that agree with real world data on a comprehensive set of evaluation criteria much better than existing models .
Keywords User Behavioral Modeling , Social Rating Net works , Generative Models
I . INTRODUCTION
Social networks have attracted much attention these days . Social networking services such as Facebook , Orkut , Flickr and LiveJournal , have millions of users . Users are allowed to interact with other people besides having a profile with some attributes . There have been many works to analyze the behavior of social networks and their growth patterns [ 1][2][3][4][5 ] . Most existing models consider the social networks only as a graph with nodes and edges . Recently , some researchers have investigated social networks which include attributes for nodes [ 6][7 ] . In this paper we investigate Social Rating Networks ( SRN ) . A Social Rating Network is a social network in which each user expresses ratings on some items besides creating social relations to other users . Users in a social rating network can perform two types of actions : creating a link to another user ( social action ) and creating a rating for an item ( rating action ) . In this paper , we analyze and model the behavior of users while performing different actions . We also take into account the timestamp to analyze the temporal dynamics of user behavior .
Many effects influence the behavior of users in the evolution of a social rating network . A fundamental property of social networks is that people tend to behave similarly to their friends . The process of social influence [ 8 ] in SRNs leads to people adopting the rating behavior of their friends . Also people may adopt the rating behavior from users having similar rating patterns . We call this correlational influence . While this effect is the implicit foundation of the successful collaborative filtering recommenders [ 9 ] , it has not yet been explicitly considered in social network models . The social behavior of users is also investigated . As discussed in [ 10 ] , people tend to form relationships with others who are already similar to them , so called selection[11][12 ] . However , we argue that social selection is not the only mechanism influencing the social relation creation process in SRNs . Implied by the well known trust transitivity [ 13][14][15 ] , people tend to create social relations to friends of their friends . We call this effect transitivity .
There are also some other effects that influence the behavior of users . For example users may create social relations to other users who live in the same location , or they may befriend their co workers . Users may rate items they face in their daily life independent of their friends . These effects are called environmental or external effects [ 16 ] . Since we do not have access to these kinds of information , we make a simplifying assumption about these kinds of behaviors : when creating a social relation , we assume that there is a chance that users create a link to a random existing user or to a new user . Similarly , there is a chance that users rate a random existing item or a new item .
According to our observations from real life data , the strength of each effect is not constant throughout the evolution of a SRN . For example , at the beginning when there are only few nodes in the system , the rate of new users joining the system is high . Also , the rate of creating a social relation to a new user decreases with the increase in the number of existing users in the system . When very few users have created social relations and the average number of social relations per user is very low , the strength of social influence and transitivity is low , but these effects become more important in a growing social network .
In this paper , based on our observations and analysis , we model the behavior of users and the temporal dynamics of different effects influencing the behavior of users . Using this model , we develop a generative model for social rating networks . Such a generative model can serve various purposes . First , there are very few SRN datasets publicly available . To the best of our knowledge , the Epinions data set1 is the only publicly available data set . This is mainly due to privacy concerns in social networks , especially when some attributes of nodes should also get published ( attributes are ratings in the case of SRNs ) . The lack of publicly available datasets is seriously restricting research on social network based recommendation . A generative model for social rating networks can be used to generate synthetic datasets with properties similar to those of real life datasets , which can be used for research purposes . Moreover , the study of the evolution of social rating networks and the growth patterns for social networks and rating profiles is an important application of a generative model , providing insights into models developed in the social sciences . The main contributions of this paper are as follows : • We analyze the temporal dynamics of SRNs and provide insights on bidirectional effects of social relations and rating patterns . In particular , we analyze the strength of each effect throughout the evolution of a SRN .
• We present a generative model for the evolution of SRNs , modeling different effects influencing the behavior of users . To the best of our knowledge , our model is the first one to comprehensively capture all the four effects between social relations and ratings : social onrating ( social influence ) , social on social ( transitivity ) , ratings on social ( selection ) , ratings on rating ( correlational influence ) .
• We perform an experimental study on the Epinions data set , showing that the proposed model can indeed produce realistic SRNs . To compare different generative models we introduce several formal evaluation metrics . • Our experimental study provides interesting insights into the factors that drive SRNs . For example , we find that transitivity is much more important than selection in the creation of social relations .
The rest of the paper is organized as follows . We present our observations and analysis of the temporal dynamics of SRNs in section II . Based on our observations and analysis ,
1http://wwwepinionscom we present a model for the behavior of users and the evolution of SRNs in section III . Related work is discussed in section IV . Evaluation metrics and experimental results are presented in section V . Section VI concludes the paper and presents some directions for future work .
II . ANALYZING THE TEMPORAL DYNAMICS OF SRNS
To observe the behavior of users in a SRN and to analyze the evolution of SRNs , we performed experimental studies on the Epinions dataset . In this dataset two types of actions are provided : users rating items with some rating values , and users creating social relations to other users . The timestamp for each action is also provided . The dataset consists of 108K ratings and 117K social relations expressed by 22K users . The number of items in this dataset is 30K . To the best of our knowledge , this dataset is the only publicly available dataset for SRNs with timestamps provided for every action . We represent the data set as a sequence of actions A . Each action can be either a rating action creating a rating or a social action creating a social relation . Every action a in A is also associated with a timestamp . We order the actions with respect to their timestamps and observe the behavior of users in chronological order .
For every action a , we observe and analyze the behavior of users as follows ( see figure 1 ) :
• Who is the user u performing the action ? One of the existing users or a new user joining the SRN and performing his first action .
• What type of action is being performed ? A rating action or a social action ?
• If it is a social action , who is the target user v to whom the social relation is being created ?
– If transitivity is playing role in this action , then v should be one of the friends of friends of u .
– Selection leads to select v among top similar users to u .
– If unknown external effects are influencing this action , then v could be any existing user .
– Finally , there is the possibility of v being a new user just joining the SRN .
• If it is a rating action , what item i is being rated and by what value ?
– If social influence is affecting the rating behavior of u in this action , then i should be one the the items rated by friends of u . The value of the rating should also be affected by ratings expressed by direct neighbors of u on i .
– If correlational influence is affecting the behavior of u , then i should be one of the items rated by top similar users to u . The rating of u on i should also be influenced by the ratings of similar users on i .
Figure 1 .
Illustration of different effects influencing the behavior of users in an action .
– If some unknown external effect is influencing the behavior of u in this action , then i could be any existing item .
Note that
– It could be also the case that i is a new item which has not been rated in the SRN before this action . the rating actions being affected by social influence , correlational influence and unknown external effects may overlap . Also the social actions influenced by transitivity , selection and unknown external effects may overlap . We compute the similarity among users using Pearson correlation [ 18 ] between their ratings . Similar to the idea used in [ 10 ] to construct a similarity network , the number of top similar users considered for each user u in rating actions is the same as the number of direct neighbors 2 . For social actions of user of u in the social network , Nu u , the number of similar users considered is the same as the number of users who are friends of friends of u .
First we analyze the role of new users and items in the evolution of SRNs . As shown in figure 1 , the probability that an action is performed by a new user is η . However this probability is not a fixed number . Figure 2(a ) presents our observation on the percentage of actions being performed by new users versus the total number of users existing in the SRN . As shown in this figure , η has a power law like distribution over |Nt| , where Nt is the current set of existing users in the SRN at time t . At the very beginning of SRN ’s evolution , when there exists only a few users , the probability of an action being performed by a new user is very high , and this probability decreases very fast with the increase in the number of existing users . As depicted in figure 2(a ) , a similar behavior exists for the percentage of social actions in which a social relation is created to a new user , denoted by Φt,4 . If the action is a rating action , the percentage of rating actions in which a new item is rated ( denoted by Φr,4 ) also exhibits a power law like distribution over the number of existing items , as shown in figure 2(b ) .
( a )
( b )
Figure 2 . a ) The distribution of η and Φt,4 versus the number of existing users . η is the percentage of actions that are performed by a new user . Φt,4 is the percentage of social actions that are created to a new user . b ) Evolution of the percentage of ratings in which a new item is rated ( Φr,4 ) . Next , we analyze the percentage of social actions throughout the evolution of SRN . Figure 3 shows the percentage of social actions ( φ ) versus the total number of actions ( |At| ) . As shown in this figure , this percentage obeys a sigmoidal shape . The interesting insight gained from this figure is that at the beginning of the evolution of the Epinions’ SRN , users tend to do more rating actions than creating social relations . With the evolution of the social rating network and having more actions performed by users , users start to create more social relations , and the percentage of social actions grows close to 50 % .
Figure 3 . Percentage of social actions versus all actions .
2Since there could be users with no direct neighbor but with some similar users , in our experiments , the number of similar users is set to be at least K=10 .
When a social relation is created by a user to some existing user , it could be either influenced by transitivity or selection , or by some unknown external effect . If unknown effects are playing a role , we assume that the social relation is being created to an arbitrary user . Our observations show that the percentage of social actions that are influenced by transitivity or selection increases almost linearly with growth of the number of social actions . We believe that in the course of time more social relations and more ratings are being expressed and hence users get more similar and also get to know friends of their friends . These events may lead to a stronger influence of similar users and direct neighbors on their behavior for creating social relations . Figure 4(a ) depicts the percentage of social relations created to existing users that are not affected by transitivity or selection for u|+|S∗ different values of |N∗ u is the set of friends of friends of u and S∗ u is the set of top similar users for u . As shown in this figure , the more users become available in N∗ u and S∗ u , the less likely it becomes that a social action can not be explained by the effect of transitivity or selection . Again , the diagram resembles a power law distribution . u| , where N∗
( a )
( b )
Figure 4 . a ) P(¬(transitivity ∨ selection) ) : Percentage of social actions that are not affected by transitivity or selection for different values of |N∗ u| + |S∗ u| . b ) P(¬(social ∨ correlational) ) : Percentage of rating actions that are not affected by social or correlational influence for different values of |INu| + |ISu| .
Similar behavior is observed for rating actions . The percentage of rating actions that are affected by social or correlational influence increases almost linearly with the growth of the number of rating actions . Figure 4(b ) depicts the percentage of rating actions rating an existing item that are not affected by social or correlational influence for different values of |INu| + |ISu| , where INu is the set of items rated by friends of u and ISu is the set of items rated by top similar users for u . Figures 4(a ) and 4(b ) show that the percentage of actions that can be explained only by unknown effects decreases in a power law like distribution . Furthermore we analyze the percentage of social actions in which a social relation is created to a friend of a friend versus the social actions in which the social relation is created to a top similar user . Surprisingly , this percentage remains fairly constant the evolution of the Epinions data set . Figure 5(a ) shows the percentage of social actions influenced by transitivity or selection that are solely influenced by transitivity ( denoted by φt,1 ) versus the total number of social actions . Note that social actions influenced throughout by transitivity may overlap the social actions influenced by selection . As shown in this figure , transitivity plays a more important role in creating social relations in Epinions than selection .
( a ) φt,1
( b ) φr,1
Figure 5 . a ) Relative strength of transitivity and selection . The diagram shows the percentage of social actions influenced by transitivity or selection that are solely influenced by transitivity ( denoted by φt,1 ) versus total number of social actions . b ) Relative strength of social influence and correlational influence . The diagram shows the percentage of rating actions affected by social or correlational influence that are solely influenced by social influence ( denoted by φr,1 ) versus total number of rating actions .
The next observation is the percentage of ratings being affected by social influence versus the actions affected by correlational influence . Figure 5(b ) depicts the percentage of rating actions affected by social or correlational influence that are solely influenced by social influence ( denoted by φr,1 ) versus total number of rating actions . Again , similar to the case for social actions , this percentage is fairly constant throughout the evolution of the Epinions SRN .
Our final observation is the distribution of rating values throughout the evolution of a SRN . Figure 6 depicts the evolution of the percentage of each rating value . Interestingly , we observe that the relative frequency of the rating values are fairly constant during the evolution of the SRN . The percentage of higher rating values are larger than those of low rating values , demonstrating that users in Epinions tend to be very generous in their ratings .
Figure 6 . Distribution of rating values throughout the evolution of social network . Possible rating values are integers in the range [ 1,5 ] .
III . MODELING THE TEMPORAL DYNAMICS OF SRNS In this section we exploit our observations and analysis to model the temporal dynamics of social rating networks . To do so , we represent different effects influencing the behavior of users in a probabilistic generative model .
A social rating network consists of a sequence of dated actions . The proposed model is illustrated in figure 1 . In the following , we explain the details of the proposed model for the generative process of performing an action .
In our model , first the user to perform the action is selected . With probability η this user is a new user . With probability 1 − η one of the existing users performs the action . η is not a fixed value . Inspired by our observation in figure 2(a ) , we assume a power law function for η over the number of existing users as follows :
η = power(|Nt| ) = a1 × ( |Nt| − b1)c1
( 1 ) where Nt is the current number of existing users . Now we introduce P ( u|St ) , the probability of user u performing the action . St denotes the current state of the SRN which summarizes the effects of all actions performed up to now . If the model decides that the next action is to be performed by a new user , then ” selecting ” a user u is deterministic : the model simply generates a new user u to perform the action . If it is decided that the next action is to be performed by an existing user , then the probability of a particular user u performing the action is proportional to the number of actions already performed by u taking into account a smoothing parameter 0 . This is similar to the rich get richer idea which is also the base of preferential attachment [ 2][19 ] . Next , the type of the action being performed is decided : social action or rating action . Based on the observation depicted in figure 3 , the probability of creating a social relation increases with the growth in the number of actions performed in the SRN ( |At| ) in a hill shaped sigmoidal function . We model this probability as follows :
φ = sigmoid(|At| ) = a2|At|b2 |At|b2 + c2
( 2 )
If the action is a social action , then there are four alternatives on how to create the social relation : creating a social relation to a new user , to a friend of a friend ( transitivity ) , to a similar user ( selection ) , or to a random existing user ( unknown effect ) . With probability Φt,4 the action will create a social relation to a new user . According to our observations shown in figure 2(a ) , Φt,4 decreases with the increase of the number of existing users by a power function . So , we model this probability as follows :
Φt,4 = power(|Nt| ) = a3 × ( |Nt| − b3)c3
( 3 ) With probability Φt,3 = ( 1− Φt,4)φt,3 , the action creates a social relation to some random existing user influenced by unknown external effects . These are the social actions that can not be explained by transitivity or selection . To model φt,3 we exploit the observation shown in figure 4(a ) and assign social actions that can not be explained by transitivity or selection to unknown external effects as follows :
φt,3 = power(|N u| + |S ∗ u| ) = a4 × ( |N ∗ u| + |S ∗ u| − b4)c4 ∗
( 4 ) u is the set of friends of friends of u and S∗ u| is the same as |N∗ where N∗ u is the set of top similar users to u . Note that as mentioned before , u| . If u is defined in a way such that |S∗ S∗ we decide to create a social relation to an arbitrary existing user , we do so by assigning higher probabilities to users to whom more social relations have been created already . This is the same as in preferential attachment models [ 2 ] .
Pe(v|u,St ) = din(v ) + 3 w(din(w ) + 3 )
( 5 )
In the above equation , din(v ) is the in degree of user v in the social network and 3 is a smoothing parameter . Pe(v|u,St ) is the probability that u creates the social relation to v who is among existing users . With probability ( 1 − Φt,4)(1 − φt,3 ) , the action creates a social relation to either a friend of a friend or a top similar user . Based on our observations in figure 5(a ) , φt,1 is constant throughout the evolution of the social rating network and can be learnt as model parameters . Hence , in our model a social action creates a social relation to a friend of a friend with probability Φt,1 = ( 1 − φt,4)(1 − φt,3)φt,1 and to a top similar user with probability Φt,2 = ( 1 − φt,4)(1 − φt,3)(1 − φt,1 ) .
If the social action is creating a social relation to a friend of a friend , then the probability of a friend of friend v being selected is proportional to the frequency of appearance of v in the set of friends of friends of u :
Pt(v|u,St ) = u w∈N∗
( ft(w|u ) + 1 )
( 6 ) where Pt(v|u,St ) is the probability of creating a social relation from u to a friend of friend v when deciding to create the social relation to a friend of friend . ft(v|u ) is the frequency of appearances of v in the set of friends of friends of u and 1 is a smoothing parameter to be learnt .
Similarly , the probability of creating a social relation to ft(v|u ) + 1 a top similar user v is modeled as follows : simu,v + 2
Ps(v|u,St ) = w∈Su
( simu,w + 2 )
( 7 ) where 2 is the smoothing parameter to be learnt for our model . Ps(v|u,St ) is the probability that u creates a social relation to v who is among his top similar users .
Next , we model rating actions . There are four alternative ways to rate an item : rating a new item , rating an item rated by friends ( social influence ) , rating an item rated by similar users ( correlational influence ) , and rating a random existing item ( unknown effect ) . With probability Φr,4 a new item is rated by action performer u . As we observed in figure 2(b ) , this probability exhibits power law behavior . So , we model it as follows :
Φr,4 = power(|It| ) = a5 × ( |It| − b5)c5
( 8 ) where It is the current set of existing items . To select the rating value fir this rating action , we apply the observation in figure 6 and model the probability of each rating value r by µr , where µr is a model parameter indicating the prior probability of rating value r . With probability Φr,3 = ( 1 − Φr,4)φr,3 , user u rates an arbitrary existing item influenced by unknown external effects . These are the rating actions that can not be explained by social or correlational influence . Similar to our model for social relations , we exploit the observation shown in figure 4(b ) to model φr,3 and assign all rating actions that can not be explained by social or correlational influence to unknown external effects as follows : φr,3 = power(|INu|+|ISu| ) = a6×(|INu|+|ISu|−b6)c6 ( 9 ) where INu is the set of items rated by direct neighbors of u and ISu is the set of items rated by top similar users of u . In this case , the probability of selecting an existing item i , Pe(i|u,St ) , is modeled to be proportional to the number of ratings already expressed for i :
Pe(i|u,St ) =
( 10 ) where Ii is the set of users who have rated i . The next step is to decide the rating value for this action . For each rating value r , we combine the prior probability µr with the percentage of existing ratings for item i with value r :
|Ii| + 8 j ( |Ij| + 8 )
Pe(r|i,St ) ∝ fi(r ) + 9 r ( fi(r ) + 9 )
+ µr
( 11 ) ft(i|u ) + 4 where fi(r ) is the frequency of rating value r for item i and 9 is the smoothing parameter . Pe(r|i,St ) is the probability of assigning rating value r to i if i is a random existing user . With probability Φr,1 = ( 1 − Φr,4)(1 − φr,3)φr,1 , the rating action selects the item from one of the items rated by direct neighbors of u . Based on our observations in figure 5(b ) , φr,1 remains fairly constant throughout the evolution of the SRN , and can be learnt as a model parameter . If an item already rated by direct neighbors is being rated , then the probability of item i being rated is as follows :
Pt(i|u,St ) = j∈INu
( ft(j|u ) + 4 )
( 12 ) where ft(i|u ) is the frequency of item i appearing in the set of items rated by direct neighbors of u . To compute the probability of rating the item by value r ( denoted by Pt(r|u , i,St) ) , we use the prior knowledge of general probability of rating i by value r combined with the distribution of rating values on i among direct neighbors u as follows : ft(r|i , u ) + 5 r ( ft(r|i , u ) + 5 )
+ Pe(r|i,St )
Pt(r|u , i,St ) ∝ ( 13 ) In the above equation , Pe(r|i,St ) is the prior probability of rating item i by value r as defined in equation 11 . ft(r|i , u ) is the frequency of rating value r for item i among ratings expressed by friends of u for item i . With probability Φr,1 = ( 1 − Φr,4)(1 − φr,3)(1 − φr,1 ) , the rating action selects the item from one of the items rated by top similar users to u . The process for rating an item in this case is similar to the process of rating an item rated by direct neighbors of u in the social network . Ps(i|u,St ) and Ps(r|u , i,St ) are defined in a way similar to the definition of Pt(i|u,St ) and Pt(r|u , i,St ) . A . Learning the model parameters
In this section , we present our approach to learn the parameters of our model . As discussed above , parameters of our model include 10 smoothing parameters ( 0 9 ) , 18 parameters for power functions ( a1 , b1 , c1a6 , b6 , c6 ) , and φt,1,φr,1 . We denote the set of all parameters by Θ . law and sigmoidal
We compute the likelihood of the ratings and social relations observed in the data set under our model , and resort to maximum likelihood ( ML ) estimation to learn the values of the model parameters . We consider the network generation from the very beginning , and maximize the likelihood of the observed sequence of social and rating actions . From the start time to the end time T , we observe K actions which transform the SRN from the state S0 to the state ST . St denotes the state of the SRN at time t which summarizes the effects of all actions performed up to this time . Let A denote the sequence of all actions performed between times 0 and T , in which the actions are sorted according to their timestamps . We denote each action in A by ak and its timestamp by tk , where k ∈ [ 1K ] Based on the chain rule , the likelihood of the model is the product of the probabilities of each individual action in A given the previous actions :
P ( A|S0 , Θ ) =
P ( ak|Stk , Θ )
( 14 )
K k=1
For the two types of actions ( social actions , rating actions ) , we compute the likelihood of the action in a different way . The probability of selecting a user u , and performing a social action Tu,v to create a social relation between user u and user v is :
P ( Tu,v|St , Θ ) = P ( u|St ) × φ ×
Φt,4gn(v|St)+
+ ( 1 − Φt,4)(1 − φt,3)φt,2Ps(v|u,St )
( 1 − Φt,4)φt,3Pe(v|u,St ) + ( 1 − Φt,4)(1 − φt,3)φt,1Pt(v|u,St ) ( 15 ) where gn(v|St ) is an indicator of whether v is a new user . Likewise , the likelihood of an action Ru,i,r in which the user u gives the rating r for item i is :
P ( Ru,i,r|St , Θ ) = P ( u|St ) × ( 1 − φ)× Φr,4gn(i|St)µr + ( 1 − Φr,4)φr,3Pe(i|u,St)Pe(r|i , u,St )
+ ( 1 − Φr,4)(1 − φr,3)φr,1Pt(i|u,St)Pt(r|i , u,St ) + ( 1 − Φr,4)(1 − φr,3)φr,2Ps(i|u,St)Ps(r|i , u,St )
( 16 ) where gn(i|St ) is an indicator of whether i is a new item . We use expectation maximization ( EM ) to estimate the maximum likelihood model parameters .
IV . RELATED WORK
There has been a lot of research on modeling the evolution of social networks [ 1][3][4 ] [ 20][5][21 ] [ 22][23 ] . However , these works only model the creation of social relations and do not consider attributes for nodes . In the following , we review some recent works which address the problem of modeling the evolution of social networks together with node attributes .
[ 10 ] introduces a evolution model for social networks with user activities . In the Wikipedia dataset used in their experiments , activities are the editing of a certain Wikipedia article , and network edges represent interaction , ie participation in the discussions on another users ’s profile . The generative model of [ 10 ] considers only two factors : social influence and selection .
The co evolution of social and affiliation networks has been explored by [ 6 ] . In this scenario , nodes are associated with group labels . The proposed model creates edges and group labels . For each user , groups to join are selected from those of his friends ( social influence ) , and new friends are selected from his friends of friends ( transitivity ) . However , the effects of selection and correlational influence are not modeled .
Like our work , [ 7 ] investigates social networks with user ratings . Similar to our work the bidirectional effects between trust and ratings are explored , but only selection and correlational influence are considered . The effect of social relations on the behavior of users is not discussed in this paper .
Evaluating generative models and the fit of synthetic networks with actual social networks is an important issue in designing models for the evolution of social networks . In the following we review two recent works which investigate evaluation metrics for generative models .
[ 16 ] addresses the problem of distinguishing social influence ( causation ) from correlation . A shuffle test is proposed based on the intuition that if social influence is not a likely source of correlation in a system , timing of actions should not matter , and therefore reshuffling the time stamps of the actions should not significantly change the amount of correlation . They also define a metric for measuring social correlation . If the social correlation measure does not change after shuffling , then social influence is ruled out as a cause of social correlation .
The authors of [ 24 ] present a systematic examination of a real network dataset using maximum likelihood estimation for exponential random graph models as well as new procedures to evaluate how well the models fit the observed networks . These procedures compare structural statistics of the observed network with the corresponding statistics on networks simulated from the learnt model[24 ] . All metrics in this paper measure some structural property of social networks . Attributes of nodes are not considered .
The microscopic evolution of social networks is investigated in [ 5 ] . The authors argue that using the likelihood is a more objective measure for comparing alternative generative models than using some of the many potential relevant network statistics . Only simple social networks without attributes and only the influence of transitivity are considered . The timing of the creation of nodes and edges is also modeled , which is beyond the scope of our work .
V . EXPERIMENTS
In this section we present our experiments and discuss the results . To evaluate the performance of our model , we build a generative model for the Epinions data set , learning the parameters using maximum likelihood and expectation maximization .
The Epinions data set is , to the best of our knowledge , the only publicly available data set for SRNs with dates available for all actions . As discussed before , this is mainly due to privacy issues which makes people and companies reluctant to publish social networks with rating information for users . We used the version of the Epinions data set3 published by the authors of [ 25 ] . The data set contains 22K users , 30K items , 108K ratings , and 117K social relations between users . The timestamps in the data set range from 2001/01/17 to 2002/02/01 .
In our experiments , we compare the model proposed in section IV , called the FullModel , against the following models which capture only some of the effects :
• CrossModel . This model considers only the effect of ratings on social relations ( selection ) , and the effect of social relations on ratings ( social influence ) . This model is similar to [ 10 ] , and is derived by removing the parameters Φr,2 and Φt,1 from the FullModel ( or setting these parameters to zero in the FullModel ) .
• SocialOnly . It ignores the effects of similarities , ie it just models the effects of social influence and transitivity . This model is derived by removing parameters Φr,2 and Φt,2 , from the FullModel . This setting simulates the model proposed by [ 6 ] in our framework .
• SimilarityOnly . It ignores the effects of social relations and just models selection and correlational influence . This model is derived by removing the parameters Φr,1 , Φt,1 from the FullModel . Results of this model show whether considering only effects of similarity and correlation of rating patterns can capture the behavior of real data .
• Baseline . In this setting , we ignore all four bidirectional effects of social relations and rating patterns . This model is derived by removing the parameters Φr,1 , Φt,1 , Φr,2 and Φt,2 from the FullModel and is designed to investigate the power of randomness in
3http://alchemycswashingtonedu/data/epinions/
SRN generation . This model is close to the preferential attachment model[2 ] .
A . Experimental Results
In this section , we present our experimental results with respect to different evaluation metrics . It should be noted that we generate 10 SRNs using each model and take the average of each evaluation metric over these 10 generated SRNs . Each generated SRN consists of the same number of actions as the real data .
After learning the parameters , some interesting insights can be gained on the behavior of users in Epinions’ SRN . The estimated value of φt,1 is 0.91 which means that the effect of transitivity is much more important than selection . In other words , ignoring the effect of friends of friends on the creation of social relations ( as done in [ 10 ] ) is not realistic . For rating actions , we have φr,1 = 0.59 which shows that the strength of social influence is close to the strength of correlational influence with social influence being a little stronger in Epinions . In the following subsections we evaluate comparison partners against several evaluation metrics .
1 ) Comparing the likelihoods : As discussed in [ 5 ] , using the likelihood is an objective measure for comparing alternative models . Table I lists the log likelihood of the Epinions data set for all of the comparison partners . The FullModel achieves the clearly highest log likelihood , while the Baseline model , that ignores all four bidirectional effects , achieves the lowest likelihood .
COMPARISON OF THE LOG LIKELIHOOD OF THE EPINIONS DATA SET
Table I
USING ALTERNATIVE MODELS . Log Likelihood
Model
FullModel CrossModel SocialOnly SimilarOnly
Baseline
2.914E6 2.994E6 2.977E6 3.031E6 3.122E6
2 ) Evaluation of structural properties : As proposed in [ 24 ] , we evaluate a generative model for social rating networks based on some structural properties of the generated graph . We compare the following measures of the generated SRN with those of the real SRN dataset .
• Link Degree Distribution : The distribution of the out degree of nodes .
• User Rating Degree Distribution : The rating degree of a user is the number of items rated by him .
• Item Rating Degree distribution : The rating degree of an item is the number of users who have rated the item . Our experiments show that all the above distributions follow a power law . For each model , we compute the scaling exponent4 of each distribution and compare it to the corresponding scaling exponent in the real dataset . For link
4http://enwikipediaorg/wiki/Power law degree distribution , the scaling exponent is 2.132 for real data and 2.164 for the FullModel . The scaling exponent of user rating distribution is 1.901 for real data and 1.904 for the FullModel . Finally , the scaling exponent of item rating distribution is 2.76 for real data and 2.68 for the FullModel . Note that the scaling exponents for all models are very close . We believe this is mainly due to the fact that all models exploit the idea of ” rich get richer ” . Thus all the comparison partners are generating SRNs close to the real data in terms ofdegree distributions .
Another metric we use is the effective diameter [ 2 ] of the social network . All comparison partners generate social networks with effective diameter of 6 which is the same as the effective diameter of the real data set .
To conclude , evaluation on general structural properties showed that all models generate SRNs that are generally similar to the real data set .
3 ) Evaluation of social influence : We use an influence model proposed in [ 16 ] to compare the degree of influence in SRNs generated by the various models and the real data set .
At each timestamp t , each user u is exposed to some items . A user u is k exposed to an item i at time t if that individual has not rated item i and has exactly k ≥ 1 direct neighbors who have rated i by time t and the latest rating of i among the direct neighbors of u is in the interval [ t−δ0,t ] . Each item i is exposed to u at timestamp t by au,i,t users . The probability P ( u , i , t ) of user u rating item i in a time window of size δ after t is modeled as follows :
P ( u , i , t ) = eα ln ( au,i,t+1)+β
1 + eα ln ( au,i,t+1)+β
( 17 )
Let Au,t denote the set of items user u has not yet rated but is exposed to at time t . Then we can compute the likelihood of the given data D as follows :
P ( D ) =
P ( u , i , t)Yu,i,t ( 1 − P ( u , i , t))1−Yu,i,t
( 18 ) t u i∈Au,t where Yu,i,t is a boolean random variable with a value 1 if user u rates item i in the time window [ t,t+δ]5 .
By maximizing the above likelihood we estimate the values of α and β . As discussed in [ 16 ] , the coefficient α is considered as the measure of influence by the neighbors for selecting an item to rate : ln(
P ( u , i , t )
1 − P ( u , i , t )
) = α ln ( au,i,t ) + β
We call this influence coefficient the item adoption influence since only the event of rating an item ( but not the value of the rating ) is taken into account . We can also model the probability P ( u , i , t ) of user u rating item i within distance 0.5 of the average of ratings of his neighbors on i . We call this influence coefficient the rating adoption influence . The
5For the sake of efficiency , we consider only 12 timestamps in our experiment to compute the exposures in Epinions ( 2001/02/17 , 2001/03/17 , 2002/01/17 ) . δ and δ0 are set to 30 days in our experiments . social influence measures for different models and the real data set are presented in table II . As shown in this table , FullModel has the social influence measures that are closest among all comparison partners to those of the real data set . Surprisingly , the SimilarityOnly model that uses only the effect of similar users comes fairly close to the real data set in terms of social influence coefficients . All other models exhibit social influence coefficients that are much smaller than in the real data set . These results show that correlational influence play a very important role in rating behavior of users and neglecting it is not realistic .
Table II
INFLUENCE COEFFICIENTS FOR ITEM AND RATING ADOPTION IN THE SOCIAL RATING NETWORK GENERATED BY DIFFERENT MODELS AND
Model
Real Data FullModel CrossModel SocialOnly
SimilarityOnly
Baseline
THE REAL DATA SET . item adoption influence 2.1436 2.186 1.170 0.966 1.951 0.687 adoption rating influence 2.195 2.252 1.314 1.079 2.008 0.820
4 ) Measuring the effect of social relations on the growth of similarity of rating patterns : When user u creates a social relation to user v , then according to social influence , u will consider ratings of v in his future actions . Thus , the similarity of ratings of users u and v should grow after creation of the social relation . The more actions they do , the more similar they are supposed to get . The difference between the similarity of u and v at the end of the evolution of the SRN and at the moment of creating the social relation is called the similarity growth for users u and v . In our SRN , users may perform different numbers of actions after creating a social relation . We group pairs of users ( u , v ) based on the number of rating actions u performs after creating the social relation to v . Figure 7 shows the similarity
Figure 7 . Comparison of Similarity Growth after creation of social relation for different models . growth versus the number of actions for the different models . The FullModel follows the pattern of similarity growth in the real data more closely than other models . There are some interesting and surprising results in Figure 7 . The
SimilarOnly and CrossModel tend to have higher growth of similarity compared to the real data , while SocialOnly tends to have a lower growth of similarity compared to both real data and FullModel . SimilarOnly and CrossModel use selection for link creation , but SocialOnly uses the transitivity for link creation . In a way , the results show that users who are already similar before creating a social relation , tend to get more similar compared to users who are not that similar when creating the social relation . FullModel is a tradeoff between these two cases and our experiments show that it behaves much more similar to the real data .
5 ) Measuring the transitivity influence : Transitivity of social relations is an important property which affects the creation of social relations between users . The distribution of the shortest distance between users u and v , at the moment when u creates a social relation to v , can measure the transitivity effect . If the probability of short distances ( ie 2 ) is high , then the transitivity has been an influential factor in trust creation . We compute the average shortest distance of pairs of users at the moment of creating a social relation between these two users . Table III compares the average
AVERAGE SHORTEST DISTANCE OF USER PAIR AT THE MOMENT OF
CREATING SOCIAL RELATIONS ( dmin ) IN DIFFERENT MODELS AND THE
Table III
REAL DATA SET . Model
Real Data FullModel CrossModel SocialOnly SimilarOnly
Baseline dmin 3.93 4.05 5.59 3.24 5.59 5.21 shortest distance of user pairs at the moment of creating social relations ( dmin ) in different models and the real data set . Note that pairs of users who are not reachable at the time of the creation of a social relation are considered to have distance 7 . As shown in this table , the average shortest distance for FullModel is the closest one to that of the real data set . SocialOnly achieves lower average distance since it only relies on neighbors and does not consider the selection effect . CrossModel , SimilarityOnly , and Baseline have a higher average shortest distance , likely because they are ignoring transitivity which according to our experiments is a very important factor in the creation of social relations . 6 ) Measuring the effect of selection : To evaluate the effect of selection , we compute the average similarity of users when creating a social relation . Table IV presents the average similarity of user pairs at the moment of creating social relations for different models and for the real data . In this table , we only consider the pairs of users for which we can compute the similarity . Table IV also shows the percentage of user pairs for which we can compute the similarity in each comparison partner . Again , FullModel is clearly the closest to the real data set . CrossModel and SimilarOnly have higher average similarity since they only rely on similar users for creating social relations and ignore the transitivity effect . The SocialOnly model , however , also has an average similarity close to that of the real data set . This seems to be due to the fact that strength of selection in Epinions is very low compared to transitivity . The FullModel is also closest to the real data set in terms of the percentage of user pairs creating social relation for which we can compute the similarity .
AVERAGE SIMILARITY OF USER PAIRS AT THE MOMENT OF CREATING SOCIAL RELATIONS IN DIFFERENT MODELS AND THE REAL DATA SET .
Table IV
Model
Real Data FullModel CrossModel SocialOnly SimilarOnly
Baseline
Average Similarity 0.381 0.375 0.524 0.365 0.558 0.253
% of non zero similarity pairs 3.07 3.21 11.78 2.01 12.03 2.40 VI . CONCLUSION
Social rating networks ( SRN ) are becoming more and more important in reviewing websites such as Epinionscom In this paper we analyze and model the temporal behavior of users in a SRN using bidirectional effects of rating patterns and social relationships . Our model is based on our observations of the behavior of user while expressing ratings or creating social relations . While existing models for other types of social networks have captured some of the factors , our model is the first one to represent all four factors , ie social relations on ratings ( social influence ) , social relationson social relations ( transitivity ) , ratings on social relations ( selection ) , and ratings on ratings ( correlational influence ) . We also model the varying strength of each effect throughout the evolution of a SRN .
Given the sensitive nature of social network data , there are only very few public social rating network datasets . This motivates the development of a model to capture the temporal dynamics of users’ behaviors and to create such synthetic datasets for research purposes . To evaluate the accuracy of our model , we compared the synthetic SRN generated by our model with the real data and with SRN generated by other models that have been proposed in the literature .
Our experimental study on the Epinions dataset demonstrated that the proposed model produces social rating networks that agree with real world data on a comprehensive set of evaluation criteria much better than existing models . These criteria included the relevant degree distributions and measures of the four major influence factors that we identified for social rating networks . In addition , our experimental study provided interesting insights into the factors driving the evolution of SRNs . In particular , we found that transitivity plays a much bigger role in the creation of trust links than selection , although the most closely related generative model [ 10 ] does not even consider transitivity .
We would like to mention a few directions for future research . In our experiments , we have used the Epinions dataset , which is , to the best of our knowledge , currently the only publicly available SRN dataset . In order to ensure the generality of our experimental results , we are seeking to find new data sets to repeat our experiments . As most existing generative graph models , we adopt a discrete time concept . However , a continuous time concept and a corresponding model of the inter action times , similar to that proposed in [ 5 ] and [ 6 ] , may further improve the faithfulness of the generated data . Finally , the use for inference purposes , eg for link prediction , is one of the motivating applications of generative models and should be explored .
REFERENCES
[ 1 ] P . Holme and M . Newman , “ Nonequilibrium phase transition in the coevolution of networks and opinions , ” Physical Review , vol.74 , 2006 .
[ 2 ] M . Newman , A L Barabasi , and D . J . Watts , The Structure and
Dynamics of Networks . Princeton Univ . Press , 2006 .
[ 3 ] G . Kossinets and D . Watts , “ Empirical analysis of an evolving social network , ” Science , vol . 311 , 2006 .
[ 4 ] R . Kumar , J . Novak , and A . Tomkins , “ Structure and evolution of online social networks , ” in KDD 2006 .
[ 5 ] J . Leskovec , L . Backstrom , R . Kumar , and A . Tomkins , “ Microscopic evolution of social networks , ” in KDD 2008 .
[ 6 ] E . Zheleva , H . Sharara , and L . Getoor , “ Co evolution of social and affiliation networks , ” in KDD 2009 .
[ 7 ] Y . Matsuo and H . Yamamoto , “ Community gravity : measuring bidirectional effects by trust and rating on online social networks , ” in WWW 2009 .
[ 8 ] N . E . Friedkin , A Structural Theory of Social Influence . Cambridge
University Press , 1998 .
[ 9 ] D . Goldberg , D . Nichols , B . M . Oki , and D . Terry , “ Using collaborative filtering to weave an information tapestry , ” Communications of the ACM , vol . 35 , no . 12 , 1992 .
[ 10 ] D . Crandall , D . Cosley , D . Huttenlocher , J . Kleinberg , and S . Suri , “ Feedback effects between similarity and social influence in online communities , ” in KDD 2008 .
[ 11 ] P . Lazarsfeld and R . Merton , “ Friendship as a social process : A substantive and methodological analysis , ” in Freedom and Control in Modern Society , minus 0.4emVan Nostrand , 1954 , pp . 18 66 .
[ 12 ] M . Mcpherson , L . S . Lovin , and J . M . Cook , “ Birds of a feather : Homophily in social networks , ” Annual Review of Sociology , vol.27 , no.1 , 2001 .
[ 13 ] P . Holland and S . Leinhardt , “ Some evidence on the transitivity of positive interpersonal sentiment , ” American Journal of Sociology , pp . 1205–1209 , 1972 .
[ 14 ] A . Rapoport , “ Mathematical models of social interaction , ” in Hand book of Mathematical Psychology , New York : Wiley , 1963 , vol2
[ 15 ] C N Ziegler and G . Lausen , “ Propagation models for trust and distrust in social networks , ” Information Systems Frontiers , vol . 7 , no . 4 5 , pp . 337–358 , 2005 .
[ 16 ] A . Anagnostopoulos , R . Kumar , and M . Mahdian , “ Influence and correlation in social networks , ” in KDD 2008 .
[ 17 ] D . Liben Nowell and J . Kleinberg , “ The link prediction problem for social networks , ” in CIKM ’03 , New York , NY , USA , 2003 .
[ 18 ] P . Resnick , N . Iacovou , M . Suchak , P . Bergstrom , and J . Riedl , “ Grouplens : an open architecture for collaborative filtering of netnews , ” in CSCW ’94 : ACM conference on Computer supported cooperative work , 1994 .
[ 19 ] M . Newman , “ Power laws , pareto distributions and zipfs law , ” Con temporary Physics , vol . 46 , no . 5 , pp . 323–351 , 2005 .
[ 20 ] D . Chakrabarti and C . Faloutsos , “ Graph mining : Laws , generators , and algorithms , ” ACM Computing Surveys , vol . 38 , no . 1 , 2006 .
[ 21 ] M . McGlohon , L . Akoglu , and C . Faloutsos , “ Weighted graphs and disconnected components : patterns and a generator , ” in KDD 2008 .
[ 22 ] A . Mislove , M . Marcon , K . P . Gummadi , P . Druschel , and B . Bhattacharjee , “ Measurement and analysis of online social networks , ” in IMC ’07 : Proceedings of the 7th ACM SIGCOMM conference on Internet measurement , 2007 .
[ 23 ] A . Bonato and W . Laurier , “ A survey of models of the web graph , ” in In : Proceedings of Combinatorial and Algorithmic Aspects of Networking . Springer , 2004 .
[ 24 ] D . R . Hunter , S . M . Goodreau , and M . S . Handcock , “ Goodness of fit of social network models , ” Journal of the American Statistical Association , vol . 103 , no . 481 , 2008 .
[ 25 ] M . Richardson and P . Domingos , “ Mining knowledge sharing sites for viral marketing , ” in KDD 2002 .

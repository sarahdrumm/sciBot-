Expressive Auctions for Externalities in Online
Advertising∗
Arpita Ghosh Yahoo! Research
Santa Clara , CA , USA arpita@yahoo inc.com
ABSTRACT When online ads are shown together , they compete for user attention and conversions , imposing negative externalities on each other . While the competition for user attention in sponsored search can be captured via models of clickthrough rates , the post click competition for conversions cannot : since the value per click of an advertiser is proportional to the conversion probability conditional on a click , which depends on the other ads displayed , the private value of an advertiser is no longer one dimensional , and the GSP mechanism is not adequately expressive . We study the design of expressive GSP like mechanisms for the simplest form that an advertiser ’s private value can have in the presence of such externalities— an advertiser ’s value depends on exclusivity , ie , whether her ad is shown exclusively , or along with other ads .
Our auctions take as input two dimensional ( per click ) bids for exclusive and nonexclusive display , and have two types of outcomes : either a single ad is displayed exclusively , or multiple ads are simultaneously shown . We design two expressive auctions that are both extensions of GSP— the first auction , GSP2D , is designed with the property that the allocation and pricing are identical to GSP when multiple ads are shown ; the second auction , N P2D , is designed to be a next price auction . We show that both auctions have high efficiency and revenue in all reasonable equilibria ; further , the N P2D auction is guaranteed to always have an equilibrium with revenue at least as much as the current GSP mechanism . However , we find that unlike with one dimensional valuations , the GSP like auctions for these richer valuations do not always preserve efficiency and revenue with respect to the VCG mechanism .
1 .
INTRODUCTION shown alongside
Online advertisements each other compete—first , for the user ’s attention , and then for a conversion . The effectiveness of an ad , therefore , depends not only on targeting it accurately to a relevant user , but also on the set of other advertisements that are displayed along with it : when an ad for a product is shown along with other high quality competing ads , the chance that a user will purchase from the first advertiser is diminished . Online ads
∗Part of this work was done while Amin Sayedi was visiting
Yahoo! Research .
Copyright is held by the author/owner(s ) . WWW2010 , April 26 30 , 2010 , Raleigh , North Carolina . .
Amin Sayedi
Carnegie Mellon University
Pittsburgh , PA , USA ssayedir@cmu.edu that are shown together thus impose negative externalities on each other .
This externality effect comes from two factors . First , the presence of other advertisements decreases the amount of attention an ad gets from a user : the user may not notice or click on an ad because of other competing ads . Second , even if a user notices or clicks on an ad , he may not convert on it , but instead convert on a competing advertisement . Indeed , a user looking to purchase a product would arguably click on multiple ads before deciding which one to convert on . Such ads , which have already successfully competed for attention , now compete with each other for a conversion from the user . This externality effect from post click competition for conversions cannot be captured by models of clickthrough rates , which only model the effect of other ads on user attention ; rather , as we argue below , they affect advertisers’ private values per click . In this paper , we will focus on the effect of externalities on conversions , and the design of adequately expressive auctions for such externalities .
In sponsored search auctions , where advertisers bid per click but ultimately derive value from conversions , the presence of externalities affects the private value . An advertiser ’s value per click is the product of her value per conversion times the probability of a conversion conditional on a click , ie , vclick = vconv · P r(conv|click ) . If P r(conv|click ) depends on whether or not other ads are simultaneously displayed , the advertiser ’s ( private ) value per click will be different as well — that is , the private per click value is no longer one dimensional . In such a situation , a mechanism such as the existing GSP mechanism1 , which solicits only a one dimensional bid and always displays a full slate of ads , can be arbitrarily inefficient2 . To achieve efficiency , the outcomes and bidding languages offered by the auction mechanism must be adequately expressive .
The most general form of an advertiser ’s valuation in an auction with n bidders and externalities is a function v : 2n → R , which is exponential in the number of bidders . Allowing very general valuations , even with restrictions on the model to ensure reasonably sized reports , has two problems . First , reporting high dimensional valuations imposes a heavy cognitive burden on advertisers ( particularly the less sophisticated ones ) , who may not be able to determine their
1(with either separable or cascade model based CTRs ) 2Suppose each advertiser has value 1 if only her ad is shown , and if any other ads are shown along with . Since GSP does not have an outcome which displays a single ad , advertisers simply bid according to their value of , resulting in an efficiency of most n compared to the optimal efficiency of 1 ( display a single ad ) . values for a wide range of outcomes [ 17 , 19 ] , making such a bidding language highly impractical . Second , in general , set based valuations can lead to computational hardness and inapproximability in the winner determination problem , by reduction from independent set3 .
We will adopt a very simple valuation model for externalities , based on exclusivity : an advertiser ’s value depends on whether or not other ads are shown along with her ad , ie , whether she is shown exclusively or not . Such a valuation model is very reasonable in the context of online advertising : first , only one additional bid is solicited from advertisers , in addition to the bid they already place in the existing GSP auction . Second , given that bidding languages that involve competitor identities can lead to computational hardness , a natural , expressive bidding language is one that specifies a value for each possible number of other ads displayed alongwith —ie , if k is the number of slots , this valuation would be represented by a ( decreasing ) k dimensional vector . Our two dimensional valuation is a simple approximation , especially from an advertiser ’s point of view , for such a vector . Also , the two dimensional language based on exclusivity can arguably better represent4 valuations where the identity of competitors actually influences value , such as for keywords where some competing ads cause much greater decrease in value than others .
We will be interested in designing expressive GSP like mechanisms for this setting with two dimensional private values ( ie , with and without exclusivity ) . By GSP like auctions , we mean auctions that are extensions , in ways we will make precise , of the generalized second price auction ( GSP ) currently used to sell sponsored search ads . Such auctions have two major advantages over auctions that deviate significantly from GSP ( such as the VCG auction ) : first , advertisers face a smooth transition between the existing and new system , and do not find themselves faced with an unfamiliar and complex auction ; second , they are also are easier to build and integrate with the existing system . Auctions which are extensions of GSP are therefore far more likely to actually be deployed in practice . Other research on designing auctions for sponsored search with more complex valuations has focused on extending the GSP auction as well ( [2 , 16] ) , reflecting the practicality of designing such GSP like auctions .
Results and Organization . We design two expressive auctions that are both extensions of the GSP auction , and analyze their equilibria for revenue and efficiency . Both auctions take as input two dimensional ( per click ) bids ( b , b ) for exclusive and nonexclusive display , and have two types of
3Each node corresponds to an advertiser who derives value 0 , if any of her neighbors are included in the set of winners , and 1 otherwise . Choosing the optimal set of advertisers to display corresponds exactly to finding the largest independent set in the graph . 4It is likely that when advertiser is displayed along with a full slate of other ads , the competitors that cause the greatest decrease in value to her are included as well , causing the maximum decrease in value ; in contrast , when only one other ad is displayed along with , the value obtained would depend on whether that ad is a strong competitor ( minimum value ) or not ( maximum value ) . So an advertiser can simply use his highest and lowest valuations in the exclusivity based language , but deriving his value vector when some competitors affect value more than others is much harder for the k dimensional bidding language . outcomes : S , where a single ad is displayed , and M , where a full slate of multiple ads is shown . Since both auctions are not truthful and can have multiple equilibria , we compare the equilibria of each auction to V CG2D , the VCG auction for two dimensional valuations ( we also provide additive bounds or pointwise comparisons of equilibria of the two auctions where possible ) .
There are two natural ways to extend the GSP auction to this two dimensional setting . The first is to require that when multiple ads are displayed , the outcome should exactly match GSP . Our first auction , GSP2D , has the property that when the outcome is M , the allocation and pricing is exactly as if the bids b had been submitted to the original GSP auction ( it then remains to design the rule deciding whether the outcome will be S or M , and the pricing for S , to ensure good equilibrium properties ) . The second is to extend the ‘nextprice’ principle of GSP to the two dimensional setting : our second auction , N P2D has the property that every winner pays the minimum amount necessary to keep his position ( note that GSP2D is not a next price auction : in the twodimensional setting , maintaining one ’s position in outcome M involves both maintaining the outcome type ( M versus S ) , and maintaining one ’s ranking amongst the winners in M ) .
The comparison between the two auctions is rather subtle . N P2D has better efficiency guarantees than GSP2D when the efficient outcome is M , while GSP2D is , roughly speaking , slightly better when the efficient outcome is S . In all cases , the welfare in all ‘good’ equilibria where losers bid at least their true value is guaranteed to be at least half the optimal efficiency ( we show that such good equilibria always exist for both auctions ) . In terms of revenue , N P2D has better revenue guarantees when the equilibrium outcome is S , dominating the V CG2D revenue , while GSP2D is guaranteed to have at least half the V CG2D revenue . When the equilibrium outcome is M , all envy free equilibria of GSP2D dominate the V CG2D revenue , whereas there is no corresponding multiplicative bound for N P2D . However , all envy free equilibria of N P2D revenue dominate V CGM , the revenue from the one dimensional VCG mechanism ; also , all the high revenue M equilibria of GSP2D are M equilibria of N P2D as well . Further , unlike GSP2D , the N P2D auction is guaranteed to always have an equilibrium with revenue at least as much as the current GSP mechanism .
Related Work . There is a rapidly growing literature on externalities in online advertising , starting with the work in [ 9 ] which addresses the conversion aspect , but does not directly apply to sponsored search . Externalities in sponsored search are studied theoretically by [ 3 ] , [ 15 ] , [ 11 ] and [ 21 ] , and empirically by [ 12 , 14 ] . However , all of these focus on the effect of externalities on the clickthrough rate , that is , the attention aspect . The work in [ 7 ] does address the conversion aspect ; however , it assumes a specific form for the conversion rates and more importantly , focuses on analyzing equilibria for this model of conversion rates under the existing GSP mechanism . In contrast , we focus on designing mechanisms with a more expressive bidding language and outcome space .
In simultaneous and independent work , [ 16 ] proposes the agenda of designing auctions where advertisers bid for configurations ; our work provides a thorough design and analysis for one type of configuration , namely exclusivity ( see §5 for a more detailed discussion on the relation between the two problems ) .
[ 18 ] studies auctions with share averse bidders , ie , bidders suffering from negative externalities when an item is shared amongst multiple competitors , exactly as in online advertising . However , [ 18 ] focuses on characterizing the revenue maximizing single item auction for this setting , whereas we want to design GSP like auctions for sponsored search . Finally , a primary motivation for our work is the loss in efficiency due to limited expressiveness . The work in [ 5 ] provides a general theory for expressiveness in mechanisms , and relates the efficiency of mechanisms to their expressiveness in a domain independent manner .
2 . MODEL
There are n advertisers bidding for a page with k slots . Advertiser i ’s private value is the two tuple ( vi , v i ) , where vi is her value per click for being displayed exclusively , ie , with no other ads on the page , and v i is her value per click if other ads are shown as well . We make the natural assumption that each advertiser ( weakly ) prefers exclusivity , ie , vi ≥ v i . i ) , where bi and b i and b
There are two types of outcomes : S , where only a single ad is displayed on the page , and M , where multiple ads are displayed . ( Note that the maximum possible number of ads are always displayed in M , since bidders do not have , or express , higher values for displaying i ads , 1 < i < k . ) We denote the clickthrough rate ( CTR ) of the i th slot in outcome M by θi , and assume , without loss of generality , that the CTR of the only slot in outcome S is 1 . It is natural to expect that the CTR with outcome S is at least as large as than that of any slot in M , ie , 1 ≥ θ1 ≥ . . . ≥ θk . We also define θi = 0 for i > k for convenience . ( We point out that our results also extend to the case of separable clickthrough rates , where the CTR of an ad in a slot is a product of an ad dependent clickability and a slot dependent clickability ; we use the simpler model for clarity of exposition . ) Each advertiser ’s two dimensional bid is denoted by ( bi , b i represent her bids for outcomes S and M respectively . We refer to the vi and bi as S values and S bids , and v i as M values and M bids . We order advertisers in decreasing order of their M bids so that 2 ≥ . . . ≥ b 1 ≥ b b 5 , and use [ i ] to refer to the advertiser with i th highest M value , ie , v [ n ] . We will use the indices max and max2 to denote the bidders with the highest and second highest S values , so vmax ≥ vi for every i , and vmax2 ≥ vi for every i = max . We will also abuse notation to use bmax and bmax2 to denote the highest and second highest S bids , respectively ( in all equilibria of interest , these will actually correspond to the same bidders as with the true S values ) . Furthermore , we define vmax−i and bmax−i to be the advertisers who have highest S value and highest S bid excluding advertiser i . In other words , vmax−i = vmax and bmax−i = bmax if i = max , and vmax−i = vmax2 and bmax−i = bmax2 if i = max . Finally , to simplify notation , we sometimes skip the lower bound of summation when it is 1 ; eg , the summation i is abbreviated to
[ 2 ] ≥ . . . ≥ v i=1,i=j v
[ 1 ] ≥ v k k n i=j v i .
A mechanism for this setting decides on the winning con
5In the case of ties between advertisers , we will assume oracle access to the true values for tiebreaking ; this assumption is made only for clarity of presentation and is not at all essential to the proofs . figuration , ie , whether the outcome is S or M , and the winning advertisers ( and their ranking if the outcome is M ) , and the prices for the winners . The VCG mechanism , of course , applies to this setting , and is a truthful mechanism which always produces an efficient ( ie , welfare maximizing ) outcome .
( V CG2D ) . The VCG mechanism com
Definition 2.1 k • If vmax ≥ k pares vmax and i=1 θiv i . i=1 θiv i , VCG allocates the page to only one advertiser , namely max , and charges him either the sum of the k highest θiv is ( excluding himself ) or the second highest S value , whichever is larger , ie , the winner ’s payment is max −1 k i +
θiv i+1 ) .
θiv i=1 i=max max(vmax2 , k
• If vmax < i=1 θiv all advertisers other than i is vmax−i −k i , then VCG allocation is M , but the expression for the payments is more complicated . When advertiser i is removed , the efficient reallocation can be either S or M . If it is S , the winner is vmax−i , and hence , the increase in the sum of the values of j . If the efficient reallocation is M , all advertisers below i will move one slot up , therefore , the sum of their values increases by j+1 . Therefore , i th advertiser ’s payment , θipi , is ( for i ≤ k ) : k j=i(θj − θj+1)v j=i θjv k j+1 , vmax−i − k max(
( θj − θj+1)v j + θivi ) .
θjv j=i j=1
We use V CG2D to denote the VCG mechanism applied to our setting where bidder values are two dimensional , and V CGM to denote VCG for the one dimensional setting studied in [ 20 , 8 ] , where the only possible outcome is M and advertisers have one dimensional valuations . We make this distinction to easily distinguish between the VCG revenues in the various settings .
Restricting Equilibria . We will be interested only in equilibria where losers bid at least their true value , which we will refer to as “ good ” equilibria . This is particularly relevant when the outcome is S : while there might be Nash equilibria where the losing bidders must bid b i to ensure that the winner has no incentive to deviate to outcome M , it is unreasonable to expect that the losing bidders will not bid higher in an effort to change the outcome to M , which would give them positive utility . Thus , Nash equilibria where the outcome is S but losers bid less than their true values simply to maintain equilibrium are unlikely to exist in practice . i < v
3 . GSP2D
In this section , we design an auction with the following property : given a set of bids ( bi , b i ) , suppose the auction decides to display multiple ads , ie , the outcome is M . Then , the allocation and pricing for the winning ads is exactly the same as when GSPM is applied to the bids b i . This requirement ensures the practical benefit that when multiple ads are displayed , advertisers see no difference at all between the new auction and the existing system .
Given that the allocation pricing for outcome M is completely specified , it remains to design the rule that decides whether the outcome will be S or M , as well as the pricing for S . The GSP2D auction is defined below . k+1 k
Definition 3.1 nism GSP2D takes as input bids ( bi , b to or M .
( The GSP2D auction ) . The mechai ) and compares bmax i to decide whether the outcome should be S i=2 θi−1b bidder max , whose payment is i , the outcome is S with winning i per click . i=2 θi−1b i=2 θi−1b i , assign the page to bidders 1 , . . . , k and charge them according to GSPM pricing , ie bidder i ( for i ≤ k ) has to pay b i+1 per click . i=2 θi−1b k+1 • If bmax ≥k+1 • If bmax ≤ k+1 k+1 the ie , rather
1 + θ2b compares i=1 θib i , that Note i=2 θi−1b i , allocation rule than against against the highest M bid is completely ignored when deciding the outcome . This is because the natural allocation rule , which would be to compare bmax with θ1b 2 + . . . + θkb k , does not quite work : if the bidder with the highest M value is different from the bidder max with the highest S value , 1 = bmax − which changes the that bidder will always set b outcome to M at no cost to her ( as long as there is some other non zero bid b i ) , since the pricing when the outcome is M according to GSP remains b 2 . That is , using the natural allocation rule would imply that the only possible equilibria are those with outcome M , defeating the purpose of designing a more expressive auction .
In the remainder of this section , we will investigate the efficiency and revenue of the equilibria of this mechanism . The restriction to using GSPM when the outcome is M does cause a potential loss in efficiency and revenue with respect to V CG2D , unlike the case with one dimensional valuations where all envy free equilibria of GSPM are efficient and dominate V CGM in terms of revenue . However , as we show below , GSP2D has fairly nice properties nonetheless : both the efficiency and revenue of all reasonable equilibria of GSP2D are guaranteed to be at least within a factor 1/3 and 1/2 respectively of the optimal efficiency and revenue . ( By reasonable equilibria , we mean equilibria of the mechanism where losers bid at least their true value ; we show such equilibria always exist . Further , when the outcome is M , we will restrict ourselves , as in [ 20 ] and [ 8 ] , to envy free equilibria , since the efficiency and revenue guarantees for GSPM relative to V CG1D themselves hold only for envy free equilibria of GSPM . )
The easy lemma below , which follows immediately from individual rationality , will be used repeatedly in the following two subsections .
Lemma 31 In any equilibrium of GSP2D with outcome i for every i ≤ k . i+1 ≤ v
M , b 3.1 Efficiency
We consider two cases , one where the efficient outcome is S , and the other where the efficient outcome is M , and analyze the efficiency of the equilibria of GSP2D . Note that we prove our efficiency results for all reasonable equilibria , rather than only showing that there exists one equilibrium with these properties .
Due to want of space , the proofs of the following results are omitted , and can be found in the full version of the paper [ 10 ] . k
M .
Theorem 31 If the efficient outcome is S ( vmax > i=1 θiv [ i] ) , there is no equilibrium of GSP2D with outcome
Proposition 31 Suppose the efficient outcome is M . Every equilibrium of GSP2D with outcome S where losers bid at least their true values has efficiency at least 1/3 of the optimal . Any envy free equilibrium with outcome M is efficient . 3.2 Revenue
In this section , we compare the revenues of equilibria in
GSP2D with the revenue of V CG2D . k
Theorem 32 Suppose the efficient outcome is S . The revenue in any equilibrium of GSP2D where losers bid at least their true values is at least half of the revenue of V CG2D . i=1 θib
Proof . First , recall that the only possible equilibrium outcome is S , so that the revenue of GSP2D is max(bmax2 , i+1 ) . We give lower bounds for both terms and then show that the revenue of V CG2D cannot be larger than the sum of the lower bounds ; therefore , the revenue of V CG2D cannot be more than twice of the revenue of GSP2D . First we assume max = [ 1 ] . We have bmax2 ≥ vmax2 ≥ [ 1 ] ≥ θ1v i ≤ vi , and losers bid at least their true v values . For the other term , we know that all bidders except max are losers in outcome S . Therefore , b i for every i = max . So we get
[ 1 ] , since v i ≥ v
θi−1v
[ i ] +
θi−2v
[ i ] k i=1
θib i+1 ≥ j−1 l−1 i=2 k+2 i=j+1 k+1 max(vmax2 ,
[ i ] +
θiv
θi−1v
[ i ] ) i=1 i=l+1 where j = min(max , k + 2 ) . On the other hand , the revenue of V CG2D is where l = min(max , k + 1 ) . To finish the proof , we need to show that the sum of the lower bounds we have for GSP2D is greater than or equal to revenue of V CG2D : j−1 vmax2 + i=2 max(vmax2 ,
θi−1v l−1 k+2 k+1 i=j+1
[ i ] +
θi−2v
[ i ] ≥
[ i ] +
θiv
θi−1v
[ i] ) . i=1 i=l+1
If the first term in the V CG2D revenue is the dominant term , the inequality obviously holds . Otherwise , we need to show that vmax2 +
θi−1v
[ i]+
θi−2v
[ i]+
θiv
θi−1v
[ i ] , k+1 i=l+1 j−1 i=2 ie , it is enough to show that k+2 i=j+1 j−1
θi−1v l−1 i=2
[ 1 ] +
θ1v i=1
[ i ] ≥ l−1 k+2 k+1 i=j+1
[ 1 ] +
θ1v
[ i ] +
θi−2v
[ i ] ≥
[ i ] +
θiv
θi−1v
[ i ] , i=2 i=l+1 max(bmax2 , but this inequality clearly holds using term by term comparison .
It remains to prove the the theorem for the case where [ 2 ] , and the max = [ 1 ] . revenue of GSP2D is
In this case , bmax2 ≥ vmax2 ≥ v k k k i+1 ) ≥ max(bmax2 ,
θib i=1 i=1
θiv while the revenue of V CG2D is max(vmax2 , [ i+1] ) . As before , if the dominant term in revenue of V CG2D is vmax2 we are done . Otherwise , the sum of the two terms of the GSP2D revenue is at least θ1v [ i+2 ] which dominates the second term in the V CG2D revenue term by term . k i=1 θiv
[ 2 ] +
[ i+2 ] ) i=1 θiv
A simple modification to Example 3.1 at the end this section shows that this factor of 2 is tight ( set v1 = 3 so that the efficient outcome is S ) .
The following additive bound on revenue follows immedi ately from the previous proof :
RGSP2D ≥ RV CG2D − θ1v
[ 1 ] + θkv
[ k+2 ] .
Theorem 33 Suppose the efficient outcome is M . Any envy free equilibrium of GSP2D with outcome M has revenue greater than or equal to that of V CG2D .
Proof . First , note that since the equilibrium is envyfree , the ordering of M bids is the same as ordering of M[i ] for any i ≤ k + 1 . We show that values ( [20] ) , ie , v the payment of advertiser i ( for i ≤ k ) in GSP2D is at least as much as his payment in V CG2D . i = v
Recall from 2.1 that the payment for advertiser i in j+1 , vmax−i − k j ) .
θjv j=i
( θj − θj+1)v j=i pi = max(
V CG2D is k least vmax−i −k i+1 < vl−k j=i θjv
First we prove that GSP2D payment of bidder i , θib i+1 , is at j . We will prove this by contradiction : if not , we show that there is a bidder with a profitable deviation to S . Let l be the bidder with the highest S value excluding i , ie vl = vmax−i . By the contradiction hypothesis , θib j . If l is not a winner , he has a profitable deviation by bidding ( vl , b l ) which changes the outj + θib j=i θjv j+1 . come to S because vl > ( Of course , bidding ( vl , 0 ) is a “ more profitable ” deviation , but is unnecessary for the argument . ) θlb
So suppose that l is a winner . Adding and subtracting l+1 and rearranging we get i+1 ≥k j=1 θjb j=i θjv k l − b
θl(v l+1 ) < vl − ( θib i+1 + θlb l+1 + j ) .
θjv k k j=i,l l ) : the price for S is at most bmax ≤k
Note that the term in parentheses on the right hand side is an upper bound on the price that l has to pay for S if he deviates and bids ( vl , b j+1 ( since the outcome with the original vector of bids was M , j=1 θjb j+1 , so the price for S is always dominated by this term ) . Since b j ( the original vector of bids was in equilibrium ) , the price for S is upper bounded by ( θib j ) as claimed , showing that l j+1 ≤ v j=i,l θjv i+1 + θlb j=1 θjb k l+1 + i+1 ≥k can deviate profitably . ( Note that as before , this bid does change the outcome to S . )
The fact that θib j+1 follows from the lower bound on bids in envy free equilibria in [ 20 ] , which also holds for envy free equilibria in outcome M of GSP2D . j=i(θj − θj+1)v
The proof , revenue proceeds
Proof . The unfortunately , cases . i=1 θib
For [ j+1 ] , and p2
Theorem 34 Suppose the efficient outcome is M . The revenue in any equilibrium of GSP2D with outcome S where losers bid at least their true values is at least half of the revenue of V CG2D . k k i+1 ) . j=i(θj − θj+1)v considering max(bmax2 , p1 i = i=1 pi , where pi = max(p1 The revenue of V CG2D is i ≤ θiv First note that p1 [ i+1 ] . Also , rationality we have pi ≤ θiv [ i ] . i=1 θib i = vmax−i −k i+1 ≥ k by of GSP2D is ease of notation let j=i θjv [ j ] . i , p2 i ) . from individual k k
1 . If max /∈ {[1 ] , . . . , [ k]} : Each bid b
We consider the following three cases , and will prove for each case that bmax2 + i=1 pi . Therefore , the revenue of GSP2D is at least half the revenue of V CG2D . i , i ≤ k + 1 , is at i in this case , so the revenue of GSP2D is at least [ i+1] ) . The revenue of V CG2D is [ i ] . Since vmax2 ≥ v[1 ] ≥ v [ 1 ] ≥ least v max(vmax2 , at most p1 + θ1v
[ 1 ] , we have vmax2 ≥ p1 , and hence k k k i=1 θiv i=2 θiv k vmax2 +
[ i+1 ] ≥ p1 +
θiv
[ i ] ,
θiv i=1 i=2 max −2 which implies that the revenue of GSP2D is at least half the revenue of V CG2D .
θjv k j=max −1 θjv this case is at least max(vmax2 ,
2 . If max ∈ {[2 ] , . . . , [ k]} : The revenue of GSP2D in [ j+1 ] + [ j+2 ] ) because all losers bid at least their k i ≥ p2 true values . We first consider the case where p1 i for every i . The revenue of V CG2D cannot be more [ j+1 ] . Since vmax2 ≥ v [ 1 ] ≥ j=1 θjv j=1 p1 than [ max ] ≥ θmaxv k max −2 v j ≤ k
[ max ] , j=1 vmax2 + j=1
[ j+1]+
θjv
θjv j=max −1
[ j+2 ] ≥ k j=1
[ j+1 ] ,
θjv which shows the revenue of V CG2D cannot be more than twice the revenue of GSP2D in this case . For the other case , let l be some index for which p1 l < p2 l . We consider two cases depending on whether p1 max > p2 max . For both cases , we upper bound the V CG2D payment of bidder i ( for i = max and i = l ) by θiv max , the revenue of V CG2D is at most
[ i ] . First , if p2 max ≥ p1 max ≥ p1 max or p2 p2 l + p2 max +
θjv j=max,j=l k + vmax2 − k ( cid:195 ) vmax − k
[ j ] = vmax − k k j=max,j=l
[ j ] + j=max
θjv j=l
=
[ j ]
θjv
[ j ]
θjv
[ j ]
θjv
+ vmax2 . j=1 k j=l θjv max −1 max −1 j=1
Since the efficient outcome is M , the term in parentheses is non positive ; therefore , the revenue of V CG2D is bounded above by vmax2 , which is clearly less than or equal to the revenue of GSP2D . Now , if p1 max , the revenue of V CG2D is max ≥ p2
[ j ] = vmax − k k j=l
[ j+1 ] + j=max,j=l
[ j ]
θjv
[ j ] .
θjv
θjv j=max,j=l ( θj − θj+1)v p2 l + p1 max + k Since vmax −k j=max
+ is M ) , the revenue of V CG2D is at most
[ j ] ≤ θlv
[ l ] ( the efficient outcome
[ j ] +
θjv
[ j+1 ]
θjv
= θ1v
[ 1 ] +
[ j ] +
θjv
[ j+1 ] .
θjv j=2 j=max
[ 1 ] , by term by term comparison we k k j=max k
Since vmax2 ≥ θ1v max −2 get vmax2 +
[ j+1 ] +
θjv max −1 j=max −1 k
[ j+2 ] ≥
θjv
[ j ] +
θjv
[ j+1 ] ,
θjv j=2 j=max j=1
[ 1 ] +
θ1v k which implies the revenue of GSP2D is at least half of the revenue of V CG2D . k
3 . If max = [ 1 ] : The revenue of GSP2D in this case is j=1 θjv [ j+2 ] ) because all losers at least max(vmax2 , bid at least their true values . As before , we first consider the case where p1 for every i ; the j ≤ revenue of V CG2D cannot be more than [ 2 ] ≥ θ1v 2 , k
[ j+1 ] . Since vmax2 ≥ v i ≥ p2 j=1 θjv k k j=1 p1 i
[ j+2 ] ≥ θ1v
[ 2 ] +
θjv
[ j+1 ]
θjv vmax2 + j=1 j=2 which shows that the revenue of V CG2D cannot be more than twice of revenue of GSP2D in this case . The analysis of the other case is almost identical to when max ∈ {[2 ] , . . . , [ k]} , so we omit repeating it here .
Example 3.1 shows that this factor 2 is tight as well .
How does GSP2D compare to GSPM in terms of revenue ? Suppose bidders have two dimensional valuations ( vi , v i ) , but are only offered the GSPM mechanism with its one dimensional bidding language . Since the outcome of GSPM is never S , bidders will bid according to valuations v i in GSPM . The example below shows that the revenue of GSP2D ( in every equilibrium ) can actually be smaller than the revenue in GSPM , ie , if the search engine had persisted with the old mechanism . However , the mechanism we design in the next section does not suffer from this potential loss in revenue with respect to GSPM .
Example 31 Suppose there are two slots with θ1 = θ2 = 1 − , and three bidders with values v1 = 1 + , v2 = v3 = 1 , i = 1 for i ≤ 3 . The revenue of GSPM for this example and v is 2− 2 for all equilibria , and the utility is 0 for all bidders . However , if advertiser 1 bids ( ∞ , 0 ) , and advertisers 2 and 3 bid truthfully , this is an equilibrium with revenue 1− and payment 1− with utility 2 > 0 for the winner . In fact , this is the highest possible revenue in any equilibrium outcome of GSP2D .
Finally , we conclude with showing that good equilibria ( where losers bid their true values ) always exist , so that the theorems we proved so far are not vacuous .
Theorem 35 For GSP2D , a good equilibrium always ex ists .
Proof . Suppose ( vi , v i = v i=1 θib i=1 θiˆv k k k max − ˆv l−2 i = v i+1 + θl−1ˆv i ) are the S value and M value of the i th bidder , and suppose that v i ’s are sorted in descending order . We construct a good equilibrium of GSP2D . Let ˆv i be the i th highest M value excluding v max , where max is the bidder who has the highest S value . ( In the efficient ordering of advertisers excluding max in outcome M , the advertisers occupying the i th slot has M value ˆv i . ) Note that ˆv i if i < max , and ˆv i+1 otherwise . Let S0 = ∞ and Sl = i=l θiˆv i=1 θiˆv l−1 + i for 1 ≤ l ≤ k + 1 ( define θ0 = 0 and ˆv 0 = 0 ) . Intuitively , Sl ( for l ≥ 1 ) is an upper bound on i+1 in which everyone except max is bidding truthfully , and max is bidding the maximum possible bid , ˆv l−1 , to get the l th slot . Clearly , S1 ≥ S2 ≥ . . . ≥ Sk . Let 0 ≤ j ≤ k be the largest index max − ˆv such that Sj > vmax2 . Let uM = max1≤i≤j θi(v i ) , and let t = arg max1≤i≤j θi(v i ) ; in other words , uM is the maximum utility that bidder max can get if the outcome is M and all other bidders are bidding truthfully . Also , let uS = vmax − max( i+1 , vmax2 ) which means uS is the maximum utility that bidder max can get if the outcome is S and all other bidders are bidding truthfully . If j = 0 , vmax2 > S1 so the outcome will always be S irrespective of max ’s bid ; so there is no deviation for max that changes the outcome to M . Therefore , every bidder except max bidding truthfully and max bidding ( ∞ , 0 ) is a good equilibrium of GSP2D with outcome S . So , for the rest of the proof , we assume j ≥ 1 , and hence t exists . If uM ≥ uS , everyone except max bidding truthfully and t−1 − ) is an equilibrium of GSP2D max bidding ( St − 2 , ˆv with outcome M . The outcome is M by definition of St , and also because St ≥ vmax2 . Consider a bidder a = max . If bidder a decreases her M bid , the outcome switches to S leading to utility 0 for her . Furthermore , since a is bidding her true M value , any overstating value which results in change of allocation leads to negative utility for a ; therefore , a has no profitable deviation . We know that bidder max is already getting the slot which has maximum utility for her among slots 1 , . . . , j , and there is no deviation for her leading to outcome M with slot lower than j . Therefore , any deviation which leads to outcome M is not profitable for max . Also , since uS < uM , we know that max prefers outcome M to S , and hence , any deviation which switches the outcome to S can not be profitable . Next , consider the case where uM < uS . In this case , all bidders except max bidding truthfully and max bidding ( ∞ , 0 ) is a good equilibrium of GSP2D with outcome S . No loser can change the outcome to M profitably , and max prefers the current outcome to any M outcome .
4 . NP2D : A NEXT PRICE AUCTION
The current GSP auction , GSPM , is a next price auction—every winner pays the ” next price ” , ie , the minimum bid necessary in order to maintain her position , which in GSPM is the bid of the next highest bidder . In our twodimensional setting , where there are two types of outcomes in addition to multiple slots , maintaining one ’s position consists of two things for a winner in outcome M : first , the outcome must remain M and not switch to S ; second , the bid must enable the bidder to maintain her position amongst the k slots . In a next price auction for our more expressive setting , therefore , the payment of a winner in slot i of outcome M is the larger of two terms— the first being the minimum value at which the outcome still remains M , and the second being the bid of the next bidder , b i+1 , as in GSPM . The auction is formally defined below . k
Definition 4.1 submit bids ( bi , b i ) . Assume max = j , ie , the bidder corresponding to bmax has the jth largest M bid , and let Γ =
( The N P2D auction ) . Bidders i=1 θib i . • If bmax ≥ Γ , the outcome is S with payment j−1 k max(bmax2 , i +
θib
θib i+1 ) . i=1 i=j
• If bmax ≤ Γ , the outcome is M and the bidder winning slot i = max pays i+1 , bmax − Γ + θib
θipi = max(θib while the bidder max winning slot j pays i )
θjpj = max(θjb j+1 , bmax2 − Γ + θjb j )
Note that in computing the price for outcome S , the second term is smaller than Γ .
In the next two subsections , we will analyze the efficiency and revenue respectively in the equilibria of N P2D . As before , we will prove guarantees for the revenue and efficiency of good equilibria , where losers bid at least their true value ( such equilibria always exist , as we show in Proposition 41 ) Some proofs have been removed for want of space , and can be found in the full version of the paper [ 10 ] . 4.1 Efficiency
As before , we consider two cases corresponding to the efficient outcome being S or M . We first start with the following lemma , which allows us to prove the efficiency result for S .
Lemma 41 Assume that bidder max is bidding truthfully . If the outcome of N P2D for a given vector of bids is S , then the winner max cannot benefit from any deviation that changes the outcome to M .
Proof . Assume max = j , ie , the bidder max has the jth largest M bid for the given M bids b i from the remaining bidders . By assumption that max bids truthfully , b j = v j and bmax = vmax . We need to show that bidder max = j prefers outcome S to any position in outcome M . Consider l−1 , ie , targeting an M bid b slot l , and assume the deviation changes the outcome to M . j−1 , outcome M gives bidder j negative utility because her payment would be at least of bidder j with b
First notice that if b l ≤ b
> b
< b b j−1 > b assume b j in this case . So without loss of generality we may ≤ b j−1 , ie , l ≥ j . We have to show j−1 k vmax − max(bmax2 , i +
θib i=1 j − max(θlb l+1 , bmax2 − Γ + θlb i=j
) .
θib i+1 ) ≥
We know b i for ( i ≥ j ) , therefore ,
( θj − θl)b j =
( θi − θi+1)b
( θi − θi+1)b i+1 and since b j = v j we can write
θjb
( θi − θi+1)b
By adding j ≥ l−1 i=j i+1 − θlv j ≥ 0 . k i
θib i+1 + θlv j +
θib
θlv j ≥ b i=j l−1 j − l−1 l−1 i=j i +
θib j−1 i ≥ j−1 i=1 i=j i=l+1
θib l−1 k to both sides of the inequality we get k Since the outcome is S , we have vmax ≥ k i=1 θib k therefore , using the inequality above , i+1 + θlb l−1 j + i + i=l+1
θib
θib
θib i=1 i=1 i=j vmax ≥ j−1
θib i+1 + θlv j + i +
θib i .
θib i . i=1 i=j i=l+1 i , and
( 1 )
We consider two cases , based on whether the dominant term for the price of max in outcome S is bmax2 or not . bmax2 , i+1 . Then , by inequality ( 1 ) , and since b term is not i=j θib i+1 ) = i=1 θib ie , i + i+1 ≤ k
1 . Assume the dominant i + j−1 k vmax ≥ j−1 max(bmax2 , i=j θib b i for any i , we have i=1 θib l−1 i +
θib i+1 + θlv j +
θib i+1
θib i=1 i=j i=l+1 and , by adding and subtracting θlb hand side of the inequality we get l+1 to the right vmax ≥ j−1 l i+
θib i+1+θl(v j−b l+1)+
θib i+1 .
θib i=1 i=j i=l+1
The final inequality can be written as j−1 k j−1 vmax − ( i +
θib i+1 ) ≥ θl(v
θib j − b l+1 ) i=1 i=j which implies vmax − max(bmax2 ,
θib
θib i + i+1 ) ≥ i=1 l+1 , bmax2 − Γ + θlb i=j
) . j − max(θlb
θlv k j−1 k k
2 . Assume max(bmax2 ,
Since after deviation , j−1 j−1 i=1 θib l−1 k i=j θib k i + i+1 ) = bmax2 .
Γ = i +
θib i+1 + θlb
θib
+ i ,
θib i=1 i=j i=l+1 j + Γ− θlb we can rewrite inequality ( 1 ) as vmax ≥ θlv . Now , by just subtracting bmax2 from both sides we get j − bmax2 + Γ − θlb which implies vmax − bmax2 ≥ θlv j−1 vmax − max(bmax2 , k
θib
θib i + i+1 ) ≥ i=1 l+1 , bmax2 − Γ + θlb i=j
) . j − max(θlb
θlv k
This allows for an easy proof of the following result :
Theorem 41 Suppose the underlying valuations are i=1 θiv [ i ] . such that the efficient outcome is S , ie , vmax > There exists an equilibrium with outcome S where losers bid at least their true values . Further , there is no inefficient equilibrium where all bidders play undominated strategies .
Unlike in GSP2D , inefficient equilibria with outcome M ( with arbitrarily large inefficiency ) can occur in N P2D when the efficient outcome is S . However , all such equilibria are ’bullying’ equilibria ( such equilibria occur in GSPM as well ) where some bidder bids above her true value , which ( Lemma 7.1 in the full version of the paper ) is a weakly dominated strategy in N P2D .
Next , suppose the efficient outcome is M . Here , similar to GSP2D , inefficiency can occur in N P2D as well ; however , the extent of inefficiency is less than that in GSP2D , as the following multiplicative and additive bounds show .
Theorem 42 Suppose the efficient outcome is M . Then the efficiency in any good equilibrium of N P2D with outcome S is at least 1/2 of the optimal efficiency . i=j θi(v come S is at least OP T −k
Corollary 41 Suppose the efficient outcome is M . Then the welfare in any good equilibrium of N P2D with out[i+1] ) , where OP T is the optimal welfare and j is the rank of M value of bidder max , ie max = [ j ] . Note that if the marketplace is competitive , ie , the v i ’s are not very different , the additive bound shows that the loss in welfare will be small even when the inefficient outcome occurs .
[ i ] − v
Finally , suppose the efficient outcome is M and the equilibrium outcome is M as well . A result similar to that [ 8 , 20 ] stating that all envy free equilibria are efficient holds for N P2D as well . However , before we state the result , we need to extend the notion of envy free equilibria to N P2D ; we will then prove , via Lemma 4.2 , that the set of envy free equilibria are all efficient .
The notion of envy free equilibria in [ 8 ] can be thought of as restricting the set of bid vectors that are Nash equilibria to those that also generate envy free prices [ 13 ] , ie , a price for each slot such that no bidder envies the allocation of another bidder at this price . We use exactly this idea to define envy free equilibria for outcome M in the N P2D auction : A vector of bids leading to outcome M in N P2D is an envy free equilibrium if for any i and j ( 1 ≤ i , j ≤ n ) i − pj ) i − pi ) ≥ θj(v
θi(v where pi and pj are the prices bidders i and j are currently paying for slots i and j respectively . ( Recall that θi = 0 for i > k . )
Lemma 42 If v a > v b for bidders a and b , and θp > θq for slots p and q , then any allocation A that assigns bidder a to slot q and bidder b to slot p is not envy free .
Proof . Assume for sake of contradiction that A is envyfree and suppose that the prices for slots p and q are pp and pq respectively . For A being envy free we must have b − pq ) . θp(v Subtracting the second inequality from the first one we get θp(v b ) , but this last inequality contradicts v a > v a − pq ) and θp(v a− v a − pp ) ≤ θq(v b ) ≤ θq(v a− v b − pp ) ≥ θq(v b and θq < θp .
The theorem below follows immediately from this lemma , since it implies that in any envy free allocation ( not necessarily even an equilibrium ) of N P2D with outcome M , the bidders must be allocated to the slots in decreasing order of their M values .
Theorem 43 Suppose the efficient outcome is M . Then any envy free equilibrium of N P2D with outcome M is efficient . 4.2 Revenue
When the equilibrium outcome in N P2D is S , the revenue is high , in the following sense :
Theorem 44 Any good equilibrium of N P2D with out come S has at least the same revenue as V CG2D .
Note that here N P2D does better than GSP2D : the revenue of GSP2D can be as small as half the V CG2D revenue when the equilibrium outcome is S and the efficient outcome is either S or M ( Theorems 3.2 and 34 ) However , while N P2D leads to better revenue guarantees when the outcome is S , the same is not true for M : unlike GSP2D , where every envy free equilibrium with outcome M revenuedominates V CG2D , the revenue in an envy free equilibrium of N P2D can be arbitrarily smaller than that of V CG2D , as the following example shows .
1 ) = ( 3 , 3 ) and ( v2 , v
Example 41 Suppose that there are two slots with θ1 = 1 and θ2 = 1 − /3 . There are two bidders with values ( v1 , v 2 ) = ( 4 , 2 ) . The efficient outcome is M . If the bidders bid ( b1 , b 2 ) = ( 2 , ) , the outcome is M ; it is an envy free equilibrium ; and the revenue is . However , revenue of V CG2D on this example is 2 .
1 ) = ( 3 , 3 ) and ( b2 , b
That is , we cannot obtain a result similar to the previous revenue results bounding the revenue loss with respect to V CG2D by a multiplicative constant .
However , as the next three theorems will show , the situation is not quite as bleak as the previous example might suggest : first , Theorem 4.5 shows that the revenue of N P2D in any envy free equilibrium with outcome M is at least the V CGM revenue . Second , and more importantly , Proposition 4.1 shows that there always exists an equilibrium of
N P2D with this revenue— note that this is not the case with GSP2D , where there exist values such that every equilibrium of GSP2D has revenue strictly less than the revenue of V CGM ( Example 31 ) The revenue comparison with V CGM is important for the following reason— the V CGM revenue can be thought of as a proxy for the GSPM revenue , since there always exists an equilibrium of GSPM with this revenue [ 8 ] , and further , this is a “ likely ” equilibrium in the sense that if bidders update their bids according to reasonable greedy bidding strategies , the bids converge to this equilibrium of GSPM [ 6 ] . Therefore , unlike GSP2D , there always exists an equilibrium of N P2D with revenue at least as much as in GSPM , ie , the transition to the richer outcome space does not lead to revenue loss .
Finally , Theorem 4.6 shows that the N P2D auction also retains all the high revenue equilibria with outcome M of GSP2D : the reason for the nonexistence of a multiplicative bound with respect to V CG2D is simply that N P2D has a larger set of equilibria , some of which have poor revenue ; however , no high revenue M equilibria of GSP2D are lost in using the N P2D auction .
Theorem 45 Every envy free outcome ( not necessarily an equilibrium ) of N P2D with outcome M has revenue at least as much as V CGM .
We point out that the proof of this result is independent of how payments pi are calculated . In fact , any allocation and pricing ( even not restricted to our two dimensional setting ) which is envy free and efficient satisfies the conditions needed for the above proof , and hence has revenue at least as much as V CGM . k
Proposition 41 There always exists a good equilibrium of N P2D with revenue greater than or equal to that of V CGM . i=1 θiv
The revenue of the equilibria constructed in Proposition 4.1 are at least [ i+1 ] . Therefore , assuming bidders do not play weakly dominated strategies in GSPM ( specifically , bidders do not overstate their values ) , no equilibrium of GSPM can have revenue higher than the equilibrium of N P2D constructed in Proposition 41
Finally , we show that N P2D retains all the high revenue
M equilibria of GSP2D .
Theorem 46 Every equilibrium of GSP2D with outcome M is an equilibrium with outcome M of N P2D with equal revenue .
That is , while there is no multiplicative bound on the revenue of an envy free equilibrium of N P2D with outcome M , all the high revenue M equilibria of GSP2D , which dominate the V CG2D revenue , are also equilibria of N P2D . 421 Revenue Non monotonicity We point out an interesting property of the N P2D auction : when bids go up , the revenue can actually decrease . The following example illustrates this non monotonicity in revenue as a function of the bids :
Example 42 Suppose there are two slots with θ1 = θ2 = 1 and three bidders with bids ( 10 , 0 ) , ( 9 , 9 ) and ( 2 , 2 ) . The outcome is M , and the prices for bidders 2 and 3 are 8 and 1 respectively , so the revenue is 9 . However , if the third bidder
θib increases her bid to ( 3 , 3 ) , the outcome remains M , but the payments change to 7 and 1 for bidder 2 and 3 respectively . Therefore , the revenue decreases to 8 .
θib i , the total revWhen the bids are such that bmax = enue is exactly i irrespective of which outcome is chosen . If the tie is broken in favor of outcome M , every bidder must pay exactly his bid , since for any bid below this the outcome will switch to S . Now suppose all bidders bid b i + ( and don’t change their S bids ) . The outcome remains M , but every bidders payment decreases , since the minimum amount needed to maintain outcome M given the other bids has decreased . So the revenue decreases even though the bids increase .
Note that this revenue non monotonicity occurs in the VCG auction as well , for the same reason . However , GSP2D does not have this property in the sense that when the bids increase the total revenue cannot decrease . Revenue monotonicity is often considered a desirable property in practice , and could influence the choice between which of the two auctions , GSP2D or N P2D is actually used in practice .
5 . DISCUSSION
In this paper , we designed two expressive GSP like auctions for exclusivity based valuations , and showed that they have good revenue and efficiency properties in equilibria . While the N P2D auction has , roughly speaking , better worst case efficiency properties , and does better than GSP2D in several cases in terms of revenue , it does have envy free equilibria with poor revenues , and shares VCG ’s revenue non monotonicity problem . Choosing between the two auctions will require an empirical assessment of the marketplace parameters as well as an understanding of bidder valuations and behavior , to predict which equilibria are actually likely to arise in practice . ( Note , as an aside , that there is no way to infer S values from the current GSPM auction , since multiple ads are always shown . )
There are many directions for further work . The first obvious direction is to combine the more expressive bidding language with more complex cascade like models for CTRs , and analyze a model that incorporates both attention and conversion based externalities . Second , the bidding language we use can be thought of as a one way to succinctly represent a general decreasing k dimensional vector valuation , where an advertiser specifies the first entry in the vector ( vi ) , and uses v i as a proxy for all the remaining k−1 entries . An alternative language ( also discussed in [ 16 ] ) which also solicits only two bids from an advertiser , is one where an advertiser specifies that he has value vi provided no more than ni advertisers are shown in all ( and zero if any more are shown ) . Which of these is a better representation of actual advertiser valuations , and which is it possible to design better mechanisms for ? In general , the question of designing succinct mechanisms that achieve high efficiency in the presence of underlying high dimensional valuations is an interesting open question .
While the auctions we design have pleasant properties with respect to revenue and efficiency in their equilibria , the comparison of these GSP like auctions to VCG does not remain quite as starkly positive as in the original onedimensional setting . Specifically , unlike [ 8 , 20 ] , where all envy free equilibria of GSPM are efficient and have at least the revenue of V CGM , both the N P2D and GSP2D auctions suffer from losses in efficiency and revenue with respect to V CG2D : neither auction need always have an efficient equilibrium , or one that guarantees at least as much revenue as V CG2D . In fact , other research [ 1 , 4 ] suggests as well that the GSPM auction does not always have desirable properties under more complex valuation models or more sophisticated models of bidder behavior . Our results suggest that while GSP turns out to have excellent properties for the simplest model of advertiser valuations , this is very possibly no more than a fortunate coincidence that does not extend to more complex valuations . Thus , rather than continuing to build on the GSP auction , it might be necessary to approach the design of more expressive auctions for advertising on the Internet from a clean slate . 5.1 Acknowledgments .
The authors are very grateful to Preston McAfee , David Pennock , and R . Ravi for helpful discussions and comments .
6 . REFERENCES [ 1 ] Abrams , Z . , Ghosh , A . , and Vee , E . Cost of conciseness in sponsored search auctions . In WINE ’07 : Proceedings of the 3rd International Workshop on Internet and Network Economics ( Berlin , Heidelberg , 2007 ) , Springer Verlag .
[ 2 ] Aggarwal , G . , Feldman , J . , and
Muthukrishnan , S . Bidding to the top : VCG and equilibria of position based auctions . In WAOA’06 : Proc . Workshop on Approximation and Online Algorithms ( 2006 ) .
[ 3 ] Aggarwal , G . , Feldman , J . , Muthukrishnan , S . , and P´al , M . Sponsored search auctions with markovian users . In WINE ’08 : Proceedings of the 4th International Workshop on Internet and Network Economics ( Berlin , Heidelberg , 2008 ) , Springer Verlag , pp . 621–628 .
[ 4 ] Athey , S . , and Nekipelov , D . Equilibrium and uncertainty in sponsored search auctions . Manuscript ( 2009 ) .
[ 5 ] Benisch , M . , Sadeh , N . , and Sandholm , T . A theory of expressiveness in mechanisms . In Proceedings of National Conference on Artificial Intelligence ( AAAI ) ( 2008 ) , pp . 07–178 .
[ 6 ] Cary , M . , Das , A . , Edelman , B . , Giotis , I . ,
Heimerl , K . , Karlin , A . R . , Mathieu , C . , and Schwarz , M . Greedy bidding strategies for keyword auctions . In EC ’07 : Proceedings of the 8th ACM conference on Electronic commerce ( New York , NY , USA , 2007 ) , ACM , pp . 262–271 .
[ 7 ] Das , A . , Giotis , I . , Karlin , A . , and Mathieu , C .
On the effects of competing advertisements in keyword auctions . Unpublished Manuscript , May ( 2008 ) . [ 8 ] Edelman , B . , Ostrovsky , M . , Schwarz , M . ,
Fudenberg , T . D . , Kaplow , L . , Lee , R . , Milgrom , P . , Niederle , M . , and Pakes , A . Internet advertising and the generalized second price auction : Selling billions of dollars worth of keywords . American Economic Review 97 ( 2005 ) .
[ 10 ] Ghosh , A . , and Sayedi , A . Expressive Auctions for
Externalities in Online Advertising . Unpublished Manuscript , November ( 2009 ) . http://wwwandrewcmuedu/user/ssayedir/extpdf
[ 11 ] Giotis , I . , and Karlin , A . R . On the equilibria and efficiency of the GSP mechanism in keyword auctions with externalities . In WINE ’08 : Proceedings of the 4th International Workshop on Internet and Network Economics ( Berlin , Heidelberg , 2008 ) , Springer Verlag , pp . 629–638 .
[ 12 ] Gomes , R . , Immorlica , N . , and Markakis , E .
Externalities in keyword auctions : an empirical and theoretical assessment . In WINE ’09 : Proceedings of the 5th International Workshop on Internet and Network Economics ( 2009 ) , Springer Verlag .
[ 13 ] Guruswami , V . , Hartline , J . , Karlin , A . , Kempe ,
D . , Kenyon , C . , and McSherry , F . On profit maximizing envy free pricing . In Proceedings of the sixteenth annual ACM SIAM symposium on Discrete algorithms ( 2005 ) , Society for Industrial and Applied Mathematics Philadelphia , PA , USA , pp . 1164–1173 .
[ 14 ] Jeziorski , P . , and Segal , I . What makes them click : Empirical analysis of consumer demand for search advertising . Manuscript ( 2009 ) .
[ 15 ] Kempe , D . , and Mahdian , M . A cascade model for externalities in sponsored search . In WINE ’08 : Proceedings of the 4th International Workshop on Internet and Network Economics ( Berlin , Heidelberg , 2008 ) , Springer Verlag , pp . 585–596 .
[ 16 ] Muthukrishnan , S . Bidding on configurations in
Internet ad auctions . Manuscript ( 2009 ) .
[ 17 ] Sadeh , N . , Hong , J . , Cranor , L . , Fette , I . ,
Kelley , P . , Prabaker , M . , and Rao , J . Understanding and capturing peoples privacy policies in a people finder application . The Journal of Personal and Ubiquitous Computing ( 2008 ) .
[ 18 ] Salek , M . , and Kempe , D . Auctions for share averse bidders . In WINE ’08 : Proceedings of the 4th International Workshop on Internet and Network Economics ( Berlin , Heidelberg , 2008 ) , Springer Verlag , pp . 609–620 .
[ 19 ] Schwartz , B . The paradox of choice : Why more is less . Harper Perennial , 2005 .
[ 20 ] Varian , H . Position auctions . International Journal of Industrial Organization 25 , 6 ( 2007 ) , 1163–1178 .
[ 21 ] Yu , J . , and Deng , X . A new ranking scheme of the GSP mechanism with markovian users . In WINE ’09 : Proceedings of the 5th International Workshop on Internet and Network Economics ( 2009 ) , Springer Verlag .
7 . APPENDIX
Lemma 71 Overstating M value is weakly dominated in N P2D . In other words , for a bidder participating N P2D , any strategy that sometimes overstates M value is dominated by a strategy that never overstates M value .
[ 9 ] Ghosh , A . , and Mahdian , M . Externalities in online advertising . In WWW ’08 : Proceeding of the 17th international conference on World Wide Web ( New York , NY , USA , 2008 ) , ACM , pp . 161–168 .
Proof . Fix a vector of bids by all the bidders other than i . First assume the outcome is M . If bidder i overstates her value , she will either be moved to a higher slot with some price higher than her value and consequently negative utility , or will stay in her current place for the same price . Therefore , she cannot benefit from overstating her value in this case . Now , suppose the outcome is S . In this case , if bidder i changes the outcome to M by overstating her value , she has to pay more than her value because of the pricing policy . Therefore , she cannot benefit from overstating her M value in this case either . i=1 θib k i ≥ k
1 ≥ . . . ≥ b n . i=1 θiv
Proof ( Theorem 31 ) Assume for the sake of contradiction that ( b , b ) is an equilibrium vector of bids in GSP2D with outcome M and recall that indices 1 , . . . , n are such that b First , note that by Lemma 3.1 , since ( b , b ) is an equilibrium , vmax > i+1 . Therefore , if the bidder with highest S value , max , bids his true value , the outcome will change to S . Consequently , max must be in {1 , . . . , k} , since otherwise , he has utility 0 in the outcome M while he can make his utility positive by bidding truthfully . Next , we show that even if max ∈ {1 , . . . , k} , he still has an incentive to deviate and bid truthfully to change the outcome to S . More precisely , we show that the ( following lower bound on the ) payoff of max in outcome S is more than his payoff in outcome M : vmax − ( θ1b
2 + . . . + θkb k+1 ) > θj(v max − b j+1 ) , where index j is such that j = max . That is , we want to show vj − ( θ1b
2 + . . . + θkb k+1 ) > θj(v j − b j+1 ) .
Rearranging , and using the fact that max ∈ {1 , . . . , k} , that is , j ≤ k , it suffices to prove : vj > ( θ1b
2 + . . . + θj−1b j + θjv j + θj+1b j+2 + . . . + θkb k+1 ) .
To show this , we start with :
[ 1 ] + . . . + θkv vmax > θ1v
[ k ] .
Since v
[ 1 ] ≥ . . . ≥ v
[ n ] , and θi ’s are decreasing , we get : vmax > θ1v
1 + . . . + θkv k .
By Lemma 3.1 , we can replace v gives us i by b i+1 for all i = j , which
2 + . . . + θj−1b ( θ1b j + θjv j + θj+1b j+2 + . . . + θkb vj > k+1 ) , which is what we needed to show .
Proof ( Proposition 31 ) For brevity and clarity , we describe the proof when bidder max is bidder [ 1 ] , ie , has the highest M value ( the proof for [ j ] is very similar ) . Since the outcome of GSP2D is S , she must prefer outcome S to every slot ; specifically , to the first slot in outcome M . Therefore , vmax − k i=1
Since losers bid at least their true values b get i ≥ v
[ i+1 ] , so we
Our goal is to show 3vmax ≥ k [ i+2 ] ≥k from the above inequality because vmax ≥ θ1v θ2v i=1 θiv i=3 θiv [ i ] .
[ 2 ] , and θ1v The efficiency of an envy free equilibrium of GSP2D fol
[ i ] which follows [ 1 ] , vmax ≥ k i=2 θiv
[ 1 ] + lows directly from the arguments in [ 20 ] .
Proof ( Theorem 41 ) We show that the vector of bids where all bidders except max = [ j ] bid truthfully and max bids ( vmax , 0 ) , is an equilibrium of N P2D . First , note that these bids lead to outcome S because k
[ i ] ≥ j−1 vmax >
θiv k
[ i ] +
θiv
[ i+1 ] = Γ .
θiv i=1 i=1 i=j
Next , we show that no bidder i = max has an incentive to deviate : If loser i wants to change the outcome to M by increasing her current bid to b i , we show that her payment becomes larger than her value . By the pricing rule we l=i θlb l ; furthermore , since the initial i . Therefore , have θipi ≥ vmax − outcome is S we have vmax − l > θiv i > v l=i θlb
θipi > θiv i .
It only remains to show bidder max = j has no incentive to deviate , ie , she prefers outcome S to any position in outcome M ; but this is directly implied by Lemma 41 Therefore , the vector of bids in which every bidder except max bids truthfully and max bids ( vmax , 0 ) is a good equilibrium of N P2D .
We show in Lemma 7.1 in the appendix that bidding above one ’s true value is a weakly dominated strategy in N P2D . Suppose all bidders play undominated strategies , then no bidder is bidding higher than her true value . If max bids truthfully and every other bidder bids less equal her true value , the outcome will be S ( since the efficient outcome is S ) . By Lemma 4.1 , we know that bidder max prefers this outcome to winning any slot in outcome M . Therefore , for any outcome M , the deviation to truthfulness is always profitable for max .
Since the efficient outcome is M we have
Proof ( Theorem 42 ) Since the equilibrium with outcome S is a good equilibrium , the winner is max ( since otherwise max would be a loser and hence must bid at least her true S value leading to negative utility for the winner , which contradicts the equilibrium assumption ) . So , the welfare in this equilibrium is vmax . [ i ] ≥ vmax . Since the N P2D equilibrium is a good equilibrium we [ i+1 ] , where j is the rank of bidder max among all M values , ie max = [ j ] . Therefore , the loss in efficiency of any good equilibrium with outcome S i=j(θi− of N P2D is at most [ j ] ≥ θjv [ i+1 ] ≤ θjv θi+1)v [ j ] , have vmax ≥j−1 k [ j]−k
[ j ] . Finally , since vmax = v[j ] ≥ v
[ i+1 ] ) = θjv i=1 θiv k k i=1 θiv i=j θiv
[ i ] +
2vmax ≥ vmax + θjv
[ j ] ≥ (
[ i ] +
θiv
[ i+1 ] )
θiv
[ i]−v i=j θi(v j−1 k i=1
[ i ] − v
θi(v k k i=j
[ i+1] ) ) =
[ i ] .
θiv i=j i=1 i+1 ≥ θ1(v
[ 1 ] − b
2 ) .
θib
+( vmax ≥ θ1v
[ 1 ] +
[ i+2 ] .
θiv
Proof ( Theorem 44 ) If the outcome of V CG2D is S , then since all losers bid at least their true values , the payment of the winner in N P2D is at least as much as the win k i=2 i ≥ k i=1 θib i=1 θib k bmax ≤k bmax −k i=1 θib i=1 θib i+1 , we have θjb i + θjb j+1 ≥ bmax −k i+1 , the outcome of N P2D for the same vector of bids is M too . First we argue that no bidder wants to deviate to obtain a different slot in M . Since i+1 ≥ j , so the dominant term for the price of the bidder in slot j ( for 1 ≤ j ≤ k ) is θjb j+1 . Therefore , the outcome of N P2D has the same allocation and pricing as GSP2D . Since deviating to slot l was not profitable for any bidder j in GSP2D , it is not profitable in N P2D either ( note that the price upon deviation in N P2D for any slot is at least as much as the price in GSP2D for the same deviation ) . i=j θib k i+1 ≤ j−1
Next , we show that deviating and changing the outcome to S cannot be profitable for any bidder . The price in N P2D for bidder j for outcome S is at least i+1 . The price for outcome S for bidder j in GSP2D is at most i+1 . Therefore , since bidder j has no incentive deviate to outcome S in GSP2D , she has no incentive to deviate to outcome S in N P2D either . i=1 θib i+ k i=1 θib i=1 θib i=j θib i=j θib i + j−1 k
[ i ] + i=1 θiv i=1,i=j θiv i=1,i=j θiv ner ’s payment in V CG2D . Therefore , the revenue of N P2D is greater than or equal to the revenue of V CG2D . depending on whether vmax2−k k k i=j(θi − θi+1)v k j−1 k
If the outcome of V CG2D is M , we consider two cases , [ i ] is the dominant term of the payment for bidder max = [ j ] in V CG2D , or [ i+1 ] is the dominant term . In both cases , [ i ] as an upperby individual rationality , we use bound on the sum of the payments of all other bidders in V CG2D . In the first case , the revenue of V CG2D is upperbounded by vmax2 , and in the second , it is upper bounded by [ i+1 ] . But , by the N P2D pricing rule , we know that the revenue of any good equilibrium of [ i ] + N P2D with outcome S is at least max(vmax2 , i=j θiv Proof ( Theorem 45 ) Pick an arbitrary envy free allocation of N P2D with outcome M and suppose that the price of the i th slot is pi . By theorem 4.3 we know v i = v [ i ] . Moreover , the bidder occupying the i th slot must not envy the bidder occupying the i − 1 st slot , ie , θi−1(vi − pi−1 ) ≤ θi(vi − pi ) . By writing this inequality for every i ( 2 ≤ i ≤ k + 1 ) , then multiplying both sides of the inequality for bidder i by a factor i , and finally summing up all inequalities ( and canceling out repeated terms ) we get j−1 i=1 θiv i=j θiv
[ i+1] ) . k i+1 ≤ k
θipi . i(θi − θi+1)v i=1 i=1
The LHS of the above inequality is revenue of V CGM while the RHS is the sum of payments of all bidders in N P2D , or in other words , the revenue of N P2D . j−1
Proof ( Proposition 41 ) If the efficient outcome is S , we proved in Theorem 4.1 the good equilibrium with outcome S exists . The revenue of such equilibrium is at least i=1 i(θi − [ i+1 ] ,which is greater than or equal to the revenue of
[ i+1 ] ≥ k
[ i+1 ] ≥ k i=1 θiv k i=1 θiv i=j θiv
[ i ] +
θi+1)v V CGM . i=1 θib k
Now suppose that the efficient outcome is M , or equivalently for N P2D , the outcome with truthful bids is M . Consider the utility maximizing deviation for bidder max keeping the bids of the remaining bidders fixed , with respect to N P2D pricing and allocation . If the deviation leads to outcome S , then max bidding ( ∞ , 0 ) and all other bidders bidding truthfully is an equilibrium with outcome S since no bidder i = max can profitably deviate . If the deviation leads to outcome M , then just increase bmax to just below the threshold where the outcome of N P2D switches to S , i − where b is the vector of bids ie , set bmax = in which every bidder except max is bidding truthfully , and max is M bidding according to her profitable deviation . Setting bmax to this value does not affect the price of max herself after deviation , therefore , max does not have any profitable deviation with the current vector of bids . For any bidder i = max , decreasing M bid changes the outcome to S nonprofitably . Moreover , since bidder i is currently M bidding v i , increasing the M bid cannot be profitable either , since it can only result in negative utility for her . In either case , we have constructed an equilibrium of N P2D . Both of these bid [ i+1 ] ≥ vectors have revenue at least [ i+1 ] , which is at least as j−1 i=1 i(θi − θi+1)v
[ i+1 ] ≥k i=1 θiv Proof ( Theorem 46 ) Suppose ( bi , b i ) is an equilibrium vector of bids with outcome M in GSP2D . Since much as revenue of V CGM . i=1 θiv k k i=j θiv
[ i ] +

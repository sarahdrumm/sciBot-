Generalized Distances between Rankings
Ravi Kumar
Sergei Vassilvitskii
Yahoo! Research 701 First Avenue
Sunnyvale , CA 94089 .
{ravikumar,sergei}@yahoo inc.com
ABSTRACT Spearman ’s footrule and Kendall ’s tau are two well established distances between rankings . They , however , fail to take into account concepts crucial to evaluating a result set in information retrieval : element relevance and positional information . That is , changing the rank of a highly relevant document should result in a higher penalty than changing the rank of an irrelevant document ; a similar logic holds for the top versus the bottom of the result ordering . In this work , we extend both of these metrics to those with position and element weights , and show that a variant of the Diaconis–Graham inequality still holds — the generalized two measures remain within a constant factor of each other for all permutations .
We continue by extending the element weights into a distance metric between elements . For example , in search evaluation , swapping the order of two nearly duplicate results should result in little penalty , even if these two are highly relevant and appear at the top of the list . We extend the distance measures to this more general case and show that they remain within a constant factor of each other .
We conclude by conducting simple experiments on web search data with the proposed measures . Our experiments show that the weighted generalizations are more robust and consistent with each other than their unweighted counterparts .
Categories and Subject Descriptors . H3m [ Information Storage and Retrieval ] : Miscellaneous
General Terms . Algorithms , Experimentation , Theory
Keywords . Permutation distances , Kendall tau , Spearman footrule , metrics , retrieval measures
1 .
INTRODUCTION
The study of metrics for information retrieval is as old as the field itself , after all , it is impossible to evaluate a result without some sort of a measure . There are dozens of different metrics used in the literature , from classical ones like Kendall ’s tau and Spearman ’s footrule , neoclassical ones like MAP and NDCG , and much newer propositions , for example , rank distance [ 4 ] , ERR [ 5 ] , and others [ 1 , 7 , 21 ] . The preponderance of measures leads to a natural second order question : how does one measure the measures ? Copyright is held by the International World Wide Web Conference Committee ( IW3C2 ) . Distribution of these papers is limited to classroom use , and personal use by others . WWW 2010 , April 26–30 , 2010 , Raleigh , North Carolina , USA . ACM 978 1 60558 799 8/10/04 .
Evaluating metrics is indeed a difficult problem . There have been two approaches generally taken by the community . The first is axiomatic . Here the approach is to establish basic properties that the metric should obey , and then derive a measure that satisfies these properties . Kendall ’s tau and Spearman ’s footrule serve as leading examples of this approach ; a general version of DCG can also be seen in this light , if the axioms talk about a decreasing importance with rank and relevance .
A different approach is to exhibit a problem with one of the standard and accepted metrics , and propose a variation that fixes the problem . The new metric is then shown to generally correlate well with the old metric , except for the problematic examples , where it performs significantly better . Overtime , variations on these variations are introduced , and we are left with dozens of metrics to chose from and report in experimental evaluations .
In this paper we take an axiomatic approach . We argue that there are several criteria that any modern evaluation metric should satisfy . We describe these in turn .
( 1 ) Richness . By now it has become evident that there are three important factors to keep in mind when computing the distance between two orderings . The metric should support element weights , which represent the relevance of a particular document or result to the query . Intuitively , an error on a high weight element should be more significant than an error on a low weight element . In a similar vein , the position of the element in the list plays a large role with respect to the efficacy of the metric : errors at the top of the list are costlier than errors at the tail of the list , and any new metric should be reflective of this fact . Finally , diversity , and , more generally , interaction between results has been recognized as an important part of result evaluation . For example , returning five identical results may not lead to high user satisfaction even if individually each one of those results is extremely relevant .
( 2 ) Simplicity . One of the reasons metrics like Kendall ’s tau remain prominent , even when their shortfalls have been widely recognized , is their inherent simplicity . It is natural to count the total number of inversions , or look at the total 1 distance , as in the case of Spearman ’s Footrule . However , as the metrics get richer , this simplicity is often lost . Even the authors themselves lament that their new “ measure is not intuitive ” [ 4 ] .
( 3 ) Generalization . Notwithstanding the richness criteria , any proposed metric should collapse to a natural metric in cases where the richer criteria do not play a role . For example if all of the element weights are set to 1 , or all pairwise interactions are the same , the metric should simplify to one of the classic and well known metrics . In this sense , the new metric must generalize already existing metrics .
( 4 ) Basic properties . The proposed evaluation measure should satisfy some basic properties that make it easier to reason about . For example , it should be scale free : that is scaling all of the weights by a the same constant factor should not change the solution . It should be invariant under relabeling of the elements , and , ideally , should follow the triangle inequality : for two permutations σ and τ , the metric M should satisfy M ( σ , τ ) ≤ M ( σ ) + M ( τ ) .
( 5 ) Correlation with other metrics . Finally , a suite of metrics all capturing the same effect in different ways is much more powerful than a single new metric . Typically , all of these measures have good intuition underlying them , however the formal statement for the intuition takes on different forms . Therefore if two metrics are trying to capture the same effect , but disagree greatly on some of the examples , it typically implies that neither is fully capturing the effect in question . One of the best examples of this kind of correlation is the fact that while Kendall ’s tau and Spearman ’s footrule take very different ways of measuring distances between permutations , Diaconis and Graham [ 9 ] showed that the two measures are equivalent up to a factor of 2 . The correlation also gives freedom when trying to build on top of these metrics . As we illustrate in Section 5 sometimes solving the problem with respect to one optimization metric is NP hard , while using an equivalent metric leads to a polynomial time solution . 1.1 Our contributions
In this work we enrich the space measured by Spearman ’s footrule and Kendall ’s tau to satisfy the first condition above . We give new formulations of these metrics that capture element weights , position weights , and pairwise distances between permutations , while at the same time retaining their classical form . The generalized footrule distance can be seen as an 1 distance on the right metric space , and the generalized Kendall ’s tau has a term for every inverted pair . We show that even though they take on very different forms , the generalized versions of these two metrics remain within a factor of three of each other , and collapse to their classical variants when all of the weights and pairwise distances are set to 1 .
2 . RELATED WORK
The subject of distances between permutations ( or ranked lists ) has a rich and long history . Perhaps the two most popular measure are Spearman ’s footrule distance [ 20 ] , which measures the 1 distance between ranks and Kendall ’s tau [ 15 ] , which measures the total number of pairwise inversions . In a celebrated result , Diaconis and Graham [ 9 ] showed that these two measures are always within a factor of two from each other . See the book by Diaconis [ 8 ] for discussions on other metrics on permutations .
In the context of web information retrieval many new measures have been developed over the years . Average precision ( AP ) and reciprocal rank ( RR ) are two popular metrics that can be seen as distances on permutations of binary strings ( where each document is marked to be either relevant or not relevant ) . To quantify the importance of the top few positions over the bottom ranks , the set of measures was expanded to compare only the top k rankings , for a given value of the cut off k [ 12 ] . More generally , a metric like NDCG [ 14 ] uses a scoring function that decays with the rank of the document . Recently Yilmaz et al . [ 21 ] and Carterette [ 4 ] argued that the lack of this feature makes Kendall ’s tau is a poor metric because , because it penalizes equally inversions near the head and near the tail of a list . In a new take on a difficult related problem , D’Alberto and Dasdan [ 7 ] address the sparsity issue often prevalent in web result evaluation and describe distance measures on incomplete permutations ; see also [ 3 , 11 ] .
In addition to decreasing with the rank , NDCG also combines the relevance ( or weight ) of the document into the final score . This variant has been considered in the statistics literature as well . For example Shieh et al . [ 18 , 19 ] give a version of Kendall ’s tau distance , where every inversion is weighted in proportion to the product of the two element weights . However , this work does not focus on its “ metric ” like properties . In fact , [ 18 ] work with a generalization of Spearman rho ( a L2 version of footrule ) that takes position weights into account . Once again , there is no formal analysis of its properties ( or its relationship to a Kendall variant ) . Sculley [ 17 ] proposed extending Kendall ’s tau to incorporate itemitem similarity using a notion of “ similarity projections ” ; his extension , however , does not appear amenable to our analysis .
A growing area of research has recently focused on incorporating diversity into search metrics . The cascade model [ 6 ] , and the follow up work by Agrawal et al . [ 1 ] and Chapelle et al . [ 5 ] show that earlier results have a profound effect on the perceived relevance of results further in the list and present several new metrics to take that into account .
A different strand of research uses distances between permutations to solve the rank aggregation problem : given a number of different orderings of results , find the most agreeable ordering . This problem has been extensively studied by Dwork et al . [ 10 ] and Fagin et al . [ 13 ] , and has a close relation to the Feedback Arc Set ( FAS ) problem on tournament graphs [ 2 , 16 ] .
3 . BASIC DEFINITIONS Let [ n ] = {1 , . . . , n} be a universe of elements . Let Sn be the set of permutations on [ n ] and for σ ∈ Sn , let σ(i ) denote the rank of the element i . There are two well known metrics that evaluate the distance between two permutations σ , τ ∈ Sn : the Spearman ’s footrule distance F ( σ , τ ) and the Kendall ’s tau K(σ , τ ) . Before we state the definitions , we note that these metrics do not depend on the actual identity of elements ( such metrics are called invariant ) . Hence , it suffices to consider F ( σ ) = F ( σ , 1 ) and K(σ ) = K(σ , 1 ) , where 1 is the identity permutation . Now we proceed with the formal definitions .
( 1 ) The Spearman ’s footrule distance is given by
F ( σ ) =
|i − σ(i)| ;
( 1 )
X i
X this measures the total element wise displacement from the identity permutation .
( 2 ) The Kendall ’s tau is given by
K(σ ) =
[ σ(i ) < σ(j ) ] ;
( 2 ) this measures the total number of pairwise inversions .
( i,j):i>j
In a celebrated result , Diaconis and Graham [ 9 ] showed1 that these metrics differ by at most a constant factor ( such pair of metrics are said to be equivalent ) .
Theorem 1
( Diaconis–Graham ( DG ) inequality ) .
For all σ ∈ Sn , K(σ ) ≤ F ( σ ) ≤ 2K(σ ) .
This inequality is in fact tight .
All the metrics we will define in the paper are invariant metrics . Note that if M is an invariant metric on Sn , then M is symmetric provided ∀σ , M ( σ ) = M ( σ−1 ) . Indeed , M ( σ , τ ) = M ( στ−1 ) = M ( (στ−1)−1 ) = M ( τ σ−1 ) = M ( τ , σ ) , where the first and last equalities follow from invariance and the second equality follows from the premise . Also , to make our exposition simpler , we will not normalize our metrics to be in [ 0 , 1 ] or [ −1 , 1 ] . 3.1 Element weights
For i ∈ [ n ] , let wi > 0 be the weight of an element ; let w = w1 , . . . , wn . For the remainder of the paper , we assume that the weights are integral , ie , wi ∈ Z+ ; all of the results , however , follow for non integral weights as well .
There are many ways to define a weighted analog of Kendall ’s tau ( Kw ) and Spearman ’s footrule ( Fw ) . For example , to define Kw , one can stipulate that an inversion of elements i and j should have a penalty proportional to some average of their weights , say wi+wj , or to their product , wiwj . Alternatively , one may define Fw where each displacement is scaled by the weight of the element i that is displaced , say , wi|i− σ(i)| . We strive to find a variant of Kendall ’s tau and Spearman ’s footrule so that the measures continue to be equivalent , up to a small constant factor .
2
We define the weighted version Kw of Kendall ’s tau by penalizing each inversion proportionally to the product of the weights of the two elements being inverted :
Kw(σ ) = wiwj [ σ(i ) < σ(j ) ] .
( 3 )
The weighted footrule Fw is defined to be :
X i
X wj − X j:j≤i j:σ(j)≤σ(i )
Fw(σ ) = wi
˛˛˛˛˛˛ . wj
( 4 )
The inner term measures the sum of weights of elements that span the displacement of element i .
Note that if all of the weights are uniformly unit , ( 3 ) and
( 4 ) collapse to ( 2 ) and ( 1 ) respectively .
Example . Consider the permutation σ([abc ] ) = [ bca ] , and let wa = 1 , wb = 2 , and wc = 3 . Then Kw(σ ) = 1·2+1·3 = 5 and Fw(σ ) = 1 · ( 2 + 3 ) + 2 · 1 + 3 · 1 = 10 . Notice that in this case Kw(σ ) and Fw(σ ) are a factor of 2 apart . As we will show later , these two metrics are always within a factor of two of each other . 3.2 Position weights
As we discussed earlier , in addition to element weights , we wish to define a distance that penalizes inversions early in the permutation more than inversions late in the permutation . We therefore introduce position weights to differentiate
1Actually , they show something stronger , but we will not be concerned about the stronger version . i>j
X ˛˛˛˛˛˛ between inversions occurring near the head or the tail of a permutation .
In order to study the effect of position weights we first model the cost of a swap between two adjacent positions . Let δi be the cost of swapping an element at position i − 1 with an element at position i ; let δ = δ1 , . . . , δn . In the traditional version of Kendall and footrule metrics , δi = 1 for all i , and thus all swaps have the same cost . As with element weights , we assume that δi ≥ 0 for all i . Let p1 = 1 j=1 δj . For notational purposes , pi − pσ(i ) i − σ(i ) and for 1 < i ≤ n , pi =Pi−1
¯pi(σ ) = let
, be the average cost that i encountered in moving from position i to position σ(i ) , where ¯pi = 1 if i = σ(i ) . By the monotonicity of the pi ’s , we have ¯pi(σ ) > 0 for all i .
We are now ready to define the position weighted versions
Spearman ’s footrule ( Fδ ) and Kendall ’s tau ( Kδ ) : i<j
X ˛˛˛˛˛˛ X j:j≤i
Kδ(σ ) =
¯pi(σ)¯pj(σ ) [ σ(i ) > σ(j ) ] .
X i
Fδ(σ ) =
¯pi(σ )
¯pj(σ ) − X j:σ(j)≤σ(i )
¯pj(σ )
˛˛˛˛˛˛ .
( 5 )
( 6 )
Note that if ∀i , δi = 1 , then ∀i , ¯pi(σ ) = 1 . Hence for unit swap costs , ( 5 ) and ( 6 ) collapse to ( 2 ) and ( 1 ) respectively .
Example Let σ([abc ] ) = [ bca ] as before , and let δ1 = 1 , δ2 = 05 Then ¯pa = 0.75 , ¯pb = 1 , and ¯pc = 05 We get Kδ(σ ) = 1.125 and Fδ(σ ) = 225 3.3 Element similarities
While position weights address the question of swaps occurring near the beginning or an end of a permutation , many times the importance of the swap crucially depends on the similarity of the elements being swapped . In an extreme case , swapping two identical elements should result in no change to the metric , whereas swapping two radically different elements should result in a large effect , even if the weights are small and the elements are in adjacent positions . To formally describe this , we define a distance metric on elements . Let D : [ n ] × [ n ] be a non empty metric on Sn and let Dij be the cost of a swap of elements i and j ; clearly , D is a metric and for three elements i , j , k , we have
Dik ≤ Dij + Djk .
( 7 )
The generalization of Kendall ’s tau ( KD ) and Spearman ’s footrule ( SD ) to incorporate element distances is most evident in the former , where we scale each inversion by the distance between the pair of elements inverted .
And , likewise , we define
KD(σ ) =
Dij [ σ(i ) > σ(j ) ] .
( 8 )
X
˛˛˛˛˛˛ i j:j≤i
Dij − X j:σ(j)≤σ(i )
Dij
˛˛˛˛˛˛ .
( 9 )
D(σ ) =
F
X i<j
X
Observe that when D is the unit metric , ( 8 ) and ( 9 ) collapse to ( 2 ) and ( 1 ) respectively . Notice that the definition of F
D above is asymmetric and we symmetrize it as
FD(σ ) =
D(σ ) + F
D(σ
−1) ) .
( F
1 2
( 10 )
3.4 The general definition
Finally , we can combine element weights , position weights , and element similarities into one single definition .
( Generalized Kendall ’s tau ) . Given wiwj ¯pi ¯pjDij [ σ(i ) > σ(j ) ] .
( 11 )
Definition 3
( Generalized Spearman ’s footrule ) .
Definition 2 w , δ , D , for σ ∈ Sn , let
∗
K
= Kw,δ,D(σ ) =
X i<j
Given w , δ , D , for σ ∈ Sn , let
∗
F w,δ,D(σ ) =
= F
X
˛˛˛˛˛˛
·
X j:j≤i wi ¯pi(σ ) i wj ¯pj(σ)Dij − X j:σ(j)≤σ(i )
˛˛˛˛˛˛ . ( 12 ) wj ¯pj(σ)Dij
The above footrule version can be symmetrized as before and from now on , we will only work with the symmetric version F ∗ .
4 . PROPERTIES 4.1 Basic characteristics
We first show a reduction from the element weighted case to the unweighted case .
Lemma 4 . Given w , for any σ , there is a τ such that
Kw(σ ) = K(τ ) and Fw(σ ) = F ( τ ) .
1 , . . . , i
Proof . Recall that all of the weights are assumed to be integral . Therefore we can divide an element i of weight wi > 0 into wi sub elements i wi , each of weight 1 . Consider a permutation τ that keeps all of the subelements in the same order , but reorders these blocks based on σ . Formally , τ ( i ( For example , if σ([abc ] ) = ( [bca ] ) and wa = 1 , wb = 2 , wc = 3 , then the corresponding τ is : τ ( [a 2c 1c 1]) . ) In k ) = k +P what follows , denote by pos(i ) =P j:σ(j)<σ(i ) . 2c 3 ] ) = [ b 1b j:j<i wj .
3a
2c
2c
1b
1b
1c
First , consider the set of inversions produced by σ . Each inversion i , j in σ results in wi · wj inversions in τ , since every sub element of i is inverted with every sub element of j . This implies that Kw(σ ) = K(τ ) . In addition ,
X i
X X X i j=1
|pos(i ) + k − ( k + wiX wiX |pos(i ) − X wi|pos(i ) − X j=1 j:σ(j)<σ(i ) wj| j:σ(j)<σ(i ) wj|
F ( τ ) =
=
= wj)| i j:σ(j)<σ(i )
= Fw(σ ) .
Next we show how to transform the position weight case into an element weight case .
Lemma 5 . Given δ , for any σ , there is a w such that
Kδ(σ ) = Kw(σ ) and Fδ(σ ) = Fw(σ ) .
Proof . Fix σ and let wi = ¯pi(σ ) . Then , from ( 5 ) and ( 3 ) , we have Kδ(σ ) = Kw(σ ) . Likewise , from ( 6 ) and ( 4 ) , we have Fδ(σ ) = Fw(σ ) . It is important to note that the element weights here are not oblivious — they actually depend on the permutation σ that is being considered .
Finally we show that the metrics are scale invariant . Lemma 6 . Given w , δ , and a metric D , let w = c1 · w , δ = c2 · δ , and D = c3 · D for some constants c1 , c2 , c3 > 0 . Then for any σ , Kw,δ,D ( σ ) = c·Kw,δ,D(σ ) and Fw,δ,D ( σ ) = Fw,δ,D(σ ) , where c = c2 2c3 . 4.2 Metric properties
1c2
It is easy to see that both K∗ and F ∗ do not depend on the actual identity of the elements , as long as relabeling an element affects neither its weight nor its similarity to other elements . Hence , these are invariant distances . Since we assume w > 0 , δ > 0 , and D to a non empty metric , K∗(σ ) = 0 = F ∗(σ ) if and only if σ = 1 . Furthermore , by our definition , we have K∗(σ ) = K∗(σ−1 ) and F ∗(σ ) = F ∗(σ−1 ) . This guarantees symmetry .
For triangle inequality , notice that Lemma 4 and Lemma 5 show that Kw , Fw , Kδ , Fδ satisfy the triangle inequality . It only remains to show the triangle inequality for the element similarity case , ie , KD and FD also satisfy the triangle inequality .
First , we consider the element similarity version of Kendall ’s tau . Interestingly , the proof does not use the metric property of D .
Lemma 7 . Given D , for all σ , τ , KD(σ , τ ) ≤ KD(σ ) +
KD(τ ) .
Proof . We will use ( 8 ) and show that the triangle inequality holds point wise . Indeed , consider a pair i , j of inversions between σ and τ . Without loss of generality , let σ(i ) > σ(j ) and τ ( j ) < τ ( i ) . If i < j , then , i , j is inverted in σ and if i > j , then i , j is inverted in τ .
We next prove that the Spearman footrule with element similarities satisfies the triangle inequality . Interestingly , the triangle inequality is not satisfied point wise , ie , it is easy to construct examples such that for each fixed i , the term in ( 12 ) fails to satisfy the triangle inequality . Unlike the Kendall tau case , this proof crucially uses the fact that D is a metric ( otherwise , there are simple counter examples ) .
Lemma 8 . Given a metric D , for all σ , τ , FD(σ , τ ) ≤
FD(σ ) + FD(τ ) .
Proof . Recall that our goal is to prove that for two permutations σ , τ , FD(σ , τ ) ≤ FD(σ ) + FD(τ ) . We will do that by examining the occurrences of a specific Dij on both the LHS and RHS of the desired inequality .
First , we define an unordered interval I(a , b ) to be [ a , b ] if a < b and [ b , a ] otherwise . We define the box of an element i with respect to σ , τ ∈ Sn to be the multi set boxσ,τ ( i ) ={j : σ(j ) ∈ I(σ(i ) , τ ( i))} ∪
{j : τ ( j ) ∈ I(σ(i ) , τ ( i))} , where the union is a multi set union ( the multiplicity of each element is at most 2 ) . If τ = 1 , we simply abbreviate it as boxσ(i ) .
Informally , boxσ(i ) consists of all the elements that do not cancel out in the inner summation in ( 9 ) , for a fixed i . In fact , each occurrence of Dij in the expression for FD(σ ) is the sum of the multiplicity of j in boxσ(i ) and the multiplicity of i in boxσ(j ) . Moreover , it is easy to verify that if i , j is inverted between σ and τ , then boxσ(i ) ∩ boxσ(j ) = ∅ . Note that the converse of this statement is not necessarily true .
Now , consider a specific Dij . We first claim that in any expression for FD(σ , τ ) , the term Dij can occur 0 , 2 , 3 , or 4 times . Clearly if boxσ,τ ( i ) ∩ boxσ,τ ( j ) = ∅ , then the term Dij never occurs . If σ(i ) = τ ( j ) and τ ( i ) = σ(j ) , then it can be seen that Dij occurs four times . If only one of these conditions is satisfied , then Dij occurs thrice and if neither is satisfied , but the boxes of i and j intersect , then Dij occurs twice . Our goal now is to show that each occurrence of Dij on the LHS is matched by an occurrence of value Dij or more on the RHS . Suppose Dij occurs twice on the LHS . If boxσ(i)∩boxσ(j ) = ∅ , then we will have at least two occurrences of Dij on the RHS . If boxσ(i ) ∩ boxσ(j ) = ∅ , then it follows that i , j is not inverted in σ . In this case , one can check that boxτ ( i ) ∩ boxτ ( j ) = ∅ , yielding at least two occurrences of Dij on the RHS . Note that in the latter case , i , j need not be inverted in τ , but the boxes will intersect .
Suppose Dij occurs thrice on the LHS . While the analysis for the two occurrence case can still be applied here to match two occurrences of Dij , we still need to account for the third occurrence of Dij . Now observe that there is some k such that σ(i ) = k = τ ( j ) ( the case when σ(j ) = k = τ ( i ) is similar ) . It follows i ∈ boxσ(k ) and j ∈ boxτ ( k ) . Therefore , both the terms Dik and Dkj will occur on the RHS . ( Note that these terms cannot “ claimed ” elsewhere since k is uniquely defined by both i and j . ) By the triangle inequality ( 7 ) , we can account for the third occurrence of Dij on the LHS by the term Dik + Dkj ≥ Dij on the RHS .
The case when Dij occurs four times on the LHS is similar . We will have σ(i ) = k1 = τ ( j ) and σ(j ) = k2 = τ ( i ) and the triangle inequality ( 7 ) has to be applied twice . 4.3 Equivalence
In this section our goal is establish the equivalence relationship between F ∗ and K∗ . We proceed to do this by a series of reductions . We first show that the Diaconis–Graham inequality holds “ as is ” between Kw and Fw and between Kδ and Fδ .
In the case of element weights , we show that Kw and Fw are equivalent up to a factor of 2 .
Theorem 9 . For all σ and w , Kw(σ ) ≤ Fw(σ ) ≤ 2Kw(σ ) . Proof . This follows from the reduction in Lemma 4 and then applying Theorem 1 .
Next , we show that Kδ and Fδ are equivalent up to a factor of 2 .
Theorem 10 . For all σ and δ , Kδ(σ ) ≤ Fδ(σ ) ≤ 2Kδ(σ ) . Proof . This follows from Lemma 5 and then applying
Theorem 9 .
Moreover , the factor of 2 is the best possible . Consider a three element unweighted example , σ([abc ] ) = [ bca ] . Then the footrule distance is 4 , while Kendall ’s tau is 2 .
In the case of element similarities , recall that for any two elements i and j the cost of inverting these two elements is Dij . We show that the KD and FD differ by at most a factor of 3 from each other .
We begin with a simple classification of the inversions in KD . ( 1 ) Type I : an inversion i , j is a type I inversion if σ(j ) ∈ [ i , σ(i ) ] or σ(i ) ∈ [ j , σ(j) ] . Note that in this case the term Dij appears both in the calculation of Kendall ’s tau and in Spearman ’s footrule . ( 2 ) Type II : an inversion i , j is a type II inversion if σ(j ) < i < j < σ(i ) . In this case the term Dij appears in the expression for KD but not in FD .
We now develop a notion of a valid mapping that will be helpful . Let Bi be the set of elements that form inversions of type II with i : Bi = {j : σ(j ) < i < j < σ(i)} . These are the bad elements for i . On the other hand , for a given i , consider the elements Gi = {k : σ(k ) ≥ i} . These are the good elements , and we will map each bad element j ∈ Bi to one good element k ∈ Gi .
Definition 11 . A mapping µ : ∪iBi → ∪iGi is valid if the following four properties hold : ( a ) ∀i , j , j ∈ Bi µi(j ) = µi(j ) , ( b ) ∀i , i , j ∈ Bi ∩ Bi µi(j ) = µi ( j ) , ( c ) ∀i , j ∈ Bi σ(µi(j ) ) ∈ [ i , σ(i) ) , and ( d ) ∀i , j ∈ Bi σ(µi(j ) ) ∈ [ j , σ(j) ) . We emphasize that the mapping µ is different for each permutation σ . We now proceed to define a mapping µ and prove that it is valid . Let Bi and Gi as before , and let βi(j ) = |{j ∈ Bi , j < j}| , ie , the number of elements j in Bi that precede j . Similarly , let γi(k ) = {k ∈ Gi , σ(k ) < σ(k)} , ie , the number of elements in Gi that precede k . We define the mapping µ as :
µi(j ) = {k : βi(j ) = γi(k)} .
Lemma 12 . The mapping µ is valid . Proof . To show property ( a ) , fix i and consider j , j ∈ Bi . Since the elements j and j have different βi , µi(j ) = µi(j ) . For properties ( c ) and ( d ) , observe that for all k ∈ Gi , k > i > σ(j ) . On the other hand , by definition of βi and γi , σi(j ) ≤ j . Therefore σi(j ) ≤ j < σ(i ) . It remains to prove property ( b ) . Consider i , i with i > i and an element j so that j ∈ Bi and j ∈ Bi . We claim that µi(j ) = µi ( j ) . Suppose by contradiction that the two were equal . Then , there is some element k = µi(j ) = µi ( j ) , and therefore βi(j ) = γi(k ) and βi ( j ) = γi ( k ) . Equivalently , βi ( j ) − βi(j ) = γi ( k ) − γi(k ) . From the definition of γi , we can conclude that γi ( k ) − γi(k ) = i − i . On the other hand , we will show that βi ( j)−βi(j ) < i−i , and hence property ( b ) holds . In what follows we say that an element j contributes to βi(j ) if j ∈ Bi and j < j .
Consider the elements that contribute to βi ( j ) . Since all of these elements are in Bi they must lie in the range of ( i , j ) . We split this range into three groups : ( i , i ) , the element i , and ( i , j ) . To maximize βi ( j ) , we can assume that all of the elements from the first group contribute to it . The total number of such elements is i − i − 1 . Now consider the element i that forms the second group . Since j ∈ Bi∩Bi , we know that i , i < j < σ(i ) , σ(i ) . Since i < i we have i < i < σ(i ) , and therefore i ∈ Bi . Thus i does not contribute to βi ( j ) .
Finally , we show that every element in the third group that contributes to βi ( j ) also contributes to βi(j ) . Therefore the contribution is canceled out when looking at the difference of βi ( j ) − βi(j ) . Formally we must prove that if j ∈ Bi ∩ ( i , j ) , then j ∈ Bi . To show that any such j ∈ Bi we must show that ( i ) σ(j ) < i , which follows since σ(j ) < i < i and ( ii ) i < j , which is true since j ∈ ( i , j ) , and ( iii ) j < σ(i ) , which is true since j < j < σ(i ) . Therefore any element that contributes to βi ( j ) but not to βi(j ) must come from the interval ( i , i ) and there are at most i − i − 1 such elements .
Now , we are ready to show that the generalized Kendall tau is never much larger than the Spearman footrule distance .
Lemma 13 . For all σ and metrics D , KD(σ ) ≤ 3FD(σ ) . Proof . The basic idea is to explicitly map each term of KD to a term of FD so that no term of FD has more than three terms of KD mapped to it . We charge the inversions of different types separately . For each i , j inversion of type I the Dij term appears both in KD and in FD . Now suppose that i , j is an inversion of type II , then the term Dij appears in KD but not in FD . Since D defines a metric , by the triangle inequality ( 7 ) , we can conclude that for any µi(j ) ,
Dij ≤ Diµi(j ) + Dµi(j)j .
Since µ is a valid mapping , property ( c ) ensures that µi(j ) ∈ ( i , σ(i ) and thus the term Diµi(j ) appears in FD . Similarly , since µi(j ) ∈ ( j , σ(j) ) , the term Dµi(j)j appears in FD . Thus we have can charge each inversion of type II to two terms that appear in FD . To complete the proof , observe that no term in FD can be charged more than three times : the first time by the inversions of type I , and then at most twice by the type II inversions . The latter claim follows from properties ( a ) and ( b ) of µ .
Having shown that KD < 3FD , we proceed to showing the converse . The proof follows the same structure as the proof of Lemma 13 . We begin by categorizing the types of terms that appear in FD into those that appear in KD as well , and those that do not . For the latter group , we construct a mapping ν that maps each term to two inversions in KD so that no inversion is mapped to at most twice .
We start by dividing all terms that appear in FD(σ ) into two categories . ( 1 ) Type I term : a pair i , j is a term of type I if σ(j ) ∈ [ i , σ(i ) ) and j > i . Then i , j form an inversion and the term Dij appears both in FD and in KD . ( 2 ) Type II term : a pair i , j is a term of type II if σ(j ) ∈ [ i , σ(i ) ) and j < i . Then the term Dij appears in FD but does not appear in KD since i and j are We will map each term of type II to a pair of inversions . To define the mapping , let Pi = {j : j < i ≤ σ(j ) < σ(i)} ( these are the items that form type II terms with i ) and Qi = {k : σ(k ) ≤ i < k} .
Definition 14 . A mapping ν : ∪iPi → ∪iQi is valid if it satisfies the following four properties :
νi(j ) = νi(j ) .
νi(j ) = νi ( j ) .
( a ) ∀i , j , j ∈ Pi ( b ) ∀i , i , j ∈ Pi ∩ Pi ( c ) ∀i , j ∈ Pi ( d ) ∀i , j ∈ Pi i and νi(j ) form an inversion . j and νi(j ) form an inversion .
As before , we construct a mapping ν and prove that it is a valid mapping . Let Pi and Qi as above . For an element j ∈ Pi denote by πi(j ) = |{j ∈ Pi : i ≤ σ(j ) < σ(j)}| the number of elements in Pi that precede σ(j ) . For an element k ∈ Qi denote by ξi(k ) = |{k ∈ Qi|k < k}| . We define the mapping ν as
νi(j ) = {k : πi(j ) = ξi(k)} .
Lemma 15 . The mapping ν is valid . Proof . To show property ( a ) , fix i and consider j , j ∈ Qi . Sine j and j have different πi values , νi(j ) = νi ( j ) . Now consider i , i with i > i and an element j ∈ Qi ∩ Qi . We claim that νi(j ) = νi ( j ) . Suppose otherwise , and let k = νi(j ) = νi ( j ) . Then πi ( j ) − πi(j ) = ξi ( k ) − ξi(k ) . From the definition of π , we have that πi ( j)− πi(j ) = i− i . On the other hand , consider the maximum value of ξi ( k)− ξi(k ) . The elements that contribute to ξi(k ) can be divided into three groups . Those in the interval ( i , i ) , the element i and those in the interval ( i , k ) . To maximize ξi(k ) , we can assume that all of the elements in the first interval contribute to it ; there are i− i − 1 such elements . The element i is not in Qi therefore it does not contribute to the value of ξi ( k ) . Finally , for elements k ∈ ( i , k ) , if any such k ∈ Qi then it is also in Qi , and therefore contributes equally to ξi(k ) and to ξi ( k ) . Therefore the maximum value for ξi(k ) − ξi ( k ) = i − i − 1 .
It is easy to check that properties ( c ) and ( d ) follow .
We can now show that the generalized Spearman distance is never much larger than the generalized Kendall tau .
Lemma 16 . For all σ and metrics D , FD(σ ) ≤ 3KD(σ ) . Proof . We charge each term separately . For terms of type I , Dij appears both in FD and in KD . Let Dij be a term of type II . By the triangle inequality ( 7 ) , we can conclude that Dij ≤ Diνi(j ) + Dνi(j)j for any νi(j ) . Furthermore , since ν is a valid metric , νi(j ) forms inversions with both i and j , and therefore the terms Diνi(j ) and Dνi(j)j appear in KD . Finally , any term Dij can be charged at most three times — once by terms of type I and at most twice by terms of type II . The proof is complete .
Finally , putting all of these together , we obtain the main result .
Theorem 17
( Generalized DG inequality ) . For all σ , ( 1/3)F ∗(σ ) ≤ K∗(σ ) ≤ 3F ∗(σ ) .
We note that the left inequality is tight by giving an example where F ∗ = 3K∗ . On the other hand we conjecture that K∗ ≤ F ∗ , but proving that remains an open problem . To show that F ∗ = 3K∗ , consider a simple permutation on three elements σ([abc ] ) = [ bca ] . There are two inversions ( namely a is inverted with both b and c ) and thus K∗ = Dab + Dac . On the other hand F ∗ = Dab + Dac + Dbc + Dca . Setting Dac = Dbc = 1 and Dbc = 0 ensures that D is a metric and K∗ = 1 while F ∗ = 3 .
5 . DISCUSSION
6 . EXPERIMENTS
We have presented a generalized version of Kendall ’s tau and Spearman ’s footrule metrics that take into account the element weights , their position in the permutation and pairwise distance when computing the distance between two permutations . Importantly , these two new metrics address the desiderata put forth in the Introduction . They are rich enough to handle the modern requirements on a metric , especially in the context of web search results . They remain relatively straightforward : for example , the generalized Kendall ’s tau simply scales the score of each inversion by the pairwise distance between the inverted element and their element and position weights . They are indeed true generalizations : when all of the weights , and distances are set to 1 , we recover the original Kendall ’s tau and footrule distances . Although not at first evident , we proved in Section 4.1 that the two measures satisfy all of the basic properties — they are right invariant , scale free , and satisfy the triangle inequality . Finally , we showed that these two metrics are equivalent , and regardless of the setting of the element and position weights and the instantiation of the metric space D , they will always be within a factor of three from each other . Below , we give a practical application of this invariance . 5.1 Generalized rank aggregation that minimizes the total footrule distancePk minimizes the total Kendall distance : Pk
Consider , the rank aggregation problem : given a set of disparate rankings : σ1 , . . . , σk , find one that minimizes the total disagreement . Since there are two ways to measure disagreement we can define two versions of the problem . In the footrule version , we strive to find a permutation σ∗ F , i=1 F ( σ−1σ∗ F ) . In the Kendall version , we wish for a permutation σ∗ K that i=1 K(σ−1σ∗ K ) . A priori , both problems look daunting : a direct approach to finding σ∗ K is to solve the feedback arc set problem ( FAS ) . Here we have a node for each element , and a directed edge between i and j with the weight set to the number of permutations in which i precedes j . Solving the FAS problem on the resulting tournament graph ( since there is an edge between any pair of nodes ) would lead to an optimal σ∗ K . Unfortunately the FAS problem is NP hard , even on tournament graphs [ 2 , 16 ] , so we can at best hope for an approximation ; even so while a PTAS for this problem exists , it is far from practical . On the other hand , Dwork et al . [ 10 ] show how to find σ∗ F in polynomial time via a simple minimum cost perfect matching algorithm . The equivalence of F and K allows us to to conclude that σ∗ F is a non trivial 2 approximation to σ∗ K . A trivial 2 approximation exists because the distance is a metric : one of the input rankings achieves this factor .
The equivalence can work in the opposite direction as well . Consider the same rank aggregation problem with generalized footrule and Kendall ’s tau . The addition of element , position and distance weights means the minimum cost matching formulation used by [ 13 ] no longer applies . However , the FAS formulation still holds — the cost of each directed ( i , j ) edge becomes the total contribution to the ( i , j)th term of K∗ by the rankings where i > j . Now we can find an approximation to σ∗ K either by using the PTAS in [ 16 ] or the Quick Select algorithm in [ 2 ] .
In general it is not easy to evaluate a new ranking function , especially due to the lack of a suitable ground truth . Instead of focusing on how our new measures correlate with widely used relevance measures such as mean average precision or DCG , we focus on the robustness of our measures . In particular , we study how our generalizations utilize the additional information ( such as the element weights , or the position weights ) available to them in order to provide a better understanding on rankings . We also focus on a specific application in web search : finding queries where a particular search engine performs badly . 6.1 Data
The data we use for our experiments are from two realworld sources . Our first dataset , called D1 , is a subset of search clicks from Yahoo! search , for a week period in September 2009 . For each query with at least a thousand total clicks , we track the number of clicks at each position and retain these counts only for the top ten positions . The resulting dataset has about 80,000 queries . Note that the number of clicks naturally induces a permutation ( there may be some ties , but these will be broken arbitrarily ) on {1 , . . . , 10} .
We will use this permutation in our experiments , with three different types of position weights , in addition to the unweighted case ( called UNIT ) .
( 1 ) DCG : Here , we set
δi =
1 log(i + 1 )
−
1 log(i + 2 )
.
This corresponds to weighing each position by the standard position weight used in DCG computations . ( 2 ) CTR : Here , we set δi = ctri − ctri+1 , where ctri is the aggregated click through rate at position i . This corresponds to penalizing each swap by the amount of the clickthrough rate lost . Table 1 shows the actual values we used in our experiments . ( 3 ) TOPK : Here , we use a step function to simulate the top k ranking . For i ≤ 5 , we set δi = 1 and for i > 5 , we set δi = 0 . This means there is no penalty for swapping after the fifth position .
Our second dataset , called D2 , is a subset of humanlabeled judgments for a number of queries . Each query has the top five results judged into four scales from 0 ( meaning worst ) to 3 ( meaning best ) . This data has about 140,000 queries and its associated judgments . The judgments induce a permutation ( actually , a partial order , but we will break ties arbitrarily ) on the top five positions ; we will use this permutation in our experiments . The editorial labels give a natural weighting for elements ( called EDIT ) . As before , we use UNIT to denote the unweighted case . 6.2 Tightness of the equivalence
Our first experiment concerns the tightness of the inequality given by Theorem 17 . We are interested in how much the Kendall ’s tau and Spearman footrule vary ( as a ratio ) for various choices of the position weights . To do this , we use the dataset D1 . The top panel in Figure 1 shows the scatter plot of Kendall vs footrule values , for the DCG position weight . The two envelopes are the lines y = x and y = 2x . From the plot we can see that if the Kendall value itself is small , the footrule value is nearly twice as big , with the majority of the points near the upper envelope . On the
Position i
1
2
3
4
5
6
7
8
9 ctri
.488
.146
.089
.066
.051
.041
.033
.029
.027
10 .027
Table 1 : Click through rates used in our experiments as position weights . other hand , if the Kendall ’s tau value is itself large , then the footrule value is closer to the Kendall ’s tau . In contrast , the bottom panel in Figure 1 shows the same plot for D1 , using the unweighted versions of the metrics . Here , the points are always distributed more towards the upper envelope showing a greater discrepancy between the two measures . This can be explained by the fact that when the Kendall ’s tau value is large , the permutations are very different , and DCG position weights reduce the effect in the lower positions . This is precisely what we want in a ranking measure .
Figure 1 : The ratio of the measures for D1 with DCG position weight and with unit weights .
6.3 Correlation among the measures
In practice , should one use Kendall ’s tau or the footrule measure ? Both have their advantages and disadvantages , ranging from computability to interpretability . A point to note is that even though Theorem 17 shows that generalized measures are equivalent , it is not clear how much these measures themselves are correlated : given two permutations σ , τ , how correlated are the four quantities K∗(σ ) , K∗(τ ) , F ∗(σ ) , F ∗(τ ) ? Ideally , we would like to show that the weighted versions are better correlated with one another in practice than their unweighted counterparts . We study the error in correlation for two sequences X = {xi} and Y = {yi} , defined as follows :
( X , Y ) = 1 − E[XY ] − µ(X)µ(Y ) where µ(X ) = E[X ] , σ2(X ) = E[(X − E[X])2 ] .
σ(X)σ(Y )
,
In our application , for a particular setting of either the position weights or element weights , we take X to be the Spearman ’s footrule values and Y to be the Kendall ’s tau values ; for such a choice , we define Z to be the point wise ratio Z = {xi/yi} . We study E[Z ] , the average ratio of the footrule to Kendall ’s tau values , σ(Z ) , its standard deviation , and ( X , Y ) , the correlation error between the two values . Table 2 shows these values for our datasets and various weighting schemes .
E[Z ]
UNIT 1.756 DCG 1.756 CTR 1.806 TOPK 1.767
UNIT 1.799 EDIT 1.721
σ(Z ) D1 0.248 0.273 0.268 0.262 D2 0.354 0.342
( X , Y )
0.040 0.022 0.026 0.026
0.058 0.040
Table 2 : Correlation between weighted Kendall and footrule measures .
As we can see from the results , all of the weighted versions have much less correlation error than the unweighted versions , for both D1 and D2 . The average value of the ratio is away from 2 ( the upper bound ) in all cases . Interestingly , the variance is more for the weighted measures , this , once again , can be explained by their emphasis on the higher positions . 6.4 Finding the worst queries
In this section we illustrate the robustness of our weighted measures via a simple application : the goal is to find the worst performing queries in a search engine . For D1 , these are the queries whose click ordering is furthest away from the result ordering . For D2 , these are the queries whose editorial judgments are disagree the most with the result ordering .
We wish to illustrate the robustness of the weighted measures by asking the following question : suppose one were to use the unweighted Kendall ’s tau or footrule measure to pull out the k most egregious queries ? How sensitive is this to the choice of the metric , ie , whether we use Kendall ’s tau or the footrule measure ? In other words , how consistent are the top k ( worst ) sets returned by Kendall ’s tau and footrule measures ?
0 0.5 1 1.5 2 2.5 3 3.5 4 4.5 5 0 0.5 1 1.5 2 2.5Spearmans footruleKendalls tauDCG position weight 0 10 20 30 40 50 60 70 80 90 0 5 10 15 20 25 30 35 40 45Spearmans footruleKendalls tauUnit position weight We measure this consistency by computing the normalized set intersection of the top k queries deemed worst by Kendall ’s tau and the top k queries deemed worst by the footrule measure . We compare this intersection with that of using the weighted counterparts . The top panel of Figure 2 shows the result for D1 for the DCG position weight . It is easy to see that the weighted versions return very similar queries . This holds for even moderately large value of k ; of course , for large enough k , these curves will start converging . A similar pattern holds for D2 . The bottom panel of Figure 2 shows the results .
Figure 2 : Correlation between the unweighted and weighted measures for D1 with DCG position weights and for D2 with EDIT element weights .
7 . CONCLUSIONS
We presented generalizations of the Spearman ’s footrule and Kendall ’s tau distance metrics to take into account element weights , position weights , and the relative similarity between elements . These generalizations encode some of the common metrics used in practice . For example , by setting dij to be 1 between the pairs of elements in the top k position , 0 for elements in positions k + 1 , . . . , n , and p for the distances between the two partitions , we recover a top k metric for Kendall ’s tau .
We remark that our definitions lead to an intriguing metric between two orderings of nodes in a graph . Given a weighted graph G = ( V , E ) , let Dij be the shortest distance between two nodes i , j ∈ V . The distance between any two orderings can be computed using the FD or KD metrics that we have defined . As an application , consider a co authorship graph , and rank nodes ( ie , authors ) based on how often certain keywords , ( eg , internet , routing , advertising , etc ) appears in their titles . A footrule or Kemeny optimal rank aggregation might lead to finding interesting co authorship patterns . Acknowledgments We thank Olivier Chappelle and Kunal Punera for sharing their data , Ali Dasdan and Paolo D’Alberto for sharing an early version of their manuscript , and D . Sivakumar for helpful conversations .
8 . REFERENCES [ 1 ] R . Agrawal , S . Gollapudi , A . Halverson , and S . Ieong .
Diversifying search results . In R . A . Baeza Yates , P . Boldi , B . A . Ribeiro Neto , and B . B . Cambazoglu , editors , WSDM , pages 5–14 . ACM , 2009 .
[ 2 ] N . Ailon , M . Charikar , and A . Newman . Aggregating inconsistent information : Ranking and clustering . J . ACM , 55(5 ) , 2008 .
[ 3 ] C . Buckley and E . Voorhees . Retrieval evaluation with incomplete information . In Proc . SIGIR , pages 25–32 , 2004 .
[ 4 ] B . Carterette . On rank correlation and the distance between rankings . In J . Allan , J . A . Aslam , M . Sanderson , C . Zhai , and J . Zobel , editors , SIGIR , pages 436–443 . ACM , 2009 .
[ 5 ] O . Chapelle , D . Metlzer , Y . Zhang , and P . Grinspan .
Expected reciprocal rank for graded relevance . In CIKM ’09 : Proceedings of the 18th ACM Conference on Information and Knowledge Management ( To Appear ) , 2009 .
[ 6 ] N . Craswell , O . Zoeter , M . Taylor , and B . Ramsey . An experimental comparison of click position bias models . In WSDM ’08 : Proceedings of the international conference on Web search and web data mining , pages 87–94 , New York , NY , USA , 2008 . ACM .
[ 7 ] P . D’Alberto and A . Dasdan . Content based search engine rank correlation . Manuscript , 2009 .
[ 8 ] P . Diaconis . Group Representation in Probability and
Statistics . Number 11 in IMS Lecture Series . Institute of Mathematical Statistics , Hayward , CA , 1988 .
[ 9 ] P . Diaconis and R . Graham . Spearman footrule as a measure of disarray . Journal of the Royal Statistical Society B ( Methodological ) , 39(i2):262–268 , 1977 .
[ 10 ] C . Dwork , R . Kumar , M . Naor , and D . Sivakumar . Rank aggregation methods for the web . In WWW , pages 613–622 , 2001 .
[ 11 ] R . Fagin , R . Kumar , M . Mahdian , D . Sivakumar , and E . Vee . Comparing partial rankings . SIAM J . Discrete Math . , 20(3):628–648 , 2006 .
[ 12 ] R . Fagin , R . Kumar , and D . Sivakumar . Comparing top k lists . In SODA , pages 28–36 , 2003 .
[ 13 ] R . Fagin , R . Kumar , and D . Sivakumar . Efficient similarity search and classification via rank aggregation . In A . Y . Halevy , Z . G . Ives , and A . Doan , editors , SIGMOD Conference , pages 301–312 . ACM , 2003 .
[ 14 ] K . J¨arvelin and J . Kek¨al¨ainen . Ir evaluation methods for retrieving highly relevant documents . In SIGIR ’00 : Proceedings of the 23rd annual international ACM SIGIR conference on Research and development in information retrieval , pages 41–48 , New York , NY , USA , 2000 . ACM Press .
[ 15 ] M . G . Kendall . A new measure of rank correlation .
Biometrika , 30(1/2):81–93 , June 1938 .
[ 16 ] C . Kenyon Mathieu and W . Schudy . How to rank with few errors . In D . S . Johnson and U . Feige , editors , STOC , pages 95–103 . ACM , 2007 .
[ 17 ] D . Sculley . Rank aggregation for similar items . In SDM .
SIAM , 2007 .
0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1 0 20 40 60 80 100 120 140 160 180 200Overlap sizePrefix lengthKendall tau and Spearman footrule overlapUNITDCG , position wt 0 0.1 0.2 0.3 0.4 0.5 0.6 0 20 40 60 80 100 120 140 160 180 200Overlap sizePrefix lengthKendall tau and Spearman footrule overlapUNITEDIT , element wt [ 18 ] G . Shieh , Z . Bai , and W . Tsai . Rank tests for independence—weith a weighted contamination alternative . Statistica Sinica , 10:577–593 , 2000 .
[ 19 ] G . S . Shieh . A weighted kendall ’s tau statistic . Statistics &
Probability Letters , 39(1):17–24 , July 1998 .
[ 20 ] C . Spearman . The proof and measurement of association between two things . by c . spearman , 1904 . The American journal of psychology , 100(3 4):441–471 , 1987 .
[ 21 ] E . Yilmaz , J . A . Aslam , and S . Robertson . A new rank correlation coefficient for information retrieval . In S H Myaeng , D . W . Oard , F . Sebastiani , T S Chua , and M K Leong , editors , SIGIR , pages 587–594 . ACM , 2008 .

Ranking Community Answers via Analogical Reasoning*
Xudong Tuâ€¡ , Xin Jing Wangâ€  , Dan Fengâ€¡ , Lei Zhangâ€ 
â€ Microsoft Research Asia . {xjwang , leizhang}@microsoft.com
â€¡HuaZhong Univ . of Sci . and Tech . , {tuxudong , dfeng}@{smail}husteducn
ABSTRACT Due to the lexical gap between questions and answers , automatically detecting right answers becomes very challenging for community question answering sites . In this paper , we propose an analogical reasoning based method . It treats questions and answers as relational data and ranks an answer by measuring the analogy of its link to a query with the links embedded in previous relevant knowledge ; the answer that links in the most analogous way to the new question is assumed to be the best answer . We based our experiments on 29.8 million Yahoo!Answer questionanswer threads and showed the effectiveness of the approach .
Categories and Subject Descriptors G.3 [ Probability and Statistics ] : correlation and regression analysis . H35 [ Information Storage and Retrieval ] : Online Information Services â€“ web based services .
General Terms Algorithms , Experimentation .
Keywords Community Question Answering , Analogical Reasoning
1 . INTRODUCTION As one type of portals for fast growing user generated content ( UGC ) , community question answering ( CQA ) sites have attracted a large number of users both seeking and providing answers to a variety of questions on a variety of subjects . Since they allow anyone to post or answer any questions on any subjects , the quality of answers varies greatly . Thus , the ability to automatically identify the best answers has significant impact on usersâ€™ satisfaction .
The major challenge of identifying high quality answers in CQA sites is the lexical gap between a question and its correct answer . The gap is caused by at least two factors : 1 ) textual mismatch between questions and answers . Words appeared in a question will not necessarily reappear in its best answer ; and 2 ) user generated spam or flippant answers .
Previous work solved this problem by either generating complementary features provided by highly structured CQA sites [ 1 ] , or finding textual clues using machine learning techniques [ 3 ] . In this paper , we propose an analogical reasoning based ranking technique which uses previous relevant knowledge to bridge the lexical gap , and discovers non textual clues between questions and their answers to identify the correct ones . In particular , we assume that a question has implicit positive links with its right answers , and negative linkages with other answers . Given a new question , firstly we retrieve a set of positively linked ( ie correctly answered ) question answer pairs ( q a pairs ) whose questions
*The work was done during the first author â€™s internship in MSRA .
Copyright is held by the author/owner(s ) . WWW 2009 , April 20 24 , 2009 , Madrid , Spain . ACM 978 1 60558 487 4/09/04 . are similar to the new question from a knowledge base . The retrieved q a pairs construct a supporting set . Secondly , we predict the analogy of the link between the new question and each of its candidate answers to the links in the supporting set . The analogy is predicted by a logistic regression model learnt offline . The answer which has the most analogous linkage is assumed to be the best answer to the new question .
There are two key aspects of the proposed idea : 1 ) Instead of either separating questions and their answers as independent information sources or mixing them as one object , we treat them as relational data and predict the property of the link . Secondly , instead of directly predict the link with the link prediction model , we use a supporting set to bridge the lexical gap and facilitate the prediction . Intuitively , not only the supporting set is more likely to share terms with the candidate answers , but also it provides the knowledge of how similar questions are answered , while the â€œ way of answering â€ suggests the desired answers .
2 . THE APPROACH 2.1 Learning the Link Prediction Model We adopt the Bayesian Analogical Reasoning ( BAR ) framework proposed by Silva et al . [ 3 ] to predict the latent q a linkages . Formally , let ğ‘‹ğ‘–ğ‘— = [ Î¦1 ğ‘„ğ‘– , ğ´ğ‘— , Î¦2 ğ‘„ğ‘– , ğ´ğ‘— , â€¦ , Î¦K ğ‘„ğ‘– , ğ´ğ‘— ] be a ğ¾ dimensional feature vector of the q a pair of question ğ‘„ğ‘– and answer ğ´ğ‘— , where Î¦ defines the mapping Î¦ : ğ’¬ Ã— ğ’œ â†’ â„›K . Let ğ¶ğ‘–ğ‘— âˆˆ {0,1} be an indicator of the type of the link between ğ‘„ğ‘– and ğ´ğ‘— , where ğ¶ğ‘–ğ‘— = 1 indicates a positive linkage and ğ¶ğ‘–ğ‘— = 0 otherwise . Let Î˜ = [ ğœƒ1 , ğœƒ2 , â€¦ , ğœƒğ¾ ] be the parameter vector of the logistic regression model to be learnt , we have
ğ‘ƒ ğ¶ğ‘–ğ‘— = 1 ğ‘‹ğ‘–ğ‘— , Î˜ =
1
1 + exp(Î˜ğ‘‡ğ‘‹ğ‘–ğ‘— )
( 1 ) where ğ‘‹ğ‘–ğ‘— âˆˆ ğ‘‹ğ‘¡ğ‘Ÿğ‘ğ‘–ğ‘› = {ğ‘‹ğ‘–ğ‘— , 1 â‰¤ ğ‘– â‰¤ ğ·ğ‘ , 1 â‰¤ ğ‘— â‰¤ ğ·ğ‘ } is a training q a pair and ğ·ğ‘ , ğ·ğ‘ are the numbers of training questions and answers respectively . Generally we have ğ·ğ‘ â‰« ğ·ğ‘ .
We use both positive q a pairs ( ie good answer ) and negative q a pairs ( ie noisy answers ) to train this model , while the effect of negative ones is embedded in a Gaussian prior .
To ensure the preciseness of the prior , firstly we fit a BAR model using Maximum Likelihood Estimation ( MLE ) on the training data , and obtain an initial Î˜ . Then we compute the covariance matrix Î£ as a smoothed version of the MLE estimated covariance :
âˆ’1
Î£
=
ğ‘ ğ‘
â‹… ( ğ‘¿ğ‘»ğ‘¾ ğ‘¿ )
( 2 ) where ğ‘ is a predefined number , ğ‘ is the size of the training dataset , ğ‘¿ is the ğ‘ Ã— ğ¾ feature matrix of the training q a pairs , either positive or negative . ğ‘¾ is a diagonal matrix with ğ‘¾ ğ’Šğ’Š = ğ‘ ğ‘– â‹… ( 1 âˆ’ ğ‘ ğ‘– ) , and ğ‘ ğ‘– is the predicted probability of a positive link for the ğ‘–th row of ğ‘¿ . The prior of Î˜ is then the Gaussian ğ’©(Î˜ , Î£ ) .
We randomly sample a similar number of negative points as a positive population to balance the number of positive and negative training data .
2.2 Retrieving Relevant Previous Knowledge In the testing stage , given a new q a thread , we retrieve some relevant positive q a pairs from 29.8 million q a threads crawled from the Yahoo!Answers site .
We adopt traditional information retrieval techniques to find the supporting q a set . In particular , let ğ‘„ğ‘ be a query question and its ğ‘– , 1 â‰¤ ğ‘– â‰¤ ğ‘€} , we retrieve those positive q a answer list be {ğ´ğ‘ pairs ğ‘º = {ğ‘„1 : ğ´1 , ğ‘„2 : ğ´2 , â€¦ , ğ‘„ğ¿ : ğ´ğ¿} with high cosine similarity above a threshold :
ğ‘º = {ğ‘„ğ‘– : ğ´ğ‘–| cos ğ‘„ğ‘ , ğ‘„ğ‘– > ğœ† , ğ‘– âˆˆ 1 , â€¦ , ğ· }
( 3 ) where ğ· is the size of the crawled Yahoo!Answers database and ğœ† is a threshold . Each question is represented in the bag of word model . The effect of ğœ† is shown in Figure 2 .
0.65
0.45
0.25
K @ P A
0.05
AR BSets COS
K=1
K=5
K=10
Figure 1 . Average precision of our method and the baselines .
Table 1 . MRR for our method and the baselines
Method
MRR
Method
MRR
NN
Cosine
0.56
0.59
BSets [ 2 ]
Our method
0.67
0.78
2.3 Answer Ranking by Analogical Reasoning ğ‘€ Given ğ‘º , we score the new q a pairs ğ‘„ğ‘ : ğ´ğ‘ with Eq ( 4 ) by measuring a marginal :
2 , â€¦ , ğ‘„ğ‘ : ğ´ğ‘
1 , ğ‘„ğ‘ : ğ´ğ‘
ğ‘ ğ‘ğ‘œğ‘Ÿğ‘’ ğ‘„ğ‘ , ğ´ğ‘
ğ‘— = ğ‘™ğ‘œğ‘”ğ‘ƒ ğ¶ğ‘
ğ‘— = 1 ğ‘‹ğ‘
ğ‘— , ğ‘º , ğ‘ªğ‘º = 1
âˆ’ ğ‘™ğ‘œğ‘”ğ‘ƒ ğ¶ğ‘— = 1 ğ‘‹ğ‘
ğ‘—
( 4 )
ğ‘— is the ğ‘— th answer of the query question . ğ‘‹ğ‘
ğ‘— where ğ´ğ‘ represents ğ‘— ) . ğ‘ªğ‘º is the vector of link indicators for ğ‘º , the features of ( ğ‘„ğ‘ , ğ´ğ‘ and ğ‘ªğ‘º = 1 indicates that all the q a pairs in ğ‘º have positive links , ie {ğ¶1 = 1 , ğ¶2 = 1 , â€¦ , ğ¶ğ¿ = 1} .
ğ‘— = 1 ğ‘‹ğ‘
ğ‘— , ğ‘º , ğ‘ªğ‘º = 1 , measThe first term in Eq ( 4 ) , ie ğ‘™ğ‘œğ‘”ğ‘ƒ ğ¶ğ‘ ures the probability of a positive query linkage when the supportğ‘— , on the ing set is observed . The second term , ğ‘™ğ‘œğ‘”ğ‘ƒ ğ¶ğ‘— = 1 ğ‘‹ğ‘ other hand , evaluates this probability in the case that only the query q a pair is observed . The idea underlying Eq ( 4 ) is actually ğ‘— ) would â€œ fit into â€ ğ‘º , or to what to measure to what extent ( ğ‘„ğ‘ , ğ´ğ‘ ğ‘— ) . The more analogous it is to the supextent ğ‘º explains ( ğ‘„ğ‘ , ğ´ğ‘ porting linked q a pairs , the higher score a q a pair obtains .
We use the learnt logistic regression model to predict the probability of a positive linkage in particular , which gives Eq ( 5 ) and Eq ( 6 ) :
ğ‘ƒ ğ¶ğ‘
ğ‘— = 1 ğ‘‹ğ‘
ğ‘— , ğ‘º , ğ‘ªğ‘º = 1 =
ğ‘ƒ ğ¶ğ‘— = 1 ğ‘‹ğ‘
ğ‘— , Î˜ ğ‘ƒ(Î˜| ğ‘º , ğ‘ªğ‘º = 1)ğ‘‘Î˜
ğ‘ƒ ğ¶ğ‘
ğ‘— = 1 ğ‘‹ğ‘
ğ‘— = ğ‘ƒ ğ¶ğ‘— = 1 ğ‘‹ğ‘
ğ‘— , Î˜ ğ‘ƒ(Î˜)ğ‘‘Î˜
( 5 )
( 6 )
3 . EVALUATION We crawled 29.8 million questions from the Yahoo!Answers website , all of which have user labeled â€œ best answers â€ . 100,000 randomly selected q a pairs were used to train the link prediction model , and 16,000 q a threads were used for testing ; each contains 12.35 answers on average , which results in about 200,000 testing q a pairs .
We compared our approach with three baseline methods : Nearest Neighbor ( NN ) , Cosine distance and Bsets [ 2 ] . The first two directly measure the similarity between a question and an answer ,
Figure 2 . The Effect of similarity threshold ğ€ and Prior scalar
= ğŸ . ğŸ” gives best performance .
. ğ€ = ğŸ . ğŸ– ,
ğ’„
ğ’„
ğ‘µ
ğ‘µ while the Bsets method leverages a supporting set to measure the similarity , however it does not treat questions and answers as relational data .
Figure 1 illustrates the mean average precision of the four methods on top ğ¾ = 1 , 5 , 10 results , and Table 1 gives the Mean Reciprocal Rank ( MRR ) performance . Both show that our method significantly out performed the baseline methods .
Figure 2 illustrates the effect of parameters and ğœ† , the threshold in Eq ( 3 ) , on the MRR performance .
ğ‘
, the scalar in Eq ( 2 ) ,
ğ‘
4 . CONCLUSION This paper has presented a novel best answer identification method for CQA sites . It not only uses a supporting set to bridge the lexical gap between questions and answers , but also treats them as relational data and learns an analogical reasoning based model to rank the answers of a new question . The best answer is identified as the top ranked one which has the strongest analogy to the positive links in the supporting set . Experiments based on 29.8 million real q a threads showed the effectiveness of the proposed method .
5 . REFERENCES [ 1 ] Bian , J . , Liu , Y . , et al . Finding the Right Facts in the Crowd :
Factoid Question Answering over Social Media . In Proc . WWW , 2008 .
[ 2 ] Ghahramani , Z . , and Heller , KA Bayesian Sets . In Proc .
NIPS , 2005 .
[ 3 ] Jeon , J . , Croft , W . , et al . A Framework to Predict the Quality of Answers with Non Textual Features . In Proc . SIGIR , 2006 .
[ 4 ] Silva , R . , Heller , KA , et al . Analogical Reasoning with
Relational Bayesian Sets . In Proc . AISTATS , 2007 .

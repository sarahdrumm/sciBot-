Predictive Approaches for Low Cost Preventive Medicine
Program in Developing Countries
Yukino Baba1,2 , Hisashi Kashima3 , Yasunobu Nohara4 , Eiko Kai5 , Partha Ghosh6 , Rafiqul Islam6 ,
Ashir Ahmed5 , Masahiro Kuroda7 , Sozo Inoue8 , Tatsuo Hiramatsu9 , Michio Kimura10 ,
Shuji Shimizu4 , Kunihisa Kobayashi11 , Koji Tsuda9 , Masashi Sugiyama9 , Mathieu Blondel12 ,
Naonori Ueda12 , Masaru Kitsuregawa1,9 , Naoki Nakashima4
1National Institute of Informatics , Tokyo , Japan , 2JST , ERATO , Kawarabayashi Large Graph Project , Tokyo , Japan
3Kyoto University , Kyoto , Japan , 4Kyushu University Hospital , Fukuoka , Japan
5Kyushu University , Fukuoka , Japan , 6Grameen Communications , Dhaka , Bangladesh
7National Institute of Information and Communications Technology , Tokyo , Japan
8Kyushu Institute of Technology , Kitakyushu , Japan
9The University of Tokyo , Tokyo , Japan , 10Hamamatsu University School of Medicine , Hamamatsu , Japan
11Fukuoka University Chikushi Hospital , Chikushino , Japan 12NTT Communication Science Laboratories , Kyoto , Japan
ABSTRACT Non communicable diseases ( NCDs ) are no longer just a problem for high income countries , but they are also a problem that affects developing countries . Preventive medicine is definitely the key to combat NCDs ; however , the cost of preventive programs is a critical issue affecting the popularization of these medicine programs in developing countries . In this study , we investigate predictive modeling for providing a low cost preventive medicine program . In our two year long field study in Bangladesh , we collected the health checkup results of 15;075 subjects , the data of 6;607 prescriptions , and the follow up examination results of 2;109 subjects . We address three prediction problems , namely subject risk prediction , drug recommendation , and future risk prediction , by using machine learning techniques ; our multiple classifier approach successfully reduced the costs of health checkups , a multi task learning method provided accurate recommendation for specific types of drugs , and an active learning method achieved an efficient assignment of healthcare workers for the follow up care of subjects .
Categories and Subject Descriptors H28 [ Database Management ] : Database Applications| Data Mining ; J.3 [ Computer Applications ] : Life and Medical Sciences|Health
Keywords Data mining ; Healthcare ; Preventive medicine c⃝ 2015 ACM . ISBN 978 1 4503 3664 2/15/08 $1500
DOI : http://dxdoiorg/101145/27832582788587
Figure 1 : Overview of our two year long Portable Health Clinic ( PHC ) field study in Bangladesh
1 .
INTRODUCTION
Non communicable diseases ( NCDs ) , such as heart disease , stroke , cancer , chronic kidney diseases , and diabetes mellitus , have been increasingly prevalent worldwide . The World Health Organization reported that NCDs accounted for 63 % ( 36 million ) of the 57 million global deaths in 2008 and approximately 80 % of all NCD related deaths occurred in low and middle income countries [ 1 ] . In such countries , 29 % of NCD related deaths occurred in the workingage group ( in people aged <60 years ) , which is remarkably higher than that in high income countries ( 13% ) , and contributes to declining labor productivity . The total number of annual NCD related deaths is estimated to reach 55 million by 2030 [ 9 ] .
Preventive medicine is undoubtedly the key to combat NCDs . Preventive medicine consists of three levels : primary prevention to maintain healthy conditions , secondary prevention to avoid the development of NCDs , and tertiary prevention to avoid disease progression to serious stages . Over time , the focus of medical services in developed countries has
Health checkup siteQuestionnaireSystem supportEkhlaspur , BangladeshBlood pressureand sugarHealthcheckupHip , waist , height , weightPulseoxymeterUrine testPatientTele consultationand prescriptionDoctor1681 changed from acute and serious diseases to the management of NCDs .
There are two critical issues facing developing countries with respect to the popularization of preventive medicine programs : the cost of preventive medicine and the shortage of healthcare workers . For example , disposables for physical examinations including urine , blood sugar , and hemoglobin tests cost approximately USD 2 3 . This price is not affordable in most low income nations where the average monthly income per household is less than USD 100 . In addition , the lack of a healthcare workforce is a severe problem . For instance , there are only 0:36 physicians per thousand population in Bangladesh , one of the developing countries , while the physician density is 2:45 in the United States [ 8 ] .
We have developed an eHealth system named Portable Health Clinic ( PHC ) ; it is an efficient and easy to operate preventive medicine service using information and communication technology [ 6 ] . PHC is composed of three steps , namely health checkup , tele consultation and prescription , and follow up care . These three steps correspond to the three levels of a preventive medicine program . Figures 1 and 2 show an overview of PHC . PHC includes portable packages for health checkups equipped with a tablet computer and consumable goods for physical examination . The tablet computer is connected to a mobile network to send the checkup results to a data server at the medical center . PHC offers tele consultation and prescription services with a doctor at the medical center to a subject who is suspected to have a health problem . Follow up checkups are also scheduled using portable checkup packages . Our two year long PHC field study in Bangladesh resulted in a collection of health checkup results of 15;075 subjects , 6;607 prescriptions offered by doctors , and follow up examination results of 2;109 subjects .
Although PHC has been established as a beneficial preventive medicine program , there is still room for improvement to make it a cost efficient system . In this study , we apply predictive approaches to the collected data and investigate the usage of machine learning methods for providing a low cost preventive medicine program . We address the following three prediction problems : subject risk prediction , drug recommendation , and future risk prediction . The health checkup procedure in PHC includes low cost tests , such as measurement of weight or body temperature , that do not require disposables , and high cost tests , such as urine or blood sugar tests , that use consumable goods for the measurements . The high cost tests make the preventive medicine program expensive , and if we can reduce the number of administrations of high cost tests , the preventive medicine program becomes more affordable for developing countries .
The present study first addresses the problem of predicting the subjects’ health risks by using the results of low cost tests and proposes a strategy to select subjects who really need the high cost tests . We next tackle the drug recommendation problem . If we can predict the drugs that each subject should have , we can reduce the workload of the doctors and allocate the limited human resources more efficiently . In addition , if we provide an accurate recommendation on the basis of the results of low cost tests , we can reduce the cost of high cost tests . Finally , we focus on supporting the follow up process . The aim of this process is to take care of the subjects who still have a health problem . Our goal is to predict the future risk levels by using the previous checkup results to provide priorities on staff assignments to high risk subjects .
We formalize these problems and investigate the practicability of predictive approaches with respect to a low cost preventive medicine program . Our key contributions are summarized as follows : ffl Subject risk prediction : We propose a prediction strategy using multiple classifiers to carefully select the subjects who need to take the high cost tests . This strategy successfully reduces costs by 50 % if it is allowed to have a 1 % chance to incorrectly identify a high risk subject as a low risk one . ffl Drug recommendation : Our drug recommendation approach using a multi task learning method achieves an Area Under the ROC Curve ( AUC ) of more than 0:8 in 13 % of the target drugs . We also find that the same level of accurate recommendations is achieved with only the results of the low cost tests . ffl Future risk prediction : Our active learning strategy covers 67 % of the high risk subjects when we are only allowed to use 40 % of the total budget , while the original follow up procedure only covered 46 % of such subjects with the same cost constraint .
2 . BANGLADESH HEALTH CHECKUP
DATASET
We provided eHealth checkups for the population in Bangladesh for two years . We collected the results of questionnaires and health checkups of 15;705 subjects and 6;607 prescriptions for 2;461 subjects . Among all the subjects , 2;109 underwent the checkups in both the first and the second year . In the first year , we conducted the study around Dhaka , the capital of Bangladesh . The sites covered in the second year were Chittagong ( south eastern area ) , Rajshahi ( western area ) , Thakurgaon ( north western area ) , and certain areas around Dhaka . 2.1 Data collection procedure
We developed an eHealth system named Portable Health Clinic ( PHC ) . PHC consists of a set of devices in a suitcase , a data transmission system linked to a mobile network , and a data management application . The suitcase is equipped with a tablet and consumable goods for urine , blood sugar , and hemoglobin tests . We also prepared a tele consultation and tele prescription service using Skype over a mobile network to gather health data . The checkup and tele medical procedure is shown in Figure 2 . Subjects were first asked to complete a questionnaire , and then , they underwent the health checkup . The checkup results were stored in a tablet and sent to the main server at the medical center in Dhaka . Using the result , we categorized each subject into one of the following four risk groups : Healthy , Caution , Affected , and Emergency . For the subjects in the Affected or Emergency group , we provided a tele consultation with a doctor at the medical center . If required , the doctors sent teleprescriptions . Subjects who received a tele prescription were expected to visit their local pharmacies to purchase the prescribed medicines .
The questionnaire contained 33 questions about basic information , health condition , disease history , and lifestyle .
1682 Table 1 : List of consumables cost per measurement
Measurement Waist Waist/hip ratio Body mass index Blood pressure ( systolic ) Blood pressure ( diastolic ) Blood sugar ( fasting ) Blood sugar ( postprandial ) Urine protein Urine sugar Urine urobilinogen Pulse rate Arrhythmia Body temperature Oxygen saturation Hemoglobin
Cost ( in USD ) 0 0 0
0
0:57
0:19
0 0 0 0 1:42
2.2 Dataset summary
Our dataset consisted of 8;476 ( 54:0 % ) male subjects and 7;229 ( 46:0 % ) female subjects . The subjects’ ages ranged from 18 to 106 years , and the average age was 35:6 years . There were 3;857 ( 24:6 % ) subjects from urban areas , 4;815 ( 30:7 % ) subjects from suburban areas , and 7;033 ( 44:8 % ) subjects from rural areas . The number of subjects who took the first checkup in the first year was 7;495 ( 47:7 % ) and that of subjects who underwent the checkup in the second year was 8;210 ( 52:3% ) . We categorized 2;136 ( 12:5% ) , 8;483 ( 53:7% ) , 4;632 ( 30:5% ) , and 454 ( 3:3 % ) subjects as Healthy , Caution , Affected , and Emergency in terms of the overall risk level , respectively .
The average number of suggested drugs per subject was 2:7 among the subjects who obtained the prescriptions , and the number of suggested drugs ranged from 1 to 10 . The average number of prescriptions per drug was 134:8 . The minimum number of prescriptions per drug was 1 , and the maximum was 1;322 .
Among the subjects who took the checkup in both the first and the second year , 326 ( 15:5% ) , 1;144 ( 54:2% ) , 585 ( 27:7% ) , and 54 ( 2:6 % ) subjects were categorized as Healthy , Caution , Affected , and Emergency in terms of the overall risk level in the first year , respectively . There were 585 ( 27:7 % ) subjects whose risk level improved and 632 ( 30:0 % ) subjects got worse in the second year . 2.3 Preprocessing
In the following experiments , we processed the results of health checkups and converted them into feature vectors as follows : We encoded the categorical information into feature vectors by using the one of K encoding . Categorical information included the results of urine tests and arrhythmia , the risk level of each checkup item , and the response of each question in the questionnaire except age . Continuous values , such as age or the result of physical examination , were scaled to fit the range of 0 1 . The transformation was learned on the training data and applied to the rest .
Because not all the subjects underwent the blood sugar ( fasting ) , blood sugar ( postprandial ) , and hemoglobin tests , sometimes , we did not have these values in the training data and hence , failed to scale these parameters by using the
Figure 2 : Procedure for our PHC service . When subjects visit the checkup booth , they are asked to fill out a questionnaire ( Step 1 ) , and then , they go through a physical examination ( Step 2 ) . If a subject is identified as Affected or Emergency ( Step 3 ) , a tele consultation service with a doctor at the telemedicine center is offered ( Step 4 ) . One year later , we provide a follow up examination for the subjects .
Seven out of the 33 questions were about drug allergies and surgical history , and the subjects who took a teleconsultation were asked to answer these questions mandatorily . All the questions except age were given in a multiplechoice format .
We collected the results of checkup items including hip size , height , weight , and those shown in Table 1 . Only 2;627 subjects underwent the hemoglobin test . We collected the result of either the blood sugar ( fasting ) or the blood sugar ( postprandial ) test of each subject . The costs of urine , blood sugar , and hemoglobin tests were much higher than those of the other tests because these three tests needed a consumable good for each measurement . The consumables cost per measurement is shown in Table 1 .
In order to assess a subject ’s risk level , we established Bangladesh logic [ 6 ] . This criterion helped assign one of the four risk levels ( Healthy , Caution , Affected , and Emergency ) to each of the 13 checkup items shown in Table 1 .
The overall risk level of a subject was determined by the maximum risk level among all the checkup items . For instance , even if a subject was assigned with Healthy in 12 items and Emergency in one item , the overall risk level of this subject was determined to be Emergency . We also categorized the subjects whose overall risk level was Affected or Emergency as high risk , and the others were categorized as low risk .
In the tele consultation , the doctors selected multiple medicines from 49 drugs and prepared a prescription if required . The medicines were categorized by their purposes , such as drugs for hypertension or drugs for cough and cold .
Waist size , hip size , waist hip ratio , height , weight , body mass index , blood pressure , pulse rate , arrhythmia , body temperature , oxygen saturationUrine , blood sugar , hemoglobinLow cost testsHigh cost testsStep 1 : QuestionnaireStep 2 : Physical examinationStep 4 : Tele consultation and tele prescription for Affected or Emergency subjectsStep 5 : Follow up checkupOn siteTele medical centerMain serverDoctorTablet deviceStep 3 : Overall risk level assignment(Healthy , Caution , Affected , or Emergency )SubjectOne year later1683 minimum and the maximum values . Thus , we predefined the ranges for these values on the basis of the Bangladesh logic . That is , we defined the ranges as [ 100 ; 200 ] for blood sugar ( fasting ) , [ 140 ; 300 ] for blood sugar ( postprandial ) , and [ 8 ; 12 ] for hemoglobin . If the outcome of one of these items was within the defined range , the risk level was Caution or Affected . After the scaling , the missing values were input as 0:5 .
3 . SUBJECT RISK PREDICTION FOR
CHECKUP COST REDUCTION
We first address the problem of predicting subject risks and discovering low risk subjects from the outcomes of the questionnaire and low cost tests . The aim of this prediction is to cut the health checkup costs for the low risk subjects . Note that all the subjects who are identified as high risk subjects are required to undergo all the high cost tests because the doctors need the results to conduct the tele consultation . 3.1 Problem formulation
Let us assume that there are I subjects who will come for the health checkup . We have J checkup tests where M include a questionnaire and are low cost tests , and the others are high cost tests . Each subject will be offered the J tests in a sequence of ( 1 ; 2; ; J ) . Let cj be the cost of the j th test . We consider the cost of low cost test to be considerably smaller than that of any high cost test ; thus , we assume that cj = 0 for all j 2 f1 ; 2; ; Mg , and cj > 0 for all j 2 fM +1 ; M +2; ; Jg . When the i th subject takes the j th test , we obtain a dj dimensional feature vector xij 2 Rdj . Let mij 2 f0 ; 1g indicate whether the i th subject takes the j th test ( mij = 1 ) or not ( mij = 0 ) . Let ri 2 f0 ; 1g indicate whether the i th subject is at a high risk ( ri = 1 ) or not ( ri = 0 ) . According to the Bangladesh logic , a subject is at a high risk if at least one of the test result is high risk ; in such a case , the subject is immediately determined as high risk before he/she takes all the J tests . On the other hand , we cannot completely determine whether a subject is a low risk one until all the tests are conducted . Our goal is to predict whether a subject is at a high risk or not , and to output the predictions ^ri 2 f0 ; 1g for all i 2 f1 ; 2; ; Ig . There is a practical constraint that we must offer all the tests to any subject who is predicted as high risk because we use the results in the tele consultation session . That is , mij must be set to one for all j 2 f1 ; 2; ; Jg , and for i 2 f1 ; 2; ; Ig such that ^ri = 1 . 3.2 Approaches
An unsophisticated way of obtaining f ^rigi:I is to have all the subjects take all the tests . Note that we use \i : I" to indicate i 2 f1 ; 2 ; : : : ; Ig for notational simplicity . This ∑ approach correctly determines the risk of all the subjects , ie , ^ri = ri for all i 2 f1 ; 2; ; Ig ; however , we need the following amount of money to perform all the tests : C = J I j=1 cj . We next discuss predictive approaches to reduce the costs of checkups .
321 Strategy with a single classifier A simple strategy for applying a predictive approach is to build a single classifier that predicts the subject risks given the results of the low cost tests . This strategy involves con ducting all the tests on a subject if the subject is predicted to be a high risk one ; otherwise , no high cost test will be offered . Further , the outcomes of a subject who takes all the tests provide the groundtruth label ri , which can be used to improve the classifier .
The procedure for this strategy is as follows :
Step 1 . We offer all the tests to the first N subjects , and obtain their risk outcomes frigi:N . Then we train a classifier ^fM ( ) by using the results f(fxijgj:M ; ri)gi:N , where the classifier ^fM ( ) is a function that takes fxijgj:M as the input , and returns whether a subject is considered to be at high risk or not .
Step 2 . For each i 2 fN +1 ; N +2; ; Ig , the i th subject follows the procedure below :
Step 21 We offer the low cost tests to the subject and obtain fxijgj:M .
Step 22 If the subject is identified as a high risk one on the basis of the results of the low cost tests , or the classifier ^fM ( fxijgj:M ) predicts that the subject is at high risk , then the subject will be given all the high cost tests and we will obtain ri . We use the sample ( fxijgj:M ; ri ) to improve the classifier ^fM ( ) , and the process for the i th subject isterminated .
Step 23 Otherwise we terminate the process for the ith subject , and therefore , the subject is not given any high cost test .
I i=N +1 mi(M +1 )
The total execution cost of this strategy is C = J j=1 cj , considering that a N subject who takes the ( M + 1) th test is also offered the other high cost tests in the procedure above . This procedure enables us to save the costs of high cost tests for the subjects who are predicted as low risk subjects ; however , it may cause false negative errors where a high risk subject is incorrectly predicted as a low risk one . 1 322 Conservative strategy with multiple classifiers One careful strategy to avoid false negative errors is to separately decide if we should offer each high cost test to each subject . Suppose a case where a subject is predicted to be a low risk subject on the basis of the outcomes of the low cost tests . The strategy using a single classifier will decide that we do not need to offer all the high cost tests to the subject . If the subject is actually at a high risk , this strategy causes a false negative error . A careful strategy is designed to perform the first high cost test ( eg , urine test ) even if the classifier considers the subject to be at a low risk . If the urine test indicates an abnormality , the subject will be identified as a high risk one . If not , we can apply another classifier that uses the result of the urine test as well as that of the low cost tests to predict the risk . Because this classifier uses additional information , it may provide a more accurate prediction than the first one . When the second classifier also predicts that the subject is at a low risk , this strategy will offer the next high cost test to the subject .
1False positive errors do not occur in our setting because a subject predicted as a high risk subject is offered all the tests , and thus , we observe the correct risk outcome .
∑
J j=1 cj +
∑
∑
1684 In a nutshell , this strategy conducts high cost tests one by one , gradually extracts the subject information , and carefully decides whether we should identify the subject as a low risk one and skip the high cost tests . If the subject is considered to be a high risk one by a classifier , all the rest of the tests will be conducted on the subject . We call this strategy conservative and show its detailed operation as follows :
Step 1 . We offer all the tests to the first N subjects , and obtain their risk outcomes frigi:N . For each j 2 fM ; M +1; ; J,1g , we train the classifier ^fj ( ) by using the checkup results f(fxikgk:j ; ri)gi:N , where the classifier ^fj ( ) is a function that takes fxikgk:j as the input , and returns whether a subject is considered to be at a high risk .
Step 2 . For each i 2 fN +1 ; N +2; ; Ig , the i th subject follows the procedure below : obtain fxijgj:M .
Step 21 We offer the low cost tests to the subject and Step 22 For each j 2 fM ; M + 1; ; J , 1g , when the j th test is conducted on the subject and the outcome xij is obtained , ffl If the subject is identified as a high risk one by the test , or the classifier ^fj ( fxikgk:j ) predicts that the subject is at a high risk , the subject will be given all the high cost tests and we will obtain fxijgj:J and ri . For each j 2 fM ; M + 1; ; J , 1g , we use the sample ( fxikgk:j ; ri ) to update the classifier ^fj ( ) , and terminate the process for the i th subject . ffl Otherwise , when j ̸= J , 1 , the ( j + 1) th test is If the subject is preconducted on the subject . dicted to be a low risk on the basis of the ( J , 1)th test , we terminate the process for the i th subject thus the J th test will not be offered to the subject .
∑
∑
∑
J
J,1 j=1 cj + j=1 cj + ( I , N )
This conservative strategy only cuts the cost of the last high cost test , and the total checkup cost will be C = I i=N +1 cJ miJ . This stratN egy commits to avoid the false negative errors rather than substantially reducing the checkup costs . 323 Aggressive strategy with multiple classifiers We can consider another strategy that aggressively reduces the costs by omitting the high cost tests . This aggressive strategy does not offer the high costs tests to subjects if the first classifier predicts that they are at a low risk given the outcomes of the low cost tests . If the classifier predicts a subject as a high risk , then the first high cost test will be conducted on the subject and the result is used to make another prediction . In this manner , this strategy excludes all the rest of the high cost tests and cuts the costs if a classifier predicts the subject as a low risk one . The procedure for this strategy is given by modifying Step 2.2 in the conservative strategy : Step 22 For each j 2 fM ; M + 1; ; J , 1g , when the j th test is conducted on the subject and the outcome xij is obtained , ffl If the subject is identified as a high risk by the test , the subject will be given all the high cost tests . The classifiers are improved by using the results , and the process for the i th subject is terminated . ffl If the classifier ^fj ( fxikgk:j ) predicts that the subject is at a low riwk , the process for the i th subject is terminated ; thus , the rest of the tests will not be offered to the subject . ffl Otherwise , when the j ̸= J , 1 , the ( j + 1) th test If the subject is will be conducted on the subject . predicted to be at a high risk on the ( J , 1) th test , we will conduct the J th test on the subject , obtain ri , and improve the classifiers .
∑
∑
∑
The total execution cost of the aggressive strategy is given
J j=1 cj + by C = N 3.3 Evaluation
I i=N +1
J j=1 cjmij .
We evaluate the approaches using the Bangladesh health checkup dataset and compare their false negative rates and the total required cost . 331 Experimental setting We used the health checkup data of 15 ; 075 subjects . All of the features except for measurements of the hemoglobin level and the responses to the optional questions in the questionnaire were used . In the experiments , we assumed that the subjects would visit the health checkup booth in the original order in our field study .
There were two high cost tests in the experiments : urine test and blood sugar test . We assumed that all the subjects took the high costs tests in a fixed order , and we conducted the experiments in both cases where the urine test was offered first and where the blood sugar test was offered first . We employed an L2 regularized logistic regression implementation ( sklearn.linear model.SGDClassifier ) provided by scikit learn [ 10 ] . This implementation incrementally learns the model by using stochastic gradient descent so that we can improve the classifier when we get a new sample . We built classifiers that predict the probability of a subject being at a high risk , returns 1 if the probability is greater than a threshold ffi , and returns 0 otherwise . The thresholds were varied in f0 : ; 0:01 ; 0:02; ; 0:09 ; 0:1 ; 0:2; ; 1:0g . The same threshold was applied to all the classifiers when we evaluated the multiple classifier strategies . The hyperparameters of the classifiers were determined by using a fivefold cross validation on the training data that was composed of the outcomes of the first N subjects . The size of the training data N was chosen from N = 785 ( 5% ) , 1570 ( 10% ) , and 3141 ( 20% ) .
The performances were measured by the false negative rate and the cost rate . The cost rate indicates the proportion of the cost required by each approach to the cost of offering all the tests to all the subjects . 332 Results and discussion The results are shown in Figure 3 .
It is noticed that across all the sizes of training data , the multiple classifier strategies with starting with the urine test substantially reduced the costs of the health checkup while maintaining a small false negative rate . In particular , in the case where N = 785 ( 5% ) , our multiple classifier approach showed a significant cost reduction . The aggressive strategy achieved
1685 Figure 3 : False negative rate versus the total cost of the health checkup , where a false negative indicates a case where a subject is identified as a low risk one when the subject is actually at a high risk . In all the cases , the multiple classifier strategy starting with the urine test achieves the best trade off between the cost and the false negative rate . false negative ratio = 1:1 % when cost ratio = 51:5 % , and the conservative strategy reached false negative ratio = 0:9 % when cost ratio = 51:6 % . The two methods successfully reduced the 50 % of the costs with the very rare occurrence of a false negative error . Considering the fact that we need at least 33:7 % of the costs to offer the high cost tests to the subjects who are actually at a high risk , we can conclude that the multiple classifier approach demonstrated a considerable performance .
We observed that we obtained lower false negative rates when we first conducted the urine test . The reason behind this is that the classifier using the results of both the lowcost tests and the urine test is more accurate than the one using the results of the low cost tests and the blood sugar test . Let us compare the AUC of both classifiers that were trained with N = 1;570 ( 10 % ) samples . The former classifier achieved an AUC of 0:991 , while the latter classifier scored an AUC of 0844 Incorporating the results of the urine test will be beneficial from two perspectives : the urine test returns three outcomes ( urine ( protein ) , urine ( sugar ) , and urine ( urobilinogen) ) , and there is a strong relationship between urine sugar and blood sugar . The latter point is supported by the fact that among the subjects who were classified as Affected or Emergency on the basis of the blood sugar test , 79:4 % were also classified as Affected or Emergency on the basis of the urine ( sugar ) test . When the urine test was conducted first , and the results of the test were used to predict whether a subject was at a high risk , we only needed to predict an abnormality of blood sugar so that the information of urine ( sugar ) contributed to the predictions . The classifier using the results of the low cost tests and the blood sugar test needed to predict the overall risk level without observing the outcomes of urine ( protein ) , urine ( sugar ) , and urine ( urobilinogen ) . Although blood sugar and urine sugar are correlated , there was no correlation observed between blood sugar and the other two ; thus , the classifier was not as accurate as the one using the results of low cost tests and the urine test . In addition , the false negative rate of the multiple classifier strategy starting with the blood sugar test was higher than that of the single classifier strategy across almost all the cost rates . Because the classifier using only the results of the low cost tests achieved an AUC of 0:826 , which is comparable to the AUC of the classifier using the results of the low cost tests and the blood sugar test , it was not helpful to collect the results of the blood sugar test while the test was relatively expensive .
Investigating the trained classification model , we observed several important factors affecting the detection of the subject risk levels . A subject was likely to be at a high risk according to the overall risk level when his/her result of arrhythmia , blood pressure , or body mass index was categorized as Affected or Emergency . In contrast , a subject was likely to be at a low risk as per the overall risk level when his/her result of blood pressure , body mass index , or body temperature was categorized as Healthy . We also found that the responses to the questionnaire were helpful for discovering the high risk subjects . If subjects answered that they periodically took anti diabetic medicine , they had a high probability of being at a high risk .
For applying our multiple classifier approach , users need to predefine the strategy , conservative or aggressive , they want to use and the threshold parameter . Because the choice of a suitable setting depends on the requirements of the total cost and the false negative rate , we recommend that the users first conduct an initial experiment by collecting the results of all the high cost tests for a small number of subjects , apply the strategies with varying thresholds , and plot the results as shown Figure 3 to determine the appropriate setting to use .
4 . DRUG RECOMMENDATION BASED
ON HEALTH CHECKUP RESULTS
Next , we address the problem of predicting drugs that should be prescribed for each subject on the basis of the results of the health checkup . The aim of this prediction is to support doctors and to reduce their workloads . We also study the drug recommendation from the outcomes of the low cost tests . If we provide an accurate recommendation based on them , we can reduce the costs of the high cost tests .
1686 4.1 Problem definition
Let us assume that there are I subjects and J tests . Using the same method as that described in the Section 3.1 , when the i th subject takes the j th test , we incur the cost of cj and obtain the feature vector xij .
We assume that there are L types of drugs . When a doctor conducts a tele prescription session , the subject will be provided a drug prescription specifying at least one drug .
Let pi = ( pi1 ; pi2; ; piL ) denote the prescription for the i th subject , where pil = 1 if the l th drug is prescribed to the subject , and pil = 0 otherwise . Note that the doctors require the outcomes of all the low cost and high cost tests of the subject to prepare a prescription for the subject .
Our goal is to predict the prescriptions and to output the gi:I . predictions f ^pi 4.2 Approaches
We assume that we have the N prescriptions provided from the doctors , and apply supervised learning methods to train predictors . We study three approaches to build the predictors .
421 Single task learning with low cost and high cost features
We first present a simple method to train a discrete classifier ^gJl ( ) for each l 2 f1 ; 2; ; Lg . We call this approach single task learning . The classifier ^gJl ( ) takes the feature vectors fxijgj21;2; ;L and returns 1 if the l th drug should be ordered to the i th subject ; otherwise , it returns 0 . When we use the results of all the low cost and the high cost tests for the prediction , the total costs of providing recommendations for all the subjects will be C = I
∑
J j=1 cj .
422 Multi task learning with low cost and high cost features
One can presume that the order of drugs is associated to one another . Multi task learning has been proposed for such a case where there are multiple related prediction tasks . A multi task learning method builds a classifier ^gJ ( ) that takes the feature vectors fxijgj:J and returns f0 ; 1gL . When we use the results of all the low cost and the high cost tests J for the prediction , the total costs will be C = I j=1 cj as well .
∑
423 Multi task learning with low cost features We also attempt to make predictions only from the results of the low cost tests . In this case , we build the classifier ^g1 ( ) that takes the feature vector xi1 as input and returns f0 ; 1gL . This approach only needs the cost of training data ; J j=1 cj , and we can save thus , the total cost will be C = N the cost of offering the high cost tests to N , I subjects . 4.3 Evaluation
∑
We evaluate the accuracy of the prediction approaches by using the actual prescription data collected through our field study .
431 Experimental setting We used the data of 2;461 subjects who took the teleprescription sessions . When a prediction approach employed the results of all the low cost and high cost tests , we used all the checkup items described in Section 21
Table 2 : Averages and standard deviations of AUC for all the target drugs
Approach Multi task learning with low and high cost features Multi task learning with low cost features Single task learning with low and high cost features
AUC 0:676 0:101 0:663 0:095 0:631 0:125
We employed an implementation of multi task learning ( sklearn.linear model.MultiTaskLasso ) provided by scikitlearn [ 10 ] , which deploys a multi task learning method with an L1/L2 mixed norm regularizer [ 7 ] . Further , we applied an implementation of the L1 regularized linear regression method ( sklearn.linear model.Lasso ) for comparing the single task and the multi task learning methods . Hyperparameters for each method were determined by using a five fold cross validation on the prescriptions of first N = 1476 ( 60 % ) subjects . The prescriptions of the rest of the subjects were used for testing . We selected 32 out of 49 drugs that were prescribed to at least five subjects in the test data for a reasonable comparison . We use the AUC values for measuring the accuracy .
432 Results and discussion Averages and standard deviations of AUC over all the target drugs are shown in Table 2 . It is observed that compared with the single task method and multi task methods , the multi task methods produced more accurate prediction than the single task method . We also found that the method using only the low cost features is comparable to the one that uses both the low cost and high cost features ; the difference between the average AUC of multi task learning with the low cost and high cost features and that of multi task learning with the low cost features is only 1:6 % .
Prediction performance for each drug is illustrated in Figure 4 . Multi task learning with low cost and high cost features achieved an AUC of more than 0:8 in the case of 4 out of 32 drugs . The high scoring drugs are as follows : oral hypoglycemic drugs , drugs for angina and ischaemic heart diseases , drugs for hypertension , and drugs for iron deficiency anaemias . The method particularly showed an appreciable recommendation performance with AUC=0:938 for oral hypoglycemic drugs . However , the performance for this drug became inferior when we used the multi task learning with low cost features ; it scored an AUC of 0:761 . The results of the blood sugar test , one of the high cost tests , would be important to make an accurate recommendation of this drug . For the three other drugs , the method without using the results of high cost tests worked as good as the one using the results of both tests . This is a promising result toward reducing the checkup costs to make recommendations of these three drugs .
We also observed that the standard deviation of the singletask learning method was relatively larger than that of the multi task learning method . This indicates that the multitask learning method provides stable drug recommendations .
1687 Figure 4 : AUC score of drug recommendation . The multi task learning methods score more than 0:8 in the case of 4 out of 32 drugs , and provide more robust recommendations than the single task learning method . The multi task learning method that uses only the low cost features shows a comparable performance with the one using both the low cost and high cost features for most of the drugs .
We examined the model obtained by multi task learning with the results of the low cost tests . We found that blood pressure was the main factor for predicting the need for drugs for angina and ischemic heart diseases and drugs for hypertension . Investigating the classification model built by multi task learning with the results of the low cost and high cost tests , we found that blood sugar was a key factor in determining that subjects required oral hypoglycemic drugs . These findings supported our consideration that the results of the blood sugar test were important for providing an accurate recommendation of such a drug .
5 . FUTURE RISK PREDICTION FOR EF
FICIENT FOLLOW UP PROCESS
Finally , we target the process of follow up checkups . The aim of this process is to take care of the subjects who still have a health problem or who become high risk subjects after a checkup . If we only have a limited budget for the follow up process , it will be more efficient to set the priority to subjects who are currently classified as high risk subjects . We discuss the use of prediction approaches to determine the priority . 5.1 Problem definition
Let us assume that there are I subjects who are the targets of the follow up checkups . We are given the outcomes of the previous checkups fxig for each i 2 f1 ; 2; ; Ig . Let qi 2 f0 ; 1g indicate the current risk level of the i th subject . We need to examine whether each subject is currently at a high risk ( qi = 1 ) or not ( qi = 0 ) . The cost c is required to investigate the current risk level of each subject ; that is , we will be given the current risk of a subject qi if we spend the cost of c ; otherwise , we will not observe it . We also assume that there is a budget constraint C .
Our goal is to determine the priority of subjects on the basis of the results of previous checkups so that we can examine as many of the high risk subjects as possible under the budget constraint . 5.2 Approaches
We can also apply the prediction approaches to address this problem . First , we offer the follow ups to N subjects , where N is assumed to be a small number . Using the N sample , we train an initial classifier ^h ( ) that takes the out comes of the previous checkup fxig as input and predicts the probability of the i,th subject being at high risk , ie , ^h ( xi ) = Pr [ qi = 1 j xi ] . We use the output of this classifier to decide the next subject to offer the follow up checkup . When the i th subject is investigated , we obtain the new label qi , which we can use for improving the classifier .
We present two selection strategies that determine the next subject to be taken care of . 521 Exploitation only strategy The first strategy , called exploitation only , always selects the subject who is the most likely to be at high risk . Namely , by using the classifier ^h ( ) , this strategy selects the i fi th subject by evaluating fi
( 1 ) where I corresponds to a set of subjects who have not had a follow up yet . 522 Exploration and exploitation strategy with ac
^h ( xi ) ; i
= arg max i2I tive learning
If we have a well trained classification and it precisely selects the high risk subjects , the exploitation only strategy may work efficiently . However , because of the budget constraint , we have recourse to a classifier trained with a small number of samples and need to incrementally improve the classifier . Choosing the high risk subjects is not always a good strategy for improving the classifier , because it is likely to collect similar samples . A reasonable solution is to select subjects that are informative in order to improve the classifier as well as the high risk subjects . Thus , we can achieve a balance between exploration ( acquiring new information ) and exploitation ( taking the most beneficial action based on the knowledge obtained thus far ) .
A simple strategy called epsilon greedy has been proposed in the area of reinforcement learning to achieve a suitable trade off between exploration and exploitation [ 16 ] . This strategy randomly chooses a sample ( ie , subject ) with the probability of ϵ and selects the sample expected to yield the highest return with the probability of 1 , ϵ . In our problem , the sample selected with the probability of 1 , ϵ corresponds to a subject at high risk .
We further modify the epsilon greedy strategy by incorporating the notion of active learning to make it more appro
1688 by varying the cost rate , and the ratio of the subjects we can offer the follow up checkups to under the budget constraint . We compared the two strategies , namely , the exploitationonly strategy and the exploration and exploitation strategy , with the actual follow up order and the ideal order . 532 Results and discussion Figure 5 shows that both of the proposed active learning strategies reach better high risk subject coverage for all choices of ϵ , which indicates that they are efficient sampling strategies .
For example , when the budget constraint is at 40 % , the actual coverage rate is 46:4 % , while the exploitation only strategy achieved 60:5 % and the exploration and exploitation strategy with ϵ = 0:8 achieved 66:6 % coverage . Among the proposed strategies , not much difference is observed up to 0:15 cost rate . For higher cost rates , higher coverage rates were achieved by the exploration and exploitation strategy ; this is probably because it selected more informative samples to improve the classifier . The exploration and exploitation strategy showed the best and most stable performance at ϵ = 0:8 , which puts emphasis the importance of on collecting informative samples .
The trained model indicated that the responses on the questionnaire were helpful for detecting subjects who were still at high risk or who became high risk subjects after the previous checkup . For example , if subjects answered they did not periodically consult with doctors in the previous checkup , they were likely to be at high risk in the follow up checkup . Conversely , if subjects answered that they walked faster than the other people of the same sex and similar age , they were expected to be at low risk when the follow up was conducted .
6 . RELATED WORK
There have been many projects aimed at improving healthcare in developing countries . Ramachandran et al . showed that lifestyle modification could prevent type 2 diabetes in Asian Indian subjects [ 12 ] , Rajput et al . studied an Android based mHealth system in South Africa [ 11 ] , and Ramachandran et al . conducted an intervention program in India by using mobile phone messaging for getting advice and support for lifestyle modification [ 13 ] . While these authors and we share the ultimate goal , to the best of our knowledge , our work is the first attempt at introducing machine learning approaches for supporting preventive medicine programs in developing countries .
Clinical risk prediction has been studied for specific diseases such as Alzheimer ’s disease [ 14 , 17 , 18 ] , heart failure [ 17 ] , and leukemia [ 3 ] . These studies built prediction models from different types of medical data such as magnetic resonance imaging , positron emission tomography , cerebrospinal fluid , and flow cytometry . Ng et al . developed a general framework for clinical risk prediction using electronic health records ( EHR ) [ 5 ] . Our risk prediction method follows this line ; however , we focus on a situation where we do not have much information about subjects and we need to reduce the costs of the checkups . A few drug systems have been proposed for supporting physicians , such as a system that predicts patient abilities to protect themselves from infectious diseases and uses this information for selecting appropriate drugs [ 15 ] , or a case based system that retrieves similar patients from previous prescrip
Figure 5 : Coverage rate of high risk subjects versus the cost of follow up checkup . The explorationand exploitation strategy significantly improves the coverage of the original follow up procedure . priate for classification problems . Active learning is a framework where an algorithm iteratively selects an informative sample and query whose label . Uncertainty sampling is a common algorithm . In the binary classification case , the algorithm selects the sample with the least certainty of being positive ; that is , it chooses the i
th subject by evaluating fi fi i
= arg min i2I j ^h ( xi ) , 0:5 j :
( 2 )
We combine uncertainty sampling and the epsilon greedy strategy and implement our exploration and exploitation strategy for determining the priority of the subjects . In each step , our strategy selects the most uncertain subject by using ( 2 ) with the probability of ϵ , and selects the subject who is the most likely to be at high risk by using ( 1 ) with the probability of 1 , ϵ . It is worth noticing that this strategy is applicable in other problems , such as collecting positive samples from an unlabeled multi relational dataset [ 2 ] . 5.3 Evaluation
We compare the proposed active learning approach with the original follow up procedure in terms of the coverage rate under budget constraints . 531 Experimental setting We used the data of 2 ; 109 subjects who underwent both the first year checkup and the second year checkup . All of the features except for measurements of the hemoglobin level and optional questionnaires were used . We categorized the subjects with Affected and Emergency risk levels into the high risk group , and the others are in the lowrisk groups ; they are used for the class labels . We employed an L2 regularized logistic regression implementation ( sklearn.linear model.SGDClassifier ) , whose hyperparameters were determined by using a five fold cross validation on the first N = 21 ( 1 % ) subjects who underwent the secondyear checkups . The hyperparameter ϵ for the exploration and exploitation strategy was chosen from f0:2 ; 0:5 ; 0:8g ; we ran 10 experiments for each of them . We used the coverage rate of high risk subjects under budget constraints as the performance measure , which is defined as the ratio of the number of high risk subjects covered by predictions to the total number of high risk subjects . We investigated the coverage rate
1689 tion records [ 4 ] . These systems do not consider the costs of collecting information about the patients .
7 . CONCLUSION
We have reported on our feasibility study to apply predictive modeling approaches to a low cost preventive medicine program in Bangladesh . Through the evaluation using real data collected from a field experiment in Bangladesh , we showed that our approach with multiple classifiers successfully reduced the costs of health checkups , a multi task learning method provided accurate recommendation for specific types of drugs , and an active learning method achieved an efficient assignment of healthcare workers to the followup cares of subjects .
One possible future work is to deploy the predictive approaches used in this study to actual preventive medicine programs . Developing more sophisticated methods to assign budgets and human resources in preventive medicine programs is also a promising research direction to popularize preventive medicine .
8 . ACKNOWLEDGMENTS
This research has been supported by the Funding Program for World Leading Innovative R&D on Science and Technology , \Development of the fastest database engine for the era of very large database and experiment and evaluation of strategic social service enabled by the database engine" , and a Health Labor Sciences Research Grant , \Study of establishment and diffusion of standards needed for secondary utilization of electronic medical information."
9 . REFERENCES [ 1 ] A . Alwan et al . Global status report on noncommunicable diseases 2010 . World Health Organization , 2011 .
[ 2 ] H . Kajino , A . Kishimoto , A . Botea , E . Daly , and
S . Kotoulas . Active learning for multi relational data construction . In Proceedings of the 24th World Wide Web Conference ( WWW ) , 2015 .
[ 3 ] T . Manninen , H . Huttunen , P . Ruusuvuori , and
M . Nykter . Leukemia prediction using sparse logistic regression . PloS one , 8(8):e72932 , 2013 .
[ 4 ] K . Miyo , Y . S . Nittami , Y . Kitagawa , K . Ohe , et al . Development of case based medication alerting and recommender system : a new approach to prevention for medication error . In Proceedings of the 12th World Congress on Health ( Medical ) Informatics ( MEDINFO ) , 2007 .
[ 5 ] K . Ng , A . Ghoting , S . R . Steinhubl , W . F . Stewart ,
B . Malin , and J . Sun . PARAMO : A PARAllel predictive MOdeling platform for healthcare analytic research using electronic health records . Journal of biomedical informatics , 48:160{170 , 2014 .
[ 6 ] Y . Nohara , E . Kai , P . P . Ghosh , R . Islam , A . Ahmed ,
M . Kuroda , S . Inoue , T . Hiramatsu , M . Kimura , S . Shimizu , K . Kobayashi , Y . Baba , H . Kashima , K . Tsuda , M . Sugiyama , M . Blondel , N . Ueda , M . Kitsuregawa , and N . Nakashima . Health checkup and telemedical intervention program for preventive medicine in developing countries : Verification study . Journal of Medical Internet Research ( JMIR ) , 17(1):e2 , 2015 .
[ 7 ] G . Obozinski and B . Taskar . Multi task feature selection . In Proceedings of the Workshop on Structural Knowledge Transfer for Machine Learning , 2006 .
[ 8 ] W . H . Organization . Global health observatory data repository , density of physicians . http://appswhoint/gho/data/nodemainA1444 [ 9 ] W . H . Organization . Non communicable diseases a major health challenge of the 21st century . World Health Statistics 2012 , pages 34{37 , 2012 .
[ 10 ] F . Pedregosa , G . Varoquaux , A . Gramfort , V . Michel ,
B . Thirion , O . Grisel , M . Blondel , P . Prettenhofer , R . Weiss , V . Dubourg , J . Vanderplas , A . Passos , D . Cournapeau , M . Brucher , M . Perrot , and E . Duchesnay . Scikit learn : Machine learning in Python . Journal of Machine Learning Research , 12:2825{2830 , 2011 .
[ 11 ] Z . A . Rajput , S . Mbugua , D . Amadi , V . Chepng’eno ,
J . J . Saleem , Y . Anokwa , C . Hartung , G . Borriello , B . W . Mamlin , S . K . Ndege , et al . Evaluation of an Android based mHealth system for population surveillance in developing countries . Journal of the American Medical Informatics Association , 2012 .
[ 12 ] A . Ramachandran , C . Snehalatha , S . Mary ,
B . Mukesh , A . Bhaskar , and V . Vijay . The Indian diabetes prevention programme shows that lifestyle modification and metformin prevent type 2 diabetes in Asian Indian subjects with impaired glucose tolerance ( IDPP 1 ) . Diabetologia , 49(2):289{297 , 2006 .
[ 13 ] A . Ramachandran , C . Snehalatha , J . Ram , S . Selvam , M . Simon , A . Nanditha , A . S . Shetty , I . F . Godsland , N . Chaturvedi , A . Majeed , et al . Effectiveness of mobile phone messaging in prevention of type 2 diabetes by lifestyle modification in men in India : a prospective , parallel group , randomised controlled trial . The Lancet Diabetes & Endocrinology , 1(3):191{198 , 2013 .
[ 14 ] A . Rao , Y . Lee , A . Gass , and A . Monsch .
Classification of alzheimer ’s disease from structural mri using sparse logistic regression with optional spatial regularization . In Proceedings of the 33rd Annual International Conference of the IEEE Engineering in Medicine and Biology Society ( EMBS ) , pages 4499{4502 , 2011 .
[ 15 ] K . Shimada , H . Takada , S . Mitsuyama , H . Ban ,
H . Matsuo , H . Otake , H . Kunishima , K . Kanemitsu , and M . Kaku . Drug recommendation system for patients with infectious diseases . In AMIA Annual Symposium Proceedings , page 1112 , 2005 .
[ 16 ] R . S . Sutton and A . G . Barto . Introduction to
Reinforcement Learning . MIT Press , 1st edition , 1998 .
[ 17 ] F . Wang , P . Zhang , B . Qian , X . Wang , and
I . Davidson . Clinical risk prediction with multilinear sparse logistic regression . In Proceedings of the 20th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining ( KDD ) , pages 145{154 , 2014 .
[ 18 ] S . Xiang , L . Yuan , W . Fan , Y . Wang , P . M .
Thompson , and J . Ye . Multi source learning with block wise missing data for alzheimer ’s disease prediction . In Proceedings of the 19th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining ( KDD ) , pages 185{193 , 2013 .
1690

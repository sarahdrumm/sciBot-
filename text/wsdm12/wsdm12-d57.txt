Understanding Cyclic Trends in Social Choices
Anish Das Sarma
Google Research anishdassarma@gmailcom
Sreenivas Gollapudi
Microsoft Research sreenig@microsoft.com
Li Zhang
Microsoft Research lzha@microsoft.com
Rina Panigrahy Microsoft Research rina@microsoft.com
ABSTRACT Motivated by trends in popularity of products , we present a formal model for studying trends in our choice of products in terms of three parameters : ( 1 ) their innate utility ; ( 2 ) individual boredom associated with repeated usage of an item ; and ( 3 ) social influences associated with the preferences from other people . Different from previous work , in this paper we introduce boredom to explain the cyclic pattern in individual and social choices . We formally model boredom and show that a rational individual would make cyclic choices when considering the boredom factor . Furthermore , we extend the model to social choices by showing that a society that votes for a particular style or product can be viewed as a single individual cycling through different choices .
We adopt a natural model of utility an individual derives from using an item , ie , the utility of an item gets discounted by its repeated use and increases when the item is not used . We address the problem of optimally choosing items for usage , so as to maximize overall user satisfaction over a period of time . First we show that the simple greedy heuristic of always choosing the item with the maximum current composite utility can be arbitrarily worse than the optimal . Second , we prove that even with just a single individual , determining the optimal strategy for choosing items is NP hard . Third , we show that a simple modification to the greedy algorithm is a provably close approximation to the optimal strategy . Finally , we present an experimental study over real world data collected from query logs to compare our algorithms .
Categories and Subject Descriptors F.0 [ Theory of Computation ] : General
General Terms Algorithms , Theory , Human Factors , Economics
Keywords fashion trends , cyclic trends , social choice
1 .
INTRODUCTION
When an individual or a society is repeatedly presented with multiple substitutable choices , we often observe a recurring shift of user preferences over time . Many studies have observed that the choices of a society tend to be cyclic [ 11 , 12 , 5 , 4 ] . While some trends are relatively easy to explain ( eg , sweater sales increasing in the winter ) , some other trends may result from a variety of factors , including social influence , novelty of an item , and its innate value to a user .
In this paper , we describe a utility model that combines different factors that may result in cyclic choices . We study the computational issues under the model and provide simple mechanisms by which consumers may make close to optimal decisions on which products to consume and when , in order to maximize their overall utility . In contrast , we give examples in which the ( natural ) greedy algorithm that maximizes short term utility can be much worse in long run . Further , we show that under a linear social influence model , the society can be viewed as an individual , and we can apply the algorithm designed for an individual to achieve nearly optimal social welfare . Therefore , our algorithm can be useful for a company or website in deciding which items to show to the users in order to maximize the total user satisfaction in long term . We also conduct experiments to show how various parameters in our model can be estimated as well as validate our algorithms .
In our model , a user lives in discrete time periods and at each time period chooses to consume one from a set of items , representing any product , good , or concept the user consumes repeatedly . We consider three broad categories of factors that may impact the user ’s utility of choosing an item . The first , and perhaps the most basic , cause of a product becoming trendy is its innate utility , intuitively capturing the value it gives an individual . Second , psychologically , a person ’s utility of consuming a product may be discounted by repeated consumption of the same item . This results in the user choosing new and different products as she gets tired of existing products.Third , while at an individual level , we have certain inclinations based on our tastes , these are influenced by social phenomena , such as friends’ or celebrities’ preferences . Our utility model is based on the aforementioned factors .
Innate utility : The utility of an item captures the innate value the item provides to an individual . We assume it is fixed , independent of other influences .
Individual boredom : If we use any item for too long , we
593 get bored of it , and our appreciation for it goes down . This is modeled as a negative component added to the utility . This factor grows if one repeatedly uses the same item and fades away when one stops consuming the item .
To model boredom on any item at any given time t , we associate with each past usage of the item , say at time t , a factor in the form of ( 1 − r)t−t for some r < 1 . Then the total boredom on the item takes the sum of the this factor from all the past usage of the item . This definition captures the intuition that the boredom grows if an item is repeatedly used .
Utility maximization with boredom turns out to be hard — as we show in the paper , it is NP hard to determine the optimal consumptions under the boredom model . One natural heuristic is the greedy algorithm in which the user , at each time t , always chooses the item with the maximum ui(t ) , based on the consumption history of the user . We construct an example to show that the natural greedy algorithm may result in overall utility far less than the optimum . On the other hand , we show a slightly adapted “ greedy ” algorithm can lead to close to the optimal utility . In the proposed algorithm , in addition to the past history , the user also factors in the boredom effect the item might have on the future consumption and calculates a “ shadow ” utility of each item by double the boredom . We show that by picking the item that maximize the “ shadow ” utility every time , the user can achieve close to optimal utility in long run when the boredom decay rate is small . Social influence : Our valuation of an item can change significantly by the valuation of our friends or influencing people . For example , when we see that many people around us like something we may start liking it ; or we may consciously want to differ from some other people around us . We model such influences as a weighted linear combination from other people.1
The effect of social influence can be formalized using a linear model . For example , to model social influence , consider one item and a society consisting of m people . Let G denote the influence graph on these people that is directed where each edge is labeled with a weight that indicates the strength of this influence . A high value on an edge , such as outgoing edges from celebrities indicates a strong outgoing influence ; on the other hand a negative value indicates a desire to distance oneself or be different from the source node . Let A denote the corresponding influence matrix . let ui(t ) denote the utility of the item to the ith person ; let u(t ) denote the vector of utilities . If we assume that for each time step the influence from all friends of a person add linearly then we may write u(t + 1 ) = Au(t ) , which is similar to [ 11 ] . Note that for stability of this iterative powers , we should assume that its top eigenvector has magnitude 1 . We will show that under this influence model , we may treat the society as an individual making choices under the effect of boredom .
From a broader standpoint , one of the main points our model makes is that trends in social choices can be viewed as not just the effect of the influence of a privileged few but more as a democratic process that churns the social boredom
1Additional influence may come from the association of a product to things/concepts we like or dislike . For instance , someone may be very fond of green technologies or dislike things that are scary . We may simply model such concepts as individuals .
Figure 1 : Cycles resulting from negative influences : Consider a system with two types of people : ( 1 ) followers , who always imitate the trendsetters , and ( 2 ) trendsetters who always attempt to distinguish themselves from the followers . Such a system will result in a cyclic preferences . and channels the innate instinct for change . Boredom is the innate psychological force that dulls the effect of a constant stimulus over a period of time and make us look for newer stimuli . Thus the coolness of an item drops over time and things that we haven’t seen or used in a long time begin to appear more cool . Another point the paper makes is that several scenarios involving individual and social choices are essentially driven by the same underlying principles . Boredom is thus the single most and simplest explanation for oscillations in individual and social choices . This is not at all surprising ; indeed boredom is perhaps a strong influence when we make choices on items such as food , clothes , and songs . Social influence no doubt plays a large part in individual choices . But when we look at the social system as a whole the influences across individuals are forces within the system and in the net effect it simply gives a larger voice to the more influential individuals . We also note that influence by itself is not sufficient to create cyclic behavior . In fact , if all influences are positive then without any boredom the system u(t + 1 ) = Au(t ) converges to a fixed value resulting in a fixed social choice .
Finally , we recognize that the factors we consider are by no means comprehensive ; several other factors may change the values of nodes . Our decay model for boredom and linear model for influence may be too simplistic . Nonetheless , we believe boredom and social influence capture several important aspects of the underlying psychological processes that people use to value items .
Related work . Understanding social choices particularly in the context of fashion trends are of significant academic interest as well as commercial importance in various fields , including brand advertising and market economics . There ’s a large body of work in multiple disciplines – sociology ( eg [ 5 , 4] ) , economics ( eg [ 7] ) , and marketing ( eg [ 11 , 12] ) , on theories for evolution of fashion . Our work is inspired by [ 11 ] in which the authors propose a mathematical model for unifying many existing explanations for fashion cycles . We will describe [ 11 ] in more details and contrast the difference of our work .
Reference [ 11 ] proposed a formal model of fashion based on association rules . Intuitively , an individual ’s utility for trendsetterstrendsettersfollowersfollowers+ 594 an item is impacted by how similar it is to items he likes , and how dissimilar it is to items he dislikes . Further , he is influenced by the society through other individuals’ preferences for various items . Consider a single item , whose consumption vector is given by c(t ) at time t . Considering the recurrence c(t+1 ) = W c(t ) , where W is the weight influence matrix , [ 11 ] observed that if the matrix W has a complex top eigenvalue ( corresponding to negative influences ) , then the item ’s consumption pattern may be periodic , producing cycles in preferences ( as shown in Figure 1 ) . Our model of utility is similar to the consumption model in [ 11 ] . However , we consider an additional parameter of boredom that is essential to explain fashion cycles in a society with nonnegative influences as such a matrix W always has a real top eigenvalue . The following argument shows that a matrix with non negative influences cannot result in cycles .
Observation 11 The process c(t + 1 ) = W c(t ) converges to a fixed point if W has no non negative entries and is eigen decomposable where the magnitude of any eigenvalue is at most 1 . That is , it cannot result in cyclic behavior where c takes different values repeatedly as t → ∞
Proof . The basic idea is that if W is eigen decomposable , it can be written as W = QDQ−1 where D is the diagonal matrix of eigenvalues and the columns of Q are the eigenvectors . Now W t = QDtQ−1 which is dominated by the largest ( in magnitude ) eigenvalue . We already assumed the magnitudes are at most 1 for stability . If the top eigenvalue in magnitude is −1 ( or complex ) then we will see a behavior like ( −1)t which cycles through the values 1,−1 , 1,−1 , If the top eigen values are the kth roots of 1 then we will get cyclic behavior with periodicity k .
But , if W is non negative , the Perron Frobenius theorem [ 2 ] states that there is a unique dominant positive eigenvalue . Then W t = QDtQ−1 converges to 0 if eigenvalue of top magnitude is less than 1 and to q 1q1 if the unique top eigenvalue is 1 , where q1 is the eigenvector corresponding to the top eigenvalue .
Some other recent work ( eg ,
[ 6 ] ) study behavioral influences in social networks , such as in terms of information propagation . For instance , [ 8 ] studies how two competing products spread in society , [ 9 ] provides techniques for tracking and representing “ memes ” , which may be used to analyze news cycles , and [ 10 ] studies how recommendations propagate in a network through social influence .
The focus of our paper is on formalizing a theory for social choices in the presence of boredom , combined with social influence . Therefore , for a large part of the paper we consider only a single individual and study cyclic trends based on boredom . In our extension to multiple individuals , we assume a linear weighting of influences from friends’ preferences for particular items .
2 . CONTRIBUTIONS OF OUR STUDY 2.1 Modeling individual boredom
We consider a user living in discrete time periods 0 , 1 , . . . and consuming one item among n substitutable items at each time ; for example , a person needs to decide which restaurant to go to every night or which political party to vote for every four years . We assume that each item i brings a base utility vi to the user . Now if we assume that the utilities are fixed then the user would always choose the item with the maximum vi . This would be inconsistent with the observed common behavior of cycling among multiple items . In order to explain cyclic choices , it is necessary to model the utility dependence of the consumptions across different time periods .
We propose a simple model in which the utility of an item at any time t is the base utility discounted by a boredom factor proportional to the “ memory ” the person has developed by using this item in the past . The more often or more recent the user has used the item , the more memory and boredom is developed for the item , and consequently the less utility the item has to the user . of i at time t is Mi(t ) = rt−1
We naturally assume that the memory drops geometrically over time , and the total memory of a person is bounded . This leads to the following definition of memory . Let 0 < r < 1 be a memory decay rate , ie , the rate at which a person “ forgets ” about things . Let xi(t ) ∈ {0 , 1} indicate if the user uses the item i at time t . Then the memory τ =0 xi(τ )(1 − r)t−τ . We add the factor r so that Mi(t ) ≤ 1 . This is equivalent to the recurrence Mi(t + 1 ) = ( 1 − r)Mi(t ) + rxi(t ) . Note that r can be viewed as the decay rate because if an item is used once in the beginning and then never used then its memory after time t is ( 1 − r)t ≈ e−rt ( for small r ) .
Another important point to note is that a small decay rate is very different from a decay rate of 0 . Look at the Mi(t ) = ( 1 − r)Mi(t ) + rxi(t ) = rt−1 equation Mi(t + 1 ) = ( 1 − r)Mi(t ) + rxi(t ) . If r = 0 If r → 0 , then Mi(t ) is always 0 – there is no memory . τ =0 xi(τ )(1 − r)t−τ = t−1 t−1 τ =0 xi(τ )(1−r)t−τ which is like the weighted average fracτ =0(1−r)t−τ tion of time the item was used where most of the weight is in the last O(1/r ) time steps . Thus if r = 0 memory is always 0 , but if r is tiny then on continuous use of an item its memory will reach close to 1 in O(1/r ) time steps .
The boredom bi(t ) = αiMi(t ) is proportional to the memory and depends on the item . The utility of item i is defined as ui(t ) = vi−bi(t ) = vi−αiMi(t ) . Henceforth , we will refer to v as the base utility and α as the boredom coefficient . 2.2 Utility optimization with boredom
With the above model , one natural question is to compute the choices of the items to maximize the user ’s overall utility . If we allow the user to choose at continuous time , the maximization problem becomes relatively easy as the best way to consume an item is to do it cyclically at regular time intervals . However , such regular placement may not be realizable in the discrete case or is hard to find . As we will show below , it is NP hard to compute the best consumption sequence .
We also consider the natural greedy strategy and show that the under the greedy strategy , the utility of each item is always bounded in a narrow band and so each item is consumed approximately cyclically . The greedy strategy , however , may have produce a sequence giving poor overall utility . We provide a simple heuristics , called double greedy strategy , and show that it emulates the cyclic pattern of the optimal solution on the real line and yields utility close to the optimal when r is small .
595 221 Greedy algorithm In the greedy strategy , at each time t , the user consumes the item with the maximum utility ui(t ) . This strategy is intuitive and probably consistent with how we make our daily decisions . We show that the utility gap between any two items is small all the time . We provide an example to show it has poor performance in terms of utility maximization , even when r → 0 . Denote by α = maxi αi .
There is an fi ≥ 0 for each item such that ( 1 ) fi = 1 ;
Theorem 21 There exists a time T such that for any t ≥ T , µ ≤ maxi ui(t ) ≤ µ + O(rα log n ) where µ is the unique solution to the following system : ( 2 ) if fi > 0 , vi − fiαi = µ , and vi < µ otherwise .
Intuitively , fi is the long run frequency of the item i gets consumed . While the greedy algorithm has the nice property of keeping the utility gap between any items small , it may produce a sequence with poor overall utility .
Observation 21 The Greedy strategy of always picking the highest utility item each day is not optimal .
To see the non optimality of greedy , simply consider two items for beverage , say “ water ” and “ soda ” . Assume water has low innate utility say 1 and zero boredom coefficient . Soda on the other hand has high utility say 10 but also a high boredom coefficient say 10 . So if one drank soda every day its utility would drop to below that of water . Observe that the greedy strategy will choose soda till its utility drops to that of water and then switch back to soda whenever its utility rises even slightly over 1 . So the average utility of the greedy strategy is close to 1 , as soda ’s utility fluctuates around 1 . A smarter strategy is to hold off on the soda even if it is a better choice today so as to enjoy it even more on a later day . Thus it is possible to derive an average utility that is much higher than 1 . For example , we can get average utility of at least 3 by alternating between water and soda in the above example . Since the memory on an item is at most 1 , the memory on an item is at most 1/2 if it is consumed every other day . Hence the utility on soda is 10−10/2 = 5 in the above strategy . It can be easily seen that the parameters in the above example can be picked to create arbitrarily large gap between the greedy algorithm and the optimal solution . We emphasize that this gap exists for any value of r .
This naturally raises the question : what is the optimal strategy ? More importantly is there an optimal strategy that is a simple ’rule of thumb’ that is easy to remember and employ as we make the daily choices . Unfortunately it turns out that computing the optimal strategy is NP hard . Theorem 22 Given a period T , target utility U∗ , and n items , it is NP hard to determine whether there exists a selection of items with period T such that the total utility of the selection is at least U∗ .
The proof is detailed in the appendix . 222 Double greedy algorithm On the positive side we show that there is indeed a simple “ rule of thumb ” that gives an almost optimal solution when r is small . The strategy “ double greedy ” waits longer for items that we get bored of too quickly . It is a simple twist on the greedy strategy : instead of picking the item that maximizes the utility ui(t ) = ui−bi(t ) , it picks the one which maximizes wi(t ) = ui − 2bi(t ) . Thus it doubles the boredom of all items and then runs the greedy strategy . We arrive at the double greedy strategy by considering a continuous version of the problem . Intuitively , the double greedy strategy tries to equalize the “ marginal utility ” , rather than the utility as in the greedy algorithm , each item brings . Indeed , we will bound the gap between marginal utilities and show that it leads to close to optimal utility when r is small .
Theorem 23 Let U denote the average utility obtained by the double greedy algorithm and U∗ the optimal utility . Then U ≥ U∗ − O(rα log n ) where α = maxi αi . 2.3 Fashion as a Social Choice
A choice is a fashion , if it is the choice of a large fraction of the society . Thus a society only supports a small number of fashions . Industries often target one type of fashion for each market segment . Consider a situation where the entire society consists of one fashion market segment . We will see how in this case such a society can be compared to an individual making choices to maximize utility under the effect of boredom . Each individuals utiltities depend not only on his base utility and boredom but also on the influence from other individuals .
Consider a society of n people and m possible item choices . The society needs to choose one item out of these at every time step . We will study the problem of the makiing the optimal choice so as to maximize welfare . This is applicable in the following scenarios : A business is launching the next fashion style for its market segment , or a radio channel is broadcasting songs in a sequence to maximize the welfare to its audience . Let uij(t + 1 ) denote the utility of item i to person j at time t ; let bij(t ) denote the boredom value ; let ui(t ) denote the vector of utitilities to the n people for item i , vi(t ) denote the vector of base utilities , and bi(t ) denote the vector of boredom values . In the absence of boredom we will say ui(t + 1 ) = Aui(t ) where A is the influence matrix . Accounting for boredom we will say , ui(t + 1 ) = A ui(t)− [ bi(t + 1)− bi(t) ] . Note that this is consistent with the case when there is only one individual where ui(t + 1 ) = ui(t ) − [ b(t + 1 ) − b(t) ] . Observe that ignoring the effect of boredom we simply get the recurrence ui(t + 1 ) = Aui(t ) or ui(t ) = Atvi . This recurrence reflects the diffusion of influence through the social network . Note that if the largest eigenvalue of A has magnitude more than 1 then the process will diverge and if all eigenvalues are < 1 it will eventually converge to 0 . So we will assume the maximum eigenvalue of A is has magnitude 1 . If the gap between the magnitude of the largest and the second largest eigenvalue is at least then this diffusion process converges quickly in about ˜Θ(1/ ) steps . We will focus on the case when rate of boredom r is much slower than the diffusion rate ( this corresponds to the case where influences spread fast and the boredom grows slowly ) . We then study the problem of making social choices of items over time so as to maximize welfare .
We will assume that A is diagonlizable and has a real top eigenvalue of 1 and all the other eigenvalues are smaller in magnitude . In that case it is well known that for any vector x Atx converges to to a fixed point and the speed of convergence depends on the gap between the largest and second largest eigenvalue . We show that under certain conditions if r/ is small then . the choices made by the society is comparable to the choices made by an individual with appropriate base utilities and boredom coefficients . Let Wi(t ) denote
596 the welfare of the society at time t by choosing item i ; then Wi(t)/n
Theorem 24 Consider a society with influence matrix A that has largest eigenvalue 1 and second largest eigenvalue of magnitude at most 1 − . For computing the welfare over a a sequence of social choices approximately , such a society can be modelled as a single individual with base uitilities ˜vi and boredom coefficients ˜αi , where ˜vi = cvi and ˜αi = cαi for some vector c . Let ˜ui(t ) denote the utility of item i to such an individual at time t . ciety for the same sequence of choices until any time |Wi(t)/n− ˜ui(t)| ≤ r notation hides factors that depends on A . For a real , symmetric matrix the constant is 1
O(|αi|∞ ) for any t > T for some fixed T . The O
More precisely , differences in the average utility of the so
3 . TECHNICAL DETAILS
In this section , we include the proofs for Theorem 2.1 , 2.3 , and 2.4 and refer to Appendix B for the proof of Theorem 22 3.1 Utility optimization with boredom i Mi(t ) approaches a constant over time . The following is straightforward from the definition .
We will first show that the total memory Lemma 31 t . When t = Ω(1/r ) , implies that i Mi(t ) ≤ 1 , and i(ui − ui(t))/αi =
Recall that ui(t ) = ui − αiMi(t ) . The above lemma i Mi(t ) is about constant for sufficiently large t . Together with the fact that the change to ui(t ) is bounded by rαi , we are able to show that under the greedy strategy , the gap between ui(t ) ’s cannot grow too large . i Mi(t ) = 1 − O(exp(−tr) ) . i Mi(t ) → 1 for large
Before we prove Theorem 2.1 , we prove the following Lemma that gives us an upper bound on maxi ui(t ) .
Lemma 32 For t ≥ T and any i ∈ Sg , maxj uj(t ) − ui(t ) = O(αr log n ) , where α = maxi αi .
Proof . The proof is by looking back at the times when each item is last picked and bound the gap iteratively . The details can be found in the appendix .
We are now ready to prove Theorem 21
αi given system is unique , note that fi = ( vi−µ denotes max(x , 0 ) , and so a unique solution as
Proof . ( Theorem 2.1 ) To see that the solution to the )+ ( where x+ i( vi−µ )+ = 1 . This must have )+ is decreasing function of µ and strictly decreasing as long as the sum is positive . Let µ denote the solution to the above system . We now show maxi ui(t ) ≥ µ for any t . This is done by contradiction . Suppose that for all i ui(t ) < µ . We have that i Mi(t ) ≤ i( vi−µ
. But
= i( vi−µ vi−ui(t )
αi
αi i
αi
)+ < 1 , a contradiction . vi−ui(t ) i( vi−µ
αi
αi
Let Sg denote the set of all the items ever picked by the greedy algorithm . Let T be the time by which each item in Sg has been used at least once . By Lemma 3.1 , after i Mi(t ) converges to arbitrarily close to 1 . Lets assume for simplicity of argument that it is exactly 1 with
αi
)+ <
1 . We have that some steps i sufficiently large T . The upper bound on maxi ui(t ) follows from Lemma 32 Furthermore there exists i ∈ Sg such that ui(t ) ≤ µ be)+ > cause otherwise it would be the case that i Mi(t ) ≈ 1 , a contradiction . Hence maxj uj(t ) =
= i( vi−u vi−ui(t )
αi i
αi
µ + O(αr log n ) .
Using the exactly same argument in the proofs of Theo rem 2.1 , we can prove that
Lemma 33 There exists a time T such that for any t ≥ T , µ ≤ maxi wi(t ) ≤ µ + O(α log nr ) where µ is the unique solution to the following system : ( 2 ) if fi > 0 , vi − 2fiαi = µ , and vi < µ otherwise .
There is an fi ≥ 0 for each item such that ( 1 ) fi = 1 ;
To prove the approximation , we formulate a continuous version of the problem whose solution serves as an upperbound to the utility in the discrete case . By using Lemma 3.3 , we show that the double greedy strategy maintains each item ’s “ marginal utility ” close to that of the optimal solution from which we obtain the approximation bound . r ·
Proof . ( Theorem 2.3 ) For 0 < f ≤ 1 , write ∆(f ) = ( 1−r)1/f 1−(1−r)1/f . Let U∗ be the optimal value of the following program . fi ≤ 1 and fi ≥ 0 . fi(vi − αifi ) st max U = i i
( 1 ) Let OP T denote the optimal average utility . We have that OP T ≤ U∗ + αr . This is by observing that for any 0 < f < 1 , placing an item 1/f apart gives an upper bound on the utility of consuming the item with frequency f . The bound is v − α∆(f ) ≤ v − α(r− f ) by observing that ∆(f ) > r− f . The objective of ( 1 ) is maximized when there exists λ < λ for fi = 0 , = vi − 2αifi , λ is exactly the same as µ in the statement of Lemma 33 This explains the intuition of the double greedy heuristics — it tries to equalize the marginal utility gain of each item . Denote the optimal solution by f∗ i = µ . Hence ,
= λ for fi > 0 and ∂U ∂fi i > 0 , vi − 2αif∗ i fi = 1 . Since ∂U ∂fi and i . Then for f∗ such that ∂U ∂fi
∗
U
= i ( vi − αif ∗
∗ i ) = f
∗ i ( µ + αif
∗ i ) = µ + f
∗ i
2 .
αif i i i
Let ki denote the number of times item i is used in [ 0 , T ] by the double greedy algorithm , and fi = ki/T . Let M i denote the average memory on i at the times when i is picked . Then we have that t=0
T
≥
= i i x(t)=i
U = ux(t)(t)/T = ui(t)/T
( 2 ) i x(t)=i
( wi(t ) + αiMi(t))/T x(t)=i
( by Lemma 3.3 , wi(t ) ≥ µ )
( µ + αiMi(t))/T ≥ µ + i
αifiM i . ( 3 )
Write δ = αr log n . By Lemma 3.3 , wi(t ) = µ + O(δ ) for each i , t . We will show that i − O(δ ) . Observe that for any Claim 1 . αifi = αif∗ item i which is picked ki times in [ 0 , T ] , min0≤t≤T Mi(t ) ≤
597 i − O(δ ) .
∆(ki/T ) ≤ ki/T = fi . Hence , maxt wi(t ) ≥ vi − 2αiMi(t ) ≥ vi − 2αifi . On the other hand , wi(t ) = µ + O(δ ) . We have vi − 2αifi = µ + O(δ ) . But µ = vi − 2αif∗ i . Therefore αifi ≥ αif∗ i − O(δ ) . Since vi − 2M i ≤ µ + δ , Claim 2 . αiM i = αif∗ we obtain the bound by following the same argument as in the proof of Claim 1 . Now , plugging both claims into ( 3 ) , we have that U ≥ µ +
)2 ≥ µ +
2 − O(δ )
αi(f
αif
∗ i i − O(δ ) ∗ αi i
= U
∗ − O(δ ) = OP T − O(δ ) . i
This last equality follows from U∗ = OP T − αr . This completes the proof . 3.2 Social Choice is equivalent to individual choice
Let 1 denote the vector with all coordinates set to 1 and
αi denote the vector of boredom coefficients αij .
Observation 31 For any diagonalizable matrix A with largest eigenvalue 1 and the second largest eigenvalue is at most 1 − , there is a vector c so that . 1Atx − cx ≤ ( 1 − )t√ nO(|x|2 ) . The O notation hides factors that depends on
A . For a real , symmetric matrix the constant is 1 . denote the eigenvalues then Atx =
Proof . We will sketch the proof for real symmetric matrices . The same idea holds for non symmetric matrices . If p1 , . . . , pn denote the eigenvectors of A and 1 = λ1 , . . . , λn j λt 1x + ipix|2 ≤ ( 1 − )t|x|2 . So √ n(1− )t|x|2 Setting ipix . Now,|
1x)| ≤ |1|2(1− )t|x|2 = ix = p1v jp j>1 λt jpiv jp j>1 λt |1(Atx− p1p c = 1v1v
1 completes the proof .
We will now prove theorem 2.4 Atvi +t−1 Proof . ( Theorem 2.4 ) Let ∆b(t ) denote b(t ) − b(t − 1 ) . Now ui(t ) = Aui(t − 1 ) + ∆b(t ) . This gives , ui(t ) = t−1 j=0 Aj∆b(t ) . Note that Wi(t ) = 1ui(t ) = 1Atv+ j=0 1Aj∆ b(t − j ) Note ∆bij(t ) = αij((1 − r)Mij(t ) + rIi(t ) − Mij(t ) ) = αijr(xi(t ) − Mij(t) ) . So |∆bij(t)|2 ≤ r|αi|2 . Now |1Atvi − cvi| ≤ ( 1 − )t√ nrO(|αi|2 ) . So , | t > ( 1/ )Ω(log(nr|vi|2 ) , this is at most r . Also |1Aj∆bi(t− j ) − c∆bi(t − j)| ≤ ( 1 − )j√ nO(|∆bi(t − j)|2 ) ≤ ( 1 − nO(|αi|2 ) . So , | )j√ j c∆bi(t − √ j)| ≤ ( r/ ) j 1Aj∆bi(t − j ) − c bi(t)| ≤ √ nO(|αi|2 ) . Therefore |Wi(t ) − ( cvi − cbi(t))| ≤ √ ( r/ ) n|αi|2 ) . Dividing by n completes the proof . ( r/ )O( j 1Aj∆bi(t − j ) − nO(|vi|2 ) . For
4 . EXPERIMENTS
We now provide experimental results to study the techniques presented in the paper . Our primary objectives is to evaluate the quality of greedy and double greedy algorithms for choosing items based on utility and boredom parameters estimated from the real data . In our experiments , we consider three faimilies of fashionable items , namely songs , movies , and popular events . Based on the data from Google Trends [ 1 ] , we obtain parameters that describe the utility of various items . We then show that double greedy algorithm outperforms the greedy algorithm consistently .
4.1 Setup
We obtain data on the popularity of songs , movies , and popular events from Google Trends [ 1 ] . We collected weekly aggregate counts from query logs for popular songs from the last 5 years . Similar data was collected for popular movies and events too . The event data was gathered by collecting trends on keywords related to major “ events ” in the last 5 years . While the popularity of each entity depends on additional factors such as awards won by an album or a movie , our goal was to perform a controlled experiment only based on overall utility and boredom . Therefore , for each item we collected weekly aggregate counts starting from the highest peak in logs till there was an “ artificial peak ” due to an external event such as an award . Further , we compare the utility obtained by our model with a baseline in which the user selects an item simply based on its utility without any discounting from boredom . We describe how we compute the values of α , v , and r in the next section .
Table 1 shows the v , α , and r values for a set of 10 songs used in our experiments while the corresponding data for the movie and event data set is shown in Tables 2 and 3 ; here we allow different values of r , but we notice that all r values within the domain of songs and movies are similar . In the case of events , the lambda values are roughly similar ( although there is a little more disparity compared to songs and movies ) .
Song
The Climb
Lucky
Snow Patrol Chasing Cars
I know you want me
Viva la vida
Stop and stare
Disturbia
Pocket full of sunshine
Supernatural superserious
One step at a time v
12.3 2.6 10.7 7.95 12.4 10.5
8 7.6 24.2 9.35
α 9.9 1.58 6.8 6.5 9.1 9.4 7.2 6.3 22 8.5 r
0.097 0.114 0.127 0.077 0.16 0.092 0.092 0.14 0.15 0.075
Table 1 : v , α , r for the set of songs
4.2 Computing the model parameters
Figure 2 shows the trend observed for a specific song from our dataset , I Know You Want Me , over a 45 week period starting August 2 , 2009 . The first natural observation we make is that the total number of queries do indeed display a steady decline , which we attribute to boredom . From the data , we use the maximum count as the peak utility , vpeak , and let the final count be denoted vf inal . We set α = vpeak− vf inal . Let X(t ) denote the aggregate count for the week t , we obtain the boredom parameter r using the following equation : e−rt = 1 − vpeak−X(t ) vpeak−vmin
. We plot rt = − ln(1− vpeak−X(t ) vpeak−vmin
) , and fit a linear line on the resulting curve and obtain r from the slope . Figure 3 shows the curve for I Know You Want Me , from which we obtain the r value . 4.3 Results
We ran a set of experiments to verify the effectiveness of the greedy and double greedy heuristics . We ran the experiments over 100000 steps for both the data sets . The
598 Figure 2 : Weekly aggregate query counts for I Know You Want Me for a 45 week period from Google trends
Figure 3 : Approximate linear trend for I Know You Want Me , with slope giving r
Movie
Godfather Hancock
The Bucket List
Quantum of Solace
Tropic Thunder v
6.15 9.6 13.1 29.8 25.6
α
5.15 8.8 11.8 29 24.8 r
0.123 0.128 0.102 0.111 0.082
Dataset Greedy Double Greedy Baseline
Songs Movies Events
11.94 16.12 76.6
13.53 17.30 88.06
5.62 4.25 37.74
Table 4 : Average utility over 100000 time steps
Table 2 : movies v , α , r for the set of
Event
NASA phoeniz
Copenhagen Summit
H1N1
Lehman Brothers
Hudson River
Hurricane Katrina Mumbai Terrorist Michael Jackson
Haiti
Tsunami v
4.02 27.8 34.4 33.8 18.9 6.3 3.68 39.8 80.5 186
α
3.96 27.4 34 33.6 18.1 6.2 3.66 38.8 79.5 184 r
0.32 0.14 0.23 0.09 0.3 0.3 0.21 0.1 0.25 0.19
Table 3 : popular events v , α , r for the set of average utility obtained by the user for both the data sets was computed and is shown in Table 4 . We also show results for the baseline approach that always picks the same item with the highest base utility . Tables 5 , 6 , and 7 illustrate the average utility obtained by the user over the selected songs and movies respectively . The corresponding normalized frequencies are shown in parenthesis . As expected , in the baseline case where the user selects an item according to its base utility , the movie Quantum of Solace ( with a base utility of 29.8 ) is always selected while in the case of songs , the song supernatual superserious ( with a utility of 24.2 ) is selected . In the case of events , people always followed Tsunami ( with a base utility of 186 ) . Unsurprisingly , the average utility discounting boredom in all the cases is very low ( see Table 4 ) .
In another experiment , we measured the change in the average utility with time . Figure 4 illustrates the change in average utility as the user selects different items at each time step for movies . Naturally , the utility is highest at the very beginning as the user picks an item with the highest base utility and decreases subsequently as she picks items with highest discounted utility at each time step .
Song
The Climb
Greedy
Double Greedy
1117(017 )
Snow Patrol Chasing Cars
( 0 )
Viva la vida
Stop and stare
1161(017 )
( 0 )
Supernatural superserious
1222(067 )
Table 5 : Avg . utilities ( frequencies ) for selected songs
1111(017 ) 1024(012 ) 1124(021 ) 1008(008 ) 1752(040 )
Movie Hancock
The Bucket List
Quantum of Solace
Tropic Thunder
Greedy
Double Greedy
( 0 ) ( 0 )
1641(055 ) 1577(045 )
956(004 ) 1140(020 ) 2037(040 ) 1801(036 )
Table 6 : Avg . utilities ( frequencies ) for selected movies
Greedy
Double Greedy
Event H1N1
Michael Jackson
( 0 ) ( 0 )
Haiti
Tsunami
71.35 ( 0.25 ) 78.34 ( 0.75 )
34.4 ( 0.03 )
37.81 ( 0.094 ) 62.80 ( 0.38 ) 119.60 ( 0.50 )
Table 7 : Avg . utilities ( frequencies ) for selected events
5 . FUTURE WORK
As we mentioned , our model is by no means comprehensive . For example , boredom may come from consuming similar items , or there may be a cost when switching from item to item . Taking into account these factors raises some interesting algorithmic issues . Fully incorporating these extensions is left as future work . Acknowledgments . We thank Atish Das Sarma for useful discussions .
6 . REFERENCES [ 1 ] Google Trends . http://wwwgooglecom/trends [ 2 ] Perron Frobenius Theorem . http://enwikipedia org/wiki/Perron Frobenius_theorem .
599
∈S
1 α
. We will show that for 1 < j ≤ k ,
A(Sj−1 , tj−1 ) ≤ B(Sj−1 ) B(Sj )
A(Sj , tj ) + r .
( 4 )
First observe that
A(S , t ) = u(t )
α
=
∈S
V − αM(t )
∈S
α
∈S
−
∈S
V α
=
M(t ) .
( 5 )
( 4 ) follows from the following claims .
Claim 1 . A(Sj−1 , tj−1 ) ≤ A(Sj−1 , tj + 1 ) .
Since any item picked by the greedy algorithm in [ tj +
1 , tj−1 ] is in Sj−1 , we have that for t ∈ [ tj + 1 , tj−1 ) ,
+ 1 ) = ( 1 − r )
M(t
∈Sj−1
≥ The last inequality is by M(tj−1 ) ≥
∈Sj−1
∈Sj−1
∈Sj−1
M(t
) .
M(t
) + r
∈Sj−1 M(t ) ≤ 1 . Therefore
M(tj + 1 ) .
By ( 5 ) , we have A(Sj−1 , tj−1 ) ≤ A(Sj−1 , tj + 1 ) .
Claim 2 . A(Sj−1 , tj + 1 ) ≤ A(Sj , tj ) + r . at tj ,
Since tj /∈ Sj−1 is the item picked by the greedy algorithm M(tj ) . Thus M(tj ) ≤
M(tj + 1 ) = ( 1 − r ) M(tj ) = r
M(tj +1)− r . Again by ( 5 ) , we have A(Sj−1 , tj + 1 ) ≤ A(Sj , tj ) + r . Claim 3 . A(Sj−1 , tj ) ≤ B(Sj−1 )
∈Sj−1
∈Sj−1
∈Sj−1
∈Sj−1
∈Sj−1
B(Sj ) A(Sj , tj ) .
Immediately follows from utj ( tj ) ≥ u(tj ) for ∈ Sj−1 . Repeating ( 4 ) , we have that
A(Sj−1 , tj−1 )
≤ B(Sj−1 ) B(Sj ) ≤ B(Sj−1 ) B(Sj ) B(Sj−1 ) B(Sj+1 ) ≤ B(Sj−1 ) B(Sk )
=
A(Sj , tj ) + r
B(Sj )
B(Sj+1 )
A(Sj+1 , tj+1 ) + r
+ r
+ r ···
A(Sj+1 , tj+1 ) + r · B(Sj−1 ) B(Sj )
A(Sk , tk ) + r · k−1
B(Sj−1 ) B(S )
.
=j−1
Hence , we have that ux(t1)(t1 )
= α1A(S1 , t1 ) ≤ α1
B(S1 ) B(Sk )
A(Sk , tk ) + r · k−1
1
.
B(S )
=
1
B(Sk )
A(Sk , tk ) + r · k−1
=1
B(S1 ) B(S )
A(Sk , tk ) =
Since i = x(tk ) , for any i , ui ( tk ) ≤ ui(tk ) . Therefore = ui(tk)B(Sk ) . uj ( tk )
=1
≤ ui(tk ) j∈Sk
αj j∈Sk
1 αj
Figure 4 : Change in average utility over time .
[ 3 ] A . Bar Noy , R . Bhatia , J . Naor , and B . Schieber . Minimizing service and operation costs of periodic scheduling . Math . Oper . Res . , 27(3):518–544 , 2002 .
[ 4 ] B . Barber and L . S . Lobel . Fashion in womens clothing and the american social system . Social Forces , 1952 .
[ 5 ] H . Blumer . Fashion : From class differentiation to collective selection . Sociological Quarterly , 1969 .
[ 6 ] D . Easley and J . Kleinberg . Networks , Crowds , and
Markets : Reasoning About a Highly Connected World . Cambridge University Press , 2010 .
[ 7 ] M . P . Grindereng . Fashion diffusion . Journal of Home
Economics , 1967 .
[ 8 ] N . Immorlica , J . Kleinberg , M . Mahdian , and
T . Wexler . The role of compatibility in the diffusion of technologies through social networks . In Electronic Commerce , 2007 .
[ 9 ] J . K . J . Leskovec , L . Backstrom . Meme tracking and the dynamics of the news cycle . In Proc . 15th ACM SIGKDD Intl . Conf . on Knowledge Discovery and Data Mining , 2009 .
[ 10 ] J . Leskovec , A . Singh , and J . Kleinberg . Patterns of influence in a recommendation network . In PAKDD , 2006 .
[ 11 ] C . M . Miller , S . H . Mcintyre , and M . K . Mantrala .
Toward formalizing fashion theory . Journal of Market Research , 1993 .
[ 12 ] W . H . Reynolds . Cars and clothing : Understanding fashion trends . Journal of Marketing , 1968 .
APPENDIX A . PROOF OF LEMMA 3.2
Proof . Denote by x(t ) the item that has the maximum It suffices to show that ux(t ) ≤ ui(t ) + utility at time t . O(αr log n ) for i ∈ Sg .
We recursively compute a decreasing sequence of tj as follows . Let t1 = t . For j > 1 , suppose we have computed tj−1 . Let Sj−1 = {x(t1 ) , x(t2),··· , x(tj−1)} . Now let tj = maxt<tj−1,x(t ) /∈Sj−1 t . We stop when there is k such that x(tk ) = i . Since t > T , the process is guaranteed to stop . By the above construction , we know only items in Sj−1 are picked by the greedy algorithm in the interval [ tj +1 , t1 ] . For , and B(S ) = any S ⊆ {1,··· , n} , let A(S , t ) = u(t )
∈S
α
600 Consider the case when there is only item and when the selections are made on the real line . Given T and an item with parameters v , α , r , let Yk(v , α , r ) be the set of all the selections which have period T and choose the item exactly k times on the real interval [ 0 , T ) . Denote by Uk(v , α , r ) = maxY ∈Yk(v,α,r ) U ( Y ) and δUk(v , α , r ) = Uk(v , α , r)−Uk−1(v , α , r ) . The correctness of the reduction follows from the following claims . Claim 1 . Uk(v , α , r ) = kv − kα ( 1−r)T /k mum is achieved with the regular assignment . Claim 2 . For 1 ≤ v ≤ n , Uk(vi , 1 , 1/T ) = kvi − ( k2 − 1 2 k + 12 + o(1/k) ) , and δUk(vi , 1 , 1/T ) = vi − ( 2k − 3 2 + o(1/k) ) . Claim 3 . For any non regular integral selection Y ∈ Yk(vi , 1 , 1/T ) , U ( Y ) < Uk(vi , 1 , 1/T ) − 1/T 2 .
1−(1−r)T /k , and the maxi
1
Claim 1 holds because the total memory is minimized when the k assignments are regularly spaced . Claim 2 is a direct consequence of Claim 1 by Taylor expansion on those particular parameters . Claim 3 follows by comparing the memory caused by adjacent items between regular and nonregular assignments . From Claim 2 , we can see that δUk(vi , 1 , 1/T ) ≥ 3/2 for k ≤ T /pi and < 0 for k ≥ T /pi + 1 for 1 ≤ i ≤ n , and δUk(v0 , 0 , 1/T ) = 1 . Combining it with Claim 3 , we have that the utility gap between a regular and non regular assignment is at least 1/T 2 . Therefore the reduction is correct and can be done in polynomial time .
By that α = maxi αi , we have B(S ) ≤ /α . Hence ux(t1)(t1 ) ≤
1
B(Sk )
1
B(S )
A(Sk , tk ) + r · k−1 k−1
=1
1/
≤ ui(tk ) + αr
=1
= ui(tk ) + O(αr log n ) .
Since item i is not used during the interval of [ tk + 1 , t1 ] , we have ui(tk + 1 ) ≤ ui(t1 ) , and hence ui(tk ) ≤ ui(tk + 1 ) + αir ≤ ui(t1 ) + αir . Therefore we have that , maxj uj(t1 ) = ux(1)(t1 ) ≤ ui(t1 ) + O(αr log n ) .
B . PROOF OF THEOREM 2.2
Restatement of Theorem 2.2 : It is NP hard to decide , given T , and U∗ , and n items , whether there exist a assignment Y with period T such that U ( Y ) ≥ U∗ .
Proof . The reduction is from the following problem .
Regular assignment problem ( RAP ) . Given positive integers p1 , p2,··· , pn , determine if there exists a sequence y0 , y1,··· where yt ∈ {0 , 1,··· , n} such that for any i = 0 , two consecutive appearances of i in the sequence are exactly pi apart . problem .
It is shown in [ 3 ] that the regular assignment problem is NP complete . Note that for RAP , a regular assignment exists if and only if it does so on a cycle with length T = i pi . We will now reduce it to the optimal fashion selection Given p1,··· , pn , we create n+1 items such that a regular assignment , if exists , maximizes the utility of any periodic selection with period T . Hence we can reduce RAP to the optimal selection problem . Item 0 is a special item with v0 = 1 and αi = 0 . For 1 ≤ i ≤ n , we assign vi = 2T and αi = 1 . Further let ri = 1/T for 1 ≤ i ≤ n . We claim that there exists U∗ and ≥ 1/T 2 such that for a regular assignment Y , U ( Y ) ≥ U∗ , and U ( Y ) < U∗ − otherwise . pi
601

Event Synchronization for Interactive Cyberdrama Generation on the Web : A Distributed Approach
Stefano Ferretti
Computer Science Dept . University of Bologna
Mura A . Zamboni 7 , 40127 , Bologna , Italy
Marco Roccetti
Computer Science Dept . University of Bologna
Mura A . Zamboni 7 , 40127 , Bologna , Italy sferrett@csuniboit
ABSTRACT The digital generation of a story in which users have influence over the narrative is emerging as an exciting example of computer based interactive entertainment . Interactive storytelling has existed in non digital versions for thousand of years , but with the advent of the Web the demand for enabling distributed cyberdrama generation is becoming increasingly common . To govern the complexity stemming from the distributed generation of complex plots , we have devised an event synchronization service that may be exploited to support the distribution of interactive storytelling activities over the Web . The main novelty of our approach is that the semantics of the cyberdrama is exploited to discard obsolete events . This brings to the positive result of speeding up the activity of drama generation , thus enabling an augmented interactivity among dispersed players .
Categories and Subject Descriptors H51 [ Information Interfaces and Presentation ] : Multimedia Information Systems – artificial , augmented and virtual realities , evaluation/methodology .
General Terms Human Factors , Design , Measurement .
Keywords Cyberdrama Generation , Interactive Storytelling , Computer based Entertainment , Web based Multiplayer Games .
1 . INTRODUCTION A digital cyberdrama represents an interactive form of literature in which humans ( with the help of synthetic agents ) actively participate and assume a role in the story . This kind of computerbased entertainment , also termed interactive storytelling , is making significant advances into the world of entertainment , hence becoming an interesting alternative to the traditional linear narratives of TV , radio , movies and magazines . However , to the best of our knowledge , the most noteworthy aspect of interactive storytelling prototypes is that they are implemented within a centralized scenario where synthetic agents ( governing virtual characters ) are hosted in the same machine [ 1 , 3 , 4 ] . Instead , to allow to blossom into a new and significant medium , distributed ( Web based ) technologies must come into the picture . To distribute all the activities concerned with the generation and management of a digital cyberdrama , the basic idea is that of resorting to a loosely coupled distributed interactive storytelling
Copyright is held by the author/owner(s ) . WWW 2004 , May 17–22 , 2004 , New York , New York , USA ACM 1 58113 912 8/04/0005 . roccetti@csuniboit architecture where several servers ( named CyberDrama Servers or CDSs ) are geographically distributed over the Web . Each CDS maintains a local , replicated representation of the state of the cyberdrama . With each new action performed by users/agents connected to a given CDS , the CDS collects the corresponding event , updates the drama state , and finally , notifies these updates to each other CDS . Needless to say , sophisticated event synchronization schemes have to be adopted so as to maintain the consistency of the distributed cyberdrama state . To this aim , these synchronization schemes employ complex strategies aimed at guaranteeing the reliable delivery of all the generated events to each CDS . Unfortunately , the problem here is that these schemes may introduce large computational and communication delays , thus disrupting the interactivity in the cyberdrama generation . To overcome this kind of problem , we have designed an event delivery service which may be used to synchronize events for governing the interactive generation of cyberdramas over several CDSs on the Web . Our event synchronization scheme is based on the idea of dropping those events which become obsolete according to the cyberdrama ’s semantics . This allows to speed up the interactive generation of the cyberdrama , hence ensuring an augmented interactivity for players . We report on measurements taken from a deployed simulation that confirm the efficacy of our approach . The reminder of this paper is organized as follows . Section 2 introduces our event synchronization service . Section 3 reports on some simulation results obtained in an experimental study we developed and , finally , Section 4 concludes the paper .
2 . PROBLEM STATEMENT AND A POSSIBLE SOLUTION It is well known that a totally ordered event delivery scheme is sufficient to ensure state consistency across different servers ( ie CDSs ) . However , the communication complexity derived from such an approach may drastically slow down the dynamic evolution of a cyberdrama , thus impairing interactivity . We propose a novel approach to event synchronization among different CDSs that allows to relax the total order delivery requirement for augmented interactivity . Our scheme rests upon the idea of exploiting the semantics of a cyberdrama during its generation/evolution . An important aspect to be investigated here is whether events may be discarded that have lost their relevance during the cyberdrama evolution . This may be the case when subsequent events have the effect of making irrelevant “ older ” events [ 2 ] . For example , knowing the position of a given virtual entity active in a cyberdrama at a certain time may be no longer important when the position of this virtual entity changes as time passes . In essence , events may exist whose importance diminishes when “ fresher ” events are generated . We denote this kind of relationship among events as obsolescence . A possible obsolescence example is the following . Denote with e1 the event “ move the diary to the bedroom ” and with e2 the event “ move the
226 diary to the living room ” . Both events are generated by the character Alice in the following order : first e1 , then e2 . Suppose that a given CDS does not receive e1 but receives e2 straight after . In this case , still a consistent cyberdrama state is maintained at that CDS , as the execution of e2 ( without the execution of e1 ) brings to the same final state in the story . Based on the notion of obsolescence , we devised an event delivery approach that guarantees that each non obsolete event is reliably delivered at all the CDSs on the Web . Instead , in the case when an event e has become obsolete due to the occurrence of a “ fresher ” event , then our scheme ensures that either e or the event that has made e obsolete is delivered at each CDS on the Web . By exploiting obsolescence we may gain interactivity . The idea is as follows : for each delivered event , each CDS measures the time difference elapsing between the generation of an event and its delivery time ( we term such time difference as cyberdrama Time Difference , or TD ) . If this value exceeds a predefined interactivity time threshold value IT , then obsolete events are automatically dropped as their execution is no longer important for the state consistency of the cyberdrama . Summing up , dropping obsolete events brings to the positive result of speeding up the execution of “ fresh ” events , relevant information may be extracted from a plot to alter the delivery order of events . We introduce here the notion of correlation . In essence , an event e1 is correlated to an event e2 if the execution of e2 after e1 brings to a different state of the story with respect to the case when e1 is executed after e2 . Based on this notion , our event synchronization service ensures that only correlated events are delivered in the same order at each CDS . Instead , different delivery orders are possible when a sequence of non correlated events has to be delivered to different CDSs . The idea is that noncorrelated events may be processed by different CDSs according to different orders without affecting the state consistency of the cyberdrama , as they are semantically independent . We have implemented our correlation based event delivery service scheme on the top of a simplified version of the Time Warp algorithm . This means that events are executed at a given CDS as soon as they are received . Then , in the case when two ( or more ) correlated events are identified that have been executed out of the correlation based order , a rollback procedure is invoked , ie a rollback is executed only if correlated events have been processed out the correlation order . This approach reduces the number of rollbacks performed at each CDS , again improving interactivity . interactivity . Also other thus obtaining
3 . EXPERIMENTING WITH OBSOLESCENCE AND CORRELATION We report results obtained from an experimental evaluation we conducted to assess the efficacy of our approach . We evaluate the benefits derived from the use of : i ) our correlation based event processing strategy ; ii ) our obsolescence based event delivery strategy . To evaluate our correlation based event processing strategy , we simulated a distributed architecture composed of five CDSs . The values of the network latencies where drawn from a lognormal distribution where the parameters were obtained through experimental measurements . As the frequency according to which events were generated at a given CDS , we adopted a lognormal distribution with an interarrival time between events of 62 ms and a standard deviation of 12 ms . We conducted experiments with event traces containing as many as 1000 events . The average size of the messages containing an event was equal to 200 Bytes . We evaluated a distributed scenario with different values of the event correlation probability . This scenario was to contrasted against the execution of the same event trace performed without any correlation check . Figure 1 reports the obtained rollback ratio . The higher the correlation probability , the higher the rollback ratio , as only non correlated events may be processed with different orders at different CDSs . Our approach reduces the number of events subject to a rollback wrt a classic approach based on the Time Warp algorithm . The reduction of the computational delays due to the containment of the rollback ratio brings to an augmented interactivity degree . o i t a R k c a b l l o R
0,60
0,50
0,40
0,30
0,20
0,10
0,00
0,90
0,80 w/o Correlation Check
Correlation Check
0,20
0,10
0,60
0,70 0,30 Correlation Probability
0,50
0,40
Figure 1 : Rollback Ratio with Correlation Check
Another experiment was conducted to assess the efficacy of our obsolescence based event delivery strategy . We measured how many obsolete events must be dropped to maintain TD below IT . This experiment was carried out by simulating an IT violation rate varying in the following range : [ 0 % , 15% ] . The IT value was set equal to 150 milliseconds . Results are reported in Table 1 where the amount of non obsolete delivered events is shown depending on the IT violation rate . As lower TD values correspond to higher interactivity degrees , we conclude that our approach is effective .
Table 1 . Non Obsolete Delivered Events ( % ) 10 %
IT Violation Rate
0 %
1 %
5 %
Non Obsolete Delivered
Events ( % )
100
99,7
97,7
94,5
15 %
91,3
4 . CONCLUSIONS We presented an event delivery service devised to support the distribution of cyberdrama generation activities on the Web . Our synchronization service may be also adopted to deploy over any loosely coupled distributed system any kind of Massively Multiplayer Online Role Playing Game [ 2 ] . Results obtained from an experimental assessment confirm that reliability in event delivery may be traded for an augmented interactivity without any effect on the story evolution .
5 . ACKNOWLEDGMENTS Our thanks to the Italian MIUR , to the Interlink Project and to Microsoft Research for partial financial support to our work . 6 . REFERENCES [ 1 ] Cavazza M . , Charles F . , Mead SJ “ Emergent Situations in Interactive Storytelling ” , Proc . of SAC2002 , ACM , Madrid , Spain , 1080 1085 , 2002 .
[ 2 ] Ferretti S . , Roccetti M . “ A Novel Obsolescence Based Approach to
Event Delivery Synchronization in Multiplayer Games ” , International Journal of Intelligent Games and Simulation 3 , 1 , March/April , 2004 .
[ 3 ] Metan J . “ Talespin , An Interactive Program that Writes Stories ” , In
Proc . of the 5th International Joint Conf . on AI , 91 98 , 1977 . [ 4 ] Riedl MO , Young RM “ Character Focused Generation for
Execution in Virtual Worlds ” , LNCS 2897 , Springer Verlag , 47 56 , 2003 .
227

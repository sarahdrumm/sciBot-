Exploration of Link Structure and Community based Node Roles in
Network Analysis
Jerry Scripps , Pang Ning Tan and Abdol Hossein Esfahanian
Computer Science and Engineering
Michigan State University
{scripps@msuedu,ptan@msuedu,esfahanian@csemsuedu}
E . Lansing , MI
Abstract
Communities are nodes in a network that are grouped together based on a common set of properties . While the communities and link structures are often thought to be in alignment , it may not be the case when the communities are defined using other external criterion . In this paper we provide a new way to measure the alignment . We also provide a new metric that can be used to estimate the number of communities to which a node is attached . This metric , along with degree , is used to assign a communitybased role to nodes . We demonstrate the usefulness of the community based node roles by applying them to the influence maximization problem .
Introduction
1 Networks are deceptively simple data representation , with related objects connected by directed or undirected links . Yet they may give rise to a surprising number of interesting problems—from determining the influence or authoritativeness of objects to finding communities in large networks . While the field of network analysis has been extensively studied for many years , new problems and solutions continue to emerge from the analysis of networked data .
In this paper , we argue that the utilization of community knowledge can lead to a valuable extension of existing link analysis methods . We first explore the connection between the link structure and the communities present in networked data . Many existing community finding algorithms implicitly assume that the communities are compatible with the link structure of a network . Intuitively , this is supported by our familiarity with social networks where groups of people who are interconnected by friendship can be considered to be a community . We consider the communities that are aligned with the link structure as natural communities of the network . In practice , however , a network can have communities imposed by other factors beyond its link structure . For example , with social networking sites , members can join special interest groups independent of the friends they have established . If the com munities and link structure are incompatible , it would be meaningless to apply link mining on the network to learn characteristics of the non natural communities .
There have been very few attempts at measuring the compatibility between the communities and the link structure . Newman and Girvan [ 9 ] proposed a modularity function ( Q ) for estimating this compatibility . Q compares the difference between the fraction of links that occur within the communities to the fraction that would be expected to occur if the links were randomly distributed . As will be shown in Section 2 , although the measure seems intuitive , it has several drawbacks . First it is sensitive to the number and size of communities . Thus Q is not an appropriate metric for comparing the compatibility of communities in two networks . Another limitation is that Q does not explicitly consider the non links between nodes in the same community . As a result , it may underestimate the degree of compatibility in some networks and overestimate the compatibility in others . To overcome these limitations , we propose a pair of new statistics for measuring the alignment between communities and link structure .
For the natural communities of a network , we introduce the notion of community based node roles . Roles , which measure the function that nodes play with respect to the network , can convey meanings such as authority , popularity , and influence . Our node role definition is the first that we are aware of that makes use of community knowledge . We offer an example to illustrate how communitybased roles can extend current methods of influence maximization .
The problem of influence maximization can be thought of as finding the best k nodes to activate in order to maximize the number of nodes that will eventually be influenced ( eg adopt an idea , buy a product , spread a virus , etc ) . Several algorithms [ 5 , 7 ] have been developed in recent years to identify the most promising set of nodes to activate . These algorithms however focus only on maximizing the number of activated nodes at the end of the
The remainder of this paper is organized as follows . Section 2 describes our proposed metrics for measuring the level of alignment between link structure and communities . This will be followed by the descriptions of our rawComm metric and node role definition in Section 3 . We then illustrate how the community information can be applied to the influence maximization problem in Section 4 . Finally we present experiments to support our findings and conclusions to summarize our work .
2 Measuring Community and Link
Structure
Alignment
The concept of a community refers to nodes that are grouped together based on a common set of properties . In social networks we think of friends , family , and colleagues as forming communities . Many clustering and community finding algorithms have been proposed in recent years ( for a review see [ 6] ) . All of them use the link structure to form the communities , that is , they implicitly assume that the links provide evidence for the communities . Clearly , if the algorithms are successful , the communities that are found will be aligned with the link structure . However , the degree of alignment may vary depending on the algorithm used . It is our intention to provide a means to measure the alignment and thus provide a basis for judging the effectiveness of the community finding algorithm .
Furthermore , in many applications , the communities could be defined based on other external criterion . As an example imagine a social networking site where members can join special interest groups . Let us further assume that the links between members are based on friendship whereas members join groups based on other criteria ( such as political leaning , age group , favorite music , etc ) . We will show in Section 5 that often these externally imposed communities are not in alignment with the link structure . Therefore it is useful to measure the alignment between the network and the community structure one has in mind . k i=1 ( eii − a2
2.1 Modularity measure Newman and Girvan [ 9 ] proposed a metric called modularity measure ( Q ) to compute the fit between the community and link structure . Given a network of k communities , modularity is defined as Q = i ) where e is a k × k matrix whose element eij is the percentage of links that connect nodes in community i with community j . ai is the sum of row i for e , which is the fraction of edges with at least one end in community i . So , a2 i is the expected fraction of edges within community i if the edges were distributed randomly . Values of Q close to one indicate strong alignment between link and community structure whereas values close to zero indicate no alignment .
The modularity measure has several drawbacks . First , the values for Q are sensitive to the number of communities
Figure 1 . Communities within a network influence diffusion process . In some cases , it may be more useful to maximize the number of communities that are influenced . As an example , a marketer might be interested in not only informing as many people as possible about their product but might also wish to maximize their reach to different demographic groups .
Figure 1 shows a small network of eleven nodes from two communities—nodes A G are attached to community 1 and nodes H K are attached to community 2 . Suppose that we wish to find the one best node in this network to maximize the spread of influence . Current algorithms would choose to activate node D ( mostly due to its high degree ) . Depending on the influence diffusion model , activating node D often yields the largest number of activated nodes but the influence may not propagate to any of the nodes in community 2 . Choosing node B , on the other hand , would elevate the chances that nodes in both communities are influenced .
Our community based node roles are defined in terms of degree and the number of communities to which they are connected . For example , a node whose role is defined as an ambassador has links to many nodes from different communities while another node whose role is defined as a big fish has links only to other nodes in the same community . These roles can be used by applications to select nodes with characteristics desirable for the specific task .
Of course we can only assign community based roles if the community information is known , which it is often not . We therefore present a new metric called rawComm to estimate the number of communities to which a node is attached . We show that , if communities are aligned with the link structure , our estimate will be quite accurate . In summary , the main contributions of this paper include :
1 . We present a new way to measure how closely the link structure and communities are aligned .
2 . We present a new metric to estimate the number of communities to which a node is attached .
3 . We introduce the concept community based node roles and demonstrate its utility in the context of influence maximization problem .
 
Figure 2 . Communities with more non links
Figure 3 . Placement of incomplete links and number of nodes in each community . Q would be an adequate relative measure when comparing algorithms on the same network with the same number of communities but not for comparing one network to another or comparing different number of communities for the same network .
Another problem with Q is that it does not explicitly take non links into consideration . For example , compare the network in Figure 1 to the one in Figure 2 . They both have the same number of links and both have the same value for Q of 0.216 but the second has more non links and clearly is not as cohesive as the first — thus Q does not reflect the reduction in alignment .
2.2 Alignment Measures based on Completeness and Purity of Node Pairs To measure the disparity between community membership and the groups implied by links we borrowed the well known concepts of must link and cannot link edges used in the semi supervised and constraint based clustering literature [ 1 , 2 , 4 , 3 , 11 ] . We defined a must linked node pair as either complete or incomplete and a cannot linked node pair as pure or impure . A complete node pair is one where the linked nodes belong to the same community . Pure node pairs are non linked nodes that do not appear together in any community .
For example , in Figure 1 , we see that the linked node pair ( A,B ) is within a community and therefore is complete , whereas the node pair ( B,K ) represents an incomplete node pair . The node pair ( A,K ) is non linked and in separate communities making it pure , whereas the node pair ( A,G ) is impure . A disconnected network with communities that correspond to each disjoint clique will not have any impure nor incomplete node pairs .
It follows that a community structure with a minimum number of incomplete and impure nodes is compatible with the link structure . To measure the compatibility of link and community structure , we define the ratios p and q as : p = q =
Complete node pairs Total linked node pairs Pure node pairs
Total non linked node pairs
( 2.1 )
High values of p and q mean that the link structure provides solid support for the community structure . For example a p of .9 means that 90 % of the linked edges are within the same community .
There are a number of differences between our p and q and the modularity metric Q presented in the previous section . First the meaning of p and q are clear—p is the fraction of links within communities and can therefore be thought of as the probability of an edge being within a community . Similarly q is the fraction of non edges between communities . Also the ranges are well defined ; both can take values between 0 and 1 .
This makes p and q appropriate statistics for comparing different algorithms , different networks or different community sets for a single network . Additionally , unlike the modularity metric Q , the q statistic gives us a measure of how pure the communities are .
Another advantage to p and q is that they more accurately capture the non link information . Again , referring to Figures 1 and 2 , as stated previously the Q value is the same for both as is the value of p ( 089 ) However , q=0.70 in the first network and 0.52 in the second . Thus , though Q by itself does not give an complete measure of the alignment , considering both p and q will .
One last difference between Q and p and q is the placement of the between community ( or incomplete ) links . Referring to Figure 3 we see two networks with three communities . For both networks , p = 0.33 and q = 1 but for ( a ) , Q = −0.67 and for ( b ) , Q = −059 It appears that as the incomplete links are less uniformly distributed the farther Q will be from zero but the interpretation is not clear . Finally , Q has an advantage over p and q in that it is a single metric .
2.3 Application of Community Based Alignment Measures As discussed above , many network analysis applications yield community information that is in disagreement with analysts’ pre conceived notions of community The alignment measures p and q described above provide a powerful method for understanding the extent of this disagreement .
Another application would be to measure p and q after a community finding algorithm is applied to a network to judge the effectiveness of the algorithm . If the statistics are high this suggests that it would be consistent with a
 
    user ’s expectations to perform network analysis using the link structure .
In a later section we will use p and q to define a metric to estimate community attachment when the communities are not available .
3 Community Based Node Roles Link mining techniques have largely ignored the potentially helpful knowledge of community and community attachment in their analysis . In this section we introduce the concept of community based roles and present a new metric called rawComm for estimating the number of communities connected to a node .
3.1 Node Roles In social network analysis , role is used to describe the behavior of a node in relationship to its neighbors and to the network at large . Examples of node roles include those that are based on their popularity , centrality and authority . Metrics are often used to determine the roles of nodes in a network . Of these the most prominent are degree , closeness and betweenness [ 13 ] .
−1 j=1 d(ni , nj )
N
Degree is the sum of the links attached to a node . Closeness is the reciprocal of the sum of all the geodesic ( shortest ) distances from a given node to all others : where d(u , v ) is the geoCC(ni ) = desic distance from u to v . Nodes with a small CC score are closer to the center of the network while those with higher scores are closer to the edge . Betweenness is defined as : CB(ni ) = where gjk is the number of geodesic paths from j to k and gjk(ni ) is the number of geodesic paths from j to k that go through i . A higher betweenness value for a node means that it is on more shortest paths between nodes , which is an indication of the node ’s importance . gjk(ni ) j<k gjk
Hubs and authorities are two other important roles , particularly in web search . These roles are defined in terms of rank based metrics provided by algorithms such as PageRank [ 10 ] or HITS [ 8 ] . They are applicable to directional networks where a node ’s authority is based on a summation of authority on its incoming links .
3.2 Community Based Node Roles Community based roles are useful in a number of ways . First , they provide useful information to analysts in areas as such as anti terrorism and law enforcement . In searching for potential terrorist threats , for example , analysts may find it useful to identify suspects with certain roles ( mastermind , financier , facilitators , military commander , etc ) . If they were looking for persons with diverse contacts , they could focus on nodes whose community based roles are designated as bridges or ambassadors ( see Figure 4 ) . Second , community based roles could also be utilized in existing
Figure 4 . Community based roles link mining applications such as ranking , link prediction , influence maximization , and node classification . An example illustrating the application of community based roles to influence maximization is given in Section 4 .
We define the community based role of a node according to the number of communities and links incident to it . Figure 4 shows a community degree chart that is divided into four quadrants for the four different roles . The vertical axis represents the degree while the horizontal axis represents the community metric . The community based node role is identified based on which of the four quadrants a node falls into . Nodes in the upper right quadrant are those with a high degree and a high community score . They act as ambassadors , providing connections to many different communities . The upper left quadrant contains what we call big fish from the cliche ” big fish in a small pond ” meaning that they are very important only within a community . This is due to their having a high degree but a relatively small community score . In the lower right quadrant are those with a low degree but a high community score . These we call bridges because they serve as bridges between a small number of communities . Finally , in the lower left are the loners—those with a low relative degree and low community score .
The metrics shown in the community degree chart have been normalized to values between 0 and 1 . For the community metric , we subtracted the minimum and divided by the range between maximum and minimum . For degree , we divided by the highest degree node in the network , giving us a relative degree score between 0 and 1 . In our experiments , we chose a threshold of .5 to classify the node roles ; however , depending on the distributions of degree and community metric scores , other thresholds can be chosen .
In order to define the community based node role it is necessary to measure the number of communities linked to each node . If the community membership information
      !"##$%&'()*'+&, .#/0 is available , this can easily be done . However , often it is not available , in which case a method is needed to infer it from the network . The next section presents our proposed community metric known as rawComm .
3.3 rawComm Metric To understand the intuition for our metric , consider the diagram shown in Figure 5 . There are 9 nodes from three communities in the neighborhood of node A . Nodes B through E are attached to one community , F and G are attached to another , and H through J are attached to a third community . Another way of computing the number of communities connected to A is to add up the community membership contributions from each of its neighboring nodes . For example , since B is in a community of four nodes ( excluding A ) , its community membership contribution to A is 1 4 . Similarly , F is in a community with one other node , so it is assigned a community membership contribution of 1 2 , and so on . When all of the community membership contributions from nodes B to J are added , the total is 3 , which is exactly the number of communities to which node A is attached .
Figure 5 . Community membership contribution of neighbors to rawComm of node A .
We now formalize our method for computing the community metric , which we call rawComm . The community metric for the node i , is defined as follows : rawComm(i ) =
τi(j )
( 3.2 ) j∈N ( i ) where N(i ) is the set of nodes in the neighborhood of node i , and τi(j ) is the community membership contribution of node j to the rawComm of node i . Following the above discussion , we define the community membership contribution τi(j ) as follows :
τi(j ) =
1
1 + Cij
( 3.3 ) where Cij is the number of nodes ( other than j ) that are neighbors of i and are in the same community with j . For example , since B is in a community with three other nodes , CAB = 3 and τA(B ) = 1/4 .
Note that Equations 3.2 and 3.3 give the exact formula for computing the community metric for node i even though it is computed using only nodes that are adjacent to i . If we know the community membership of every node , then it is possible to compute the community metric precisely . Otherwise , we need to estimate the parameters τi(j ) and Cij from the topology of the network . A probabilistic approach for estimating the expected values of these parameters are given in the next section . We also show that the approximations become quite reliable when the notion of community is well aligned with the network topology .
3.4 Estimating Community Membership Contribution Let G = ( V , E ) be a graph and v ∈ V is one of its nodes . The neighborhood of v , denoted as N(v ) = is an induced subgraph of G , where Vv = ( Vv , Ev ) , {u ∈ V |(u , v ) ∈ E} and Ev = {(u , w)|u ∈ Vv , w ∈ Vv , ( u , w ) ∈ E} . We use the following terms in our definitions and theorems :
G∗ v
Gv |Gv| Ωv g |g| P ( Gv )
P ( g ) v set of all possible community assignments for the nodes in Vv a specific community assignment , Gv ∈ G∗ the number of communities in Gv set of all possible communities a specific community the number of nodes in community g probability of a specific community assignment Gv probability of a community g let Vv = {a , b , c , d , e} be the set of As an example , nodes adjacent to v in G . The set of all possible communities is Ωv = {{a},{b},··· ,{a , b , c , d , e}} . Gv = {{a , b , e},{c , d}} is a specific community assignment and g = {a , b , e} is a community in Gv . Therefore , |Gv| = 2 and |g| = 3 .
Our method for estimating the community membership contribution τ is based on the following two assumptions . First , we assume that the community structure and network topology are well aligned . Based on our discussion in Section 2 , this assumption implies that p and q are at least larger than 05 The second assumption is that the neighborhood of a node contains all of the information necessary to estimate the community membership contribution . Based on these assumptions , the next two theorems give the formula for computing the expected value of τv(u ) using the neighborhood information N(v ) .
AflBflCflDflEflFflGflHflIflJfl THEOREM 31 Given a node v and its neighborhood N(v ) = ( Vv , Ev ) , the expected value of the community membership contribution for node u ∈ Vv is P ( g ) |g| δ(u ∈ g )
E[τv(u ) ] =
( 3.4 ) g∈Ωv where δ is an indicator function whose value is 1 if its argument is true and 0 otherwise .
Proof . The expected value of rawComm for a node v is :
E[rawComm(v ) ] =
=
Gv∈G∗ v
|Gv| · P ( Gv )
P ( Gv )
Gv∈G∗ v g∈Gv this end we build a probability model that uses the links between u and the other nodes in Vv .
Let n1 be the number of nodes in Vv that are linked to u and n2 be the number of nodes in Vv that are not linked to u . Note that n1 + n2 + 1 = Vv . Also given a community g , let X ∼ BIN(n1 , p ) be a random variable for the number of nodes in g linked to u and Y ∼ BIN(n2 , 1 − q ) be a random variable for the number of nodes in g not linked to u . Note that X and Y are independent of each other . With these definitions and the probabilities p and q from Equation 2.1 we are ready to present a first and second order approximations for τv(u ) .
THEOREM 32 Given a node v and its neighborhood , N(v ) = ( Vv , Ev ) , the estimated contribution of node u to v ’s community count is
E[τv(u ) ] =
1
1 + n1p + n2(1 − q )
( 3.5 ) where n1 is the number of nodes in Vv that are linked to u and n2 is the number of nodes in Vv that are not linked to u . Proof . ∀g ∈ Ωv where u ∈ g there are 0 ≤ k1 ≤ n1 nodes in g linked to u and 0 ≤ k2 ≤ n2 nodes in g not linked to u . Then we can state that : k2=0 k1=0 g∈Ωv
P ( g ) |g| δ(u ∈ g ) =
P ( g ) |g| δ(g , u , k1 , k2 ) g∈Ωv where δ(g , u , k1 , k2 ) is 1 for u ∈ g and the number of nodes in g linked to u is k1 and the number of nodes in g not linked to u is k2 ; otherwise δ(g , u , k1 , k2 ) is zero . Clearly |g| = 1 + k1 + k2 where the 1 is for the node u itself . The above equation is valid because the right side will sum P ( g ) for every g that contains u since each g has a fixed k1 and k2 and the δ function insures that each g is selected exactly once . Now , n1 n2
( cid:182 )
( cid:182)(cid:181 ) P ( g ) |g| δ(g , u , k1 , k2 ) = P ( X = k1 , Y = k2 ) · pk1(1 − p)n1−k1(1 − q)k2 qn2−k2 n2 k2
As can be seen , this allows P ( g ) to be expressed as a function of the number of linked and non linked nodes . The expected value of the community membership contribution then is : n1 n2
( cid:181 )
( cid:182)(cid:181 )
( cid:182 ) n1 k1 n2 k2 k1=0 k2=0
· pk1(1 − p)n1−k1(1 − q)k2 qn2−k2
1 + k1 + k2
We cannot easily reduce this expression to a formula but notice that it is E(f(X , Y ) ) where f(X , Y ) = 1+X+Y we
1
=
P ( Gv)δ(g ∈ Gv ) v g∈Ωv
Gv∈G∗ where we have replaced |Gv| = 1 on the second line . Note that the two summations can be interchanged because they are independent . Furthermore , a community g can appear in more than one community assignment Gv . Therefore , P ( g ) can be computed from P ( Gv ) as follows : g∈Gv
P ( g ) =
P ( Gv)δ(g ∈ Gv )
Gv∈G∗ v
So the expected value for rawComm is
E[rawComm(v ) ] = g∈Ωv
P ( g ) =
P ( g ) |g| u∈g g∈Ωv P ( g ) |g| δ(u ∈ g )
= g∈Ωv u∈Vv since |g| = u∈g 1 . Next we exchange the summations so that the outer summation is over all the nodes instead of over all possible communities :
P ( g ) |g| δ(u ∈ g ) u∈Vv g∈Ωv u∈Vv
E[τv(u) ] , the theorem
( cid:181 ) g∈ωv n1 k1
=
E[rawComm(v ) ] =
Since E[rawComm(v ) ] = is thus proven .
Theorem 3.1 states that the expected value of the community membership contribution of node u can be computed by the sum of probabilities of all communities containing node u weighted by the community size . To compute the right hand side of Equation 3.4 , we need enumerate every g that contains u and compute P ( g ) — a very expensive procedure . We propose a more efficient approach by using the nodes in g that are linked to u . To can estimate it by taking the Taylor expansion of f(X , Y ) around µX , µY : f(X , Y ) = f(µX , µY ) + ∂f(µX , µY ) ( Y − µY )
( X − µX )
∂x
∂2f(µX , µY )
+
∂y
∂x2
+ ∂f(µY , µY ) 1 2 1 + 2 + ∂2f(µX , µY ) ···
∂x∂y
∂y2
∂2f(µX , µY )
( X − µX)2 ( Y − µY )2
( X − µX)(Y − µY )
Taking the expectation of the above expansion will be τu(v ) . Below we show the expected value of the first six terms :
1
1 + µX + µY ( X − µX )
( cid:182 ) ( cid:182 )
( Y − µY )
E(f(µX , µY ) =
( cid:181 ) ( cid:181 ) ( cid:181 ) ( cid:181 ) ( cid:181 )
E
E
E
E
E
∂f(µX , µY )
∂x
∂f(µX , µY )
∂y
1 2 1 2 1 2
∂2f(µX , µY )
∂x2
∂2f(µX , µY )
∂y2
∂2f(µX , µY )
∂x∂x
E(X − µX ) = 0
E(Y − µY ) = 0
∂x
= ∂f(µX , µY ) ( cid:182 ) = ∂f(µX , µY ) ( cid:182 )
∂y
=
σ2 X
σ2 Y
( cid:182 )
( X − µX)2
( Y − µY )2
=
( 1 + µX + µY )3
( 1 + µX + µY )3
( X − µX)(Y − µY )
=
σXY
( 1 + µX + µY )3
Since X and Y are both binomial we have µX = n1p , µY = n2(1 − q ) , σ2 Y = n2q(1 − q ) and σXY = 0 because X and Y are independent . Taking the first three terms our first order approximation becomes
X = n1p(1 − p ) , σ2
τu(v ) ≈
1
1 + n1p + n2(1 − q )
( 3.6 ) and taking the first six gives the second order approximation : τu(v ) ≈
+ n1p(1 − p ) + n2q(1 − q ) ( 1 + n1p + n2(1 − q))3 ( 3.7 )
1 + n1p + n2(1 − q )
1
The second term on the right hand side of Equation 3.7 will often be small but not negligible . In tests we calculated the contribution using the two formulas against the true expected value . The probabilities p and q were varied from .5 to 1 and the number of linked and non linked nodes were varied from 0 to 10 . In the worst case using both terms the approximation was within 2 % of the actual where just using the first term was within 20 % . We justify using just the first few terms of the series as follows : The variances of X and Y are n1p(1 − p ) and n2q(1 − q ) respectively . As stated earlier , we are assuming high values of p and q which means the variances would be low and so X would be close to µX and Y would be close to µY . If high accuracy is demanded the approximation should use both terms but just using the first formula gives a close approximation that is adequate for relative comparisons . In our tests of rawComm for influence maximization we used the shorter version and in comparisons using both terms had no noticeable effect .
In order to apply Equation 3.6 or 3.7 , we need to know the values of p and q for a given network . Unless otherwise mentioned , our experiments were conducted using p = q = 1 . As we will show in Section 5.2 , even if the approximation is not very good we can still achieve good results for two reasons . First , we are mainly interested in communities that are consistent with the network links , which means that their p and q values should be reasonably high ( ie , no less than 05 ) Otherwise , we should not expect the metric , nor any community finding algorithms , to produce a view that agrees with the community concept we have in mind . Second , to define the type of communitybased node roles ( Figure 4 ) , it is sufficient to know the relative ordering of their community scores rather than their absolute counts . As long as the metric does better than random guessing , we expect to see some improvements in the experimental results .
4 Application of Roles to Influence Maximization As described in the introduction , influence maximization is concerned with finding the most influential nodes in a network . We assume that the nodes in the network are capable of adopting an idea , purchasing a product or something similar . This process is referred to as activating . We also assume that nodes that are activated have the ability to influence their immediate neighbors who themselves may choose to activate . The problem becomes choosing the best nodes to initially activate in order to maximize the number of activated nodes at the end of the process .
In the paper by Kempe , et al [ 7 ] several models are introduced that describe the behavior of the node activation . In our experiments we chose to use the Independent Cascade model . Under this model , influence is spread from node to node in discrete steps . A node i that becomes active in step t has one chance to make his inactive neighbors active in step t+1 . The probability that node i will activate node j in their paper will be called the edge weight .
The work in this area is exclusively concerned with maximizing only the raw number of nodes activated . How ever , we propose extending the problem to focus on the number of communities covered . A community is covered if one of the nodes in the community is activated .
Our approach will be to choose the initial set of nodes using the community based node roles using two methods in order to maximize the communities covered . The first method selects those nodes with the highest rawComm score which focuses on ambassadors and bridges . The second method focuses exclusively on ambassadors by choosing nodes with a combination of high rawComm and high degree . The results of our experiments will show that using roles to maximize community coverage shows improvement over the other influence maximization methods .
5 Supporting Analysis and Experiments This section presents the empirical evidence that demonstrates the usefulness of our proposed approaches . Section 5.1 provides a description of the data sets used . In Section 5.2 we examine the properties of community alignment measures ( p , q , and Q ) and the rawComm metric . Finally , Section 5.3 illustrates the advantages of using communitybased node roles in influence maximization problems .
5.1 Data Sets Our experiments were conducted on three data sets—movie data from UCI KDD repository , Enron email data , and the Facebook social networking data . For the movie data set , we created a link between actors who have co starred in at least one movie together . The resulting network had 3,725 nodes and 58,123 links . The Enron data set is a collection of email messages exchanged among 149 executives at Enron . We formed a network by establishing links between executives who had more than five email exchanges between them . The FaceBook data set was created from crawling the FaceBook web site for a medium sized university in Michigan . FaceBook is a social networking site that allows students to join , post pictures , text and other descriptive information . Most importantly they can create links to friends and join groups . The resulting network contains 2,550 nodes .
In addition to the three real data sets we also ran our experiments on the synthetic networks shown in Figure 6 . Both networks contain the same node set and communities but different link structures . We purposely fixed the communities so that one could clearly see the difference in the alignment between the link structure in ( a ) versus ( b ) .
5.2 Community and link structure alignment The goals of our experiments in this section are to show that :
• p and q provide an effective measure of the extent to which communities are aligned with the link structure • p and q often provide more meaningful information about the alignment than modularity ( Q )
• rawComm provides a reliable estimate for community metric when p and q are sufficiently high .
For each of the three real data sets , we calculated the p , q and Q values for two types of community definitions : ( 1 ) based on some externally imposed criterion and ( 2 ) based on the results obtained using the normalized cut ( nCut ) spectral clustering algorithm [ 12 ] .
For the FaceBook data we create three types of communities , each containing 20 communities . The first community type groups the students by a combination of gender , age and political party preference . Next , the students are grouped by their hometown ( 19 most popular and other ) and after that , by their concentration ( or major ) . For Enron , the employees were grouped by title ( director , vicepresident , etc ) . The movie data set was grouped by genre ( actors were placed in genres based on the movies they were in ) .
Table 1 . Alignment of Communities with Link Structure
Nbr of comm . p q
Q
SSE
Avg error
Avg comm .
Grouping method FaceBook age , etc . hometown major nCut Enron executives title nCut Movie actors genre nCut Synthetic net ( a ) net ( b )
20 20 20 20
12 12
14 14
5 5
0.12 0.58 0.59 0.44
0.16 0.61
1.00 0.75
.79 0.59
0.91 0.46 0.49 0.93
0.87 0.94
0.16 0.70
1.00 0.93
.19 .31 .25 .23
.28 .36
1.11 .23
0.48 0.19
53k 36k 32k 17k
1124 256
183k 35k
1.31 11.78
3.70 2.89 2.67 2.01
2.25 0.99
6.64 2.13
0.25 0.53
10.95 7.47 7.06 9.15
4.55 3.07
11.01 2.73
1.75 2.20
Figure 6 . Effect of p on τ
521 Comparison between Community Alignment Measures To see how p and q can be used to characterize
    the alignment of link and community structure , consider the results shown in Table 1 . We will concentrate on the p , q and Q columns of this table . Observe that communities defined using nCut are often more compatible with the link structure than communities defined using external criterion . This is not surprising since nCut uses the link structure to create its communities .
For FaceBook , observe that the community formed using a combination of age , gender , and political leaning has a very low value of p ( almost 90 % of the links are between communities ) but a high value of q ( more than 90 % of non links are between communities ) . This means that two friends are almost certain to be in different communities based on age/gender/politics but also that two non friends are also very likely to be in different communities . We conclude that these communities are not aligned well with the links but the non links are aligned . For the next two community definitions—hometown and major—the alignment is better for p but for q it is about 50/50 . All three externally defined community types have very poor alignment but the p and q values are very different for age/gender/politics compared to hometown and major . Yet , the value of Q is about the same for all three . Thus , even if the alignment is poor , p and q allows us to distinguish between data sets where Q does not . As another example , note that the nCut communities for both FaceBook and movie had a Q of 023 This would imply that the alignment between the communities and the link structure was of a similar nature but as we can see by looking the the p and q values this is not the case . As mentioned in Section 2 , the magnitude of Q may not be meaningful since it is sensitive to the number of communities and number of nodes in each community . Instead it is more suitable as a relative measure for comparing different alignments on the same network with the same number of communities .
The Enron data has a high q and low p for communities defined based on the executive ’s title . From this we can surmise that executives are very likely to email other executives outside of their community but also that executives who do not email each other are most likely from different communities . For movies , the links between actors appear to be good predictors for communities defined according to movie genre . This is partly because the communities are overlapping ( in our technical report we explain how p and q are modified to handle overlap ) . Since the q value is low , this implies that even if two actors did not appear together in a movie they will still likely work in the same genre .
For the synthetic data , we observe that both networks have fairly high values for both p and q but that ( a ) appears to be better aligned than ( b ) . Visually inspecting the networks confirms this . The Q value also supports this but does not let us know why . We can tell from p and q that it is the links ( p ) that cause the misalignment and not the non links ( q ) .
522 Effect of alignment on rawComm The last three columns of Table 1 correspond to the following :
• SSE . This represents the sum squared error ( SSE ) between the number of actual communities linked to each node and the number predicted by rawComm .
• Avg error . This represents the average error ( average of the absolute value of the difference between the actual number of communities and rawComm ) of all nodes .
• Avg Comm . This represents the average number of actual communities assigned to the nodes by each of the community definition methods .
For each data set , we compare the average SSE found by each grouping method . The smaller the average SSE is , the more accurate our estimation of rawComm is . For FaceBook , nCut has the best SSE which is not surprising given that it has a high q value and an average p . Looking at the rest of the table it is clear that with better alignment ( higher p and q values ) , the accuracy of rawComm improves .
The last two columns reveal another view of the accuracy of rawComm . For FaceBook , using nCut , rawComm , on average , is off by about two where the average is about nine communities per node . This seems quite a reasonable estimate , considering that the p value is less than 05
5.3 Influence Maximization In our implementation of the influence maximization problem we used the independent cascade model described in Section 4 . We set all the edge weights to 01 Due to the stochastic nature of the model , for each method , we repeated the simulation 5,000 times and then averaged the results .
For evaluation purposes , we compared the total number of nodes that are activated as well as the number of communities reached using five different algorithms . The baseline random approach selects k nodes randomly . degree selects the k nodes with highest degree . These correspond to nodes whose community based roles are designated as either big fish or ambassador . The algorithm proposed by Kempe , et al . [ 7 ] , labeled greedy , chooses one new node each iteration , selecting the node that will result in the greatest increase of activated nodes according to the Independent Cascade model . The last two methods use the metrics we have proposed in this paper . The method comm selects the k nodes with the highest rawComm score and ambass selects the k nodes with the highest sum of normalized degree and rawComm . The nodes selected by ambass are mostly ambassadors while those selected by comm is a combination of ambassadors and bridges .
Table 2 . Comparisons using Movie Data Average Group Coverage Genre 9.7 12 12 12 13 algorithm nodes Director random 60 83 degree 259 greedy 261 comm ambass 288
11.136 18.996 22.084 17.578 20.052
Table 3 . Comparisons using Enron Data algorithm nodes Group coverage 5.3 random 6.9 degree 6.8 greedy comm 8.4 7.5 ambass
13 13 15 14 13
The results for the movie data are summarized in Table 2 . The column labeled nodes is the average number of nodes activated by the initial 10 nodes . The columns under coverage indicates the number of communities comm . that had at least one node activated . The greedy method , not surprisingly , was able to activate the greatest number of nodes . However , even though ambass activated fewer nodes , it was able to reach more communities . comm also was able to spread to a large number of communities even though it selected fewer nodes than degree , greedy or ambass . That is not too surprising given that nodes connected to many communities are not necessarily high degree nodes .
The p values were 1 for both types of community definitions . The q values were .947 and .164 for director and genre communities respectively . This means that for both types of communities if there is a link between two actors there is a 100 % chance that the two actors will be in the same community . If there is no link between them then the q tells us that , for the director set , it is almost certain that they will not be in the same community , whereas for genre , there is only a 16 % chance that they will be in different communities .
For Enron data , because of the sparsity of the network , we used an edge weight of 05 The results are summarized in Table 3 . Again , even though comm and ambass did not activate the most nodes they provided the widest coverage . The influence maximization results for FaceBook is given in Table 4 . For this experiment we used communities based on concentration ( students major ) . Once again the algorithms comm and ambass outperform the others on spreading to a larger number of communities . For this data set we also kept track of the execution time for the different
Table 4 . Comparisons using FaceBook time algorithm nodes Group Cov . 10ms 3.5 random degree 3.7 60ms 82min . 4.1 greedy 371ms 5.6 comm ambass 4.3 411ms
12 21 23 18 20 algorithms which is listed in the last column . It can be seen that all the algorithms are quite fast with the exception of the greedy algorithm with is approximately 12,000 times slower than the slowest of the others . With large data sets or when time is critical , degree or ambass would be worthy alternatives .
6 Conclusions In this paper we explore the advantages of utilizing community knowledge in the analysis of networked data . Towards this end , we introduce several community based roles according to the number of communities and the degree of each node . We show that nodes with roles called ambassadors are useful to maximize the number of communities activated during influence maximization . Metrics for estimating the number of communities and measuring the compatibility between communities and link structure are also proposed in this study .
References
[ 1 ] S . Basu , M . Bilenko , and R . Mooney . A probabilistic framework for semi supervised clustering . Conference on Knowledge Discovery in Data , 2004 .
[ 2 ] M . Bilenko , S . Basu , and R . Mooney .
Integrating constraints and metric learning in semi supervised clustering . Proceedings of the twenty first international conference on Machine learning , 2004 .
[ 3 ] I . Davidson and S . Ravi . Towards efficient and improved hierarchical clustering with instance and cluster level constraints . Technical Report , Department of Computer Science , University at Albany .
[ 4 ] I . Davidson and S . Ravi . Clustering with constraints : Feasibility issues and the k means algorithm . Siam Data Mining Conference , 2005 .
[ 5 ] P . Domingos and M . Richardson . Mining the network value of customers . Conference on Knowledge Discovery in Data , pages 57–66 , 2001 .
[ 6 ] L . Getoor and C . P . Diehl . Link mining : a survey . SIGKDD
Explorations , 2005 .
[ 7 ] D . Kempe , J . Kleinberg , and E . Tardos . Maximizing the spread of influence through a social network . Conference on Knowledge Discovery in Data , pages 137–146 , 2003 .
[ 8 ] J . Kleinberg . Sources in a hyperlinked environment . Jour nal of the ACM , 46 , 1999 .
[ 9 ] M . Newman and M . Girvan . Finding and evaluating community structure in networks . Physical Review E , 69 , Feb 2004 .
[ 10 ] L . Page , S . Brin , R . Motwani , and T . Winograd . Pagerank citation ranking : Bringing order to the web . Technical report , Stanford University , 1998 .
[ 11 ] J . Scripps and P . N . Tan . Clustering in the presence of bridge nodes . Proc of SDM’06 : SIAM Int’l Conf on Data Mining , Bethesda , MD , 2006 .
[ 12 ] J . Shi and J . Malik . Normalized cuts and image segmentation . Ieee Transactions On Pattern Analysis And Machine Intelligence , 22(8 ) , August 2000 .
[ 13 ] S . Wasserman and K . Faust .
Social Network Analysis : Methods and Applications . Cambridge University Press , Cambridge , UK , 1994 .

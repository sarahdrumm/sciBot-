Optimal Revenue Sharing Double Auctions with Applications to Ad Exchanges
Renato Gomes
Toulouse School of Economics renatogomes@tse freu
Vahab Mirrokni
Google Research , New York mirrokni@google.com
ABSTRACT E commerce web sites such as Ebay as well as advertising exchanges ( AdX ) such as DoubleClick ’s , RightMedia , or AdECN work as intermediaries who sell items ( eg page views ) on behalf of a seller ( eg a publisher ) to buyers on the opposite side of the market ( eg , advertisers ) . These platforms often use fixed percentage sharing schemes , according to which ( i ) the platform runs an auction amongst buyers , and ( ii ) gives the seller a constant fraction ( eg , 80 % ) of the auction proceeds . In these settings , the platform faces asymmetric information regarding both the valuations of buyers for the item ( as in a standard auction environment ) as well as about the seller ’s opportunity cost of selling the item . Moreover , platforms often face intense competition from similar market places , and such competition is likely to favor auction rules that secure high payoffs to sellers . In such an environment , what selling mechanism should platforms employ ? Our goal in this paper is to study optimal mechanism design in settings plagued by competition and two sided asymmetric information , and identify conditions under which the current practice of employing constant cuts is indeed optimal .
In particular , we first show that for a large class of competition games , platforms behave in equilibrium as if they maximize a a convex combination of seller ’s payoffs and platform ’s revenue , with weight α on the seller ’s payoffs ( which is proxy for the intensity of competition in the market ) . We generalize the analysis of Myerson and Satterthwaite ( 1983 ) , and derive the optimal direct revelation mechanism for each α . As expected , the optimal mechanism applies a reserve price which is decreasing in α . Next , we present an indirect implementation based on “ sharing schemes ” . We show that constant cuts are optimal if and only if the opportunity cost of the seller has a power form distribution , and derive a simple formula for computing the optimal constant cut as a function of the sellers’ distribution of opportunity costs , and the market competition proxy α . Finally , for completeness , we study the case of a seller ’s optimal auction with a fixed
Copyright is held by the International World Wide Web Conference Committee ( IW3C2 ) . IW3C2 reserves the right to provide a hyperlink to the author ’s site if the Material is used in electronic media . WWW’14 , April 7–11 , 2014 , Seoul , Korea . ACM 978 1 4503 2744 2/14/04 . http://dxdoiorg/101145/25664862568029 profit for the platform , and derive the optimal direct and indirect implementations in this setting . Categories and Subject Descriptors H.m [ Information Systems ] : Miscellaneous ; F.m [ Theory of Computation ] : Miscellaneous 1 .
INTRODUCTION
E commerce web sites such as Ebay as well as ad ex changes ( AdX ) such as Yahoo ’s RightMedia , Microsoft ’s AdECN , or Google ’s DoubleClick Ad Exchange sell items ( eg pageviews ) on behalf of a seller ( eg a publisher ) by running an auction amongst a certain number of buyers ( eg , advertisers ) . In most cases , the e commerce site or AdX platform then follow a fixed percentage sharing scheme , according to which the seller is given a constant cut from the auction revenue , and the platform keeps the remaining proceeds from the auction . One typical mechanism employed by ad exchanges works as follows : ( i ) the publisher declares a reserve price p to be used in the auction , ( ii ) AdX runs a secondprice auction with a reserve price 1.25p , and collects 20 % of the final revenue from the auction . The publisher , in turn , gets the remaining 80 % of the revenue from the auction , making sure that it gets at least its declared reserve price of p .
In these settings , the platform faces asymmetric information regarding both the valuations of buyers for the item ( as in a standard auction environment ) as well as about the seller ’s opportunity cost of selling the good . For example , in the case of ad exchanges , the opportunity cost for the publisher ( seller ) is the profit that the publisher could obtain by sending the page view to competing ad exchanges or by using the page view to fulfill some guaranteed contract previously signed with advertisers . In such an environment , the optimal direct revelation mechanism ( following the Nobel winning work by Myerson ) is such that payments to the seller depend on a rather complex way on the distribution of valuations by buyers , and the distribution of the opportunity cost of the seller . This contrasts with the current practice of most Internet platforms , which adopt a simple fixed percentage or fixed fee models of revenue share . Moreover , in practice , platforms often face intense competition from similar market places . This is specially true in the case of advertising exchanges that play in a highly competitive market place with many other ad networks and ad exchanges . Such issues in these practical settings raise the following questions : what selling mechanism should platforms employ ? In particular , is such a mechanism based on
19 a fixed percentage sharing scheme ? If so , what is the optimal fixed percentage sharing scheme ? Finally , how are sharing schemes affected by the degree of market competition ? Our goal in this paper is to study optimal mechanism design in settings plagued by competition and two sided asymmetric information , and identify conditions under which the current practice of employing constant cuts is indeed optimal .
1.1 Our Contributions . Equilibrium Strategy for Competing Ad Exchanges . Competition among ad exchanges is likely to favor auction rules that secure high payoffs to sellers , so that sellers continuously trade through the ad exchange . Intuitively , competition has the effect of making ad exchanges internalize ( at least partially ) the sellers’ payoffs in their objective functions . In this paper , we first show that for a large class of competition games between intermediaries , the equilibrium best responses of each intermediary maximizes a convex combination of seller ’s payoffs and intermediary ’s revenue . The weight assigned in the seller ’s profit , denoted by α , is a proxy for the degree of competition in the market and depends on the primitives of the competition game between platforms . We refer to this maximization problem as the α optimal problem . Characterizing α Optimal Mechanisms . As a first step toward understanding the optimal double auction in the presence of competing exchanges , we derive the optimal directrevelation mechanism associated to each α optimal problem . As expected , the α optimal mechanism allocates the good to the buyer with the highest valuation if and only if the highest valuation is greater than some reserve price . This reserve price is decreasing in α : as the weight on the seller profits increase , the platform withholds the good less often , and makes greater transfers to the seller . In particular , when α ≥ 1 2 , the α optimal mechanism coincides with the mechanism that the seller would run if he owned the platform ( as in Myerson ( 1981) ) . To understand this result , notice that the platform ’s objective function puts weakly higher weight on the seller ’s payoff than on its own profits . Because of the seller ’s incentive constraints , by giving up one dollar in profits , the platform can add more than on dollar to the seller ’s payoff . As a consequence , the platform maximizes its objective by following the seller ’s optimal mechanism ( that is , the Myerson auction ) .
On the other hand , when α < 1
2 , the platform puts strictly more weight on its profits than on the seller ’s payoffs . As a consequence , it is willing to introduce distortions on the seller side of the market ( therefore reducing the seller ’s payoffs ) in order to generate higher profits . The allocative distortions generated by the seller ’s informational rents are proportional to
1 − 2 · α 1 − α
, which is decreasing in α . As expected , when α = 0 , the α optimal mechanism coincides with the platform profitmaximizing mechanism derived in [ 8 ] .
As a second step toward understanding α optimal mechanisms , we study how to indirectly implement the α optimal direct revelation mechanism by means of “ sharing schemes ” . Such sharing schemes work in the following manner : ( i ) the seller submits a reserve price r to the platform , ( ii ) the platform runs a second price auction among sellers with reserve price r , ( iii ) the platform gives a fraction θα(r ) of the auction proceeds to the seller , and keeps the rest . Such sharing schemes ( in which the fraction θα(r ) is a function of the reported reserve price ) implement the α optimal directrevelation mechanism for any distributions of the seller opportunity costs and the buyers’ valuations that satisfy mild regularity conditions . Constant Cuts . As discussed earlier , in practice , platforms use constant sharing schemes , in which the fraction ( or cut ) assigned to the seller does not depend on his reported reserve price . Next , we turn to answering the following question : Under what conditions , can a constant sharing scheme implement the α optimal direct revelation mechanism ?
Interestingly , we show that constant cuts are optimal if and only if the distribution of seller’ opportunity cost , denoted by G , has the power form v0 k b
G(v0 ) =
, where k > 0 and b is the superior limit of the support of the seller ’s opportunity cost distribution .
The result above can be understood in the light of monopolistic price theory . Intuitively , power form distribution functions have a constant price elasticity of supply ( which measures how many more percentage points of inventory sellers are willing to offer for one percentage increase in expected revenue ) . Namely , a power form distribution with parameter k has a price elasticity of supply equal to k for all opportunity costs in the support . As it turns out , constant sharing schemes are optimal provided that the price elasticity of supply is constant .
In particular , we derive an easy to implement formula that relates the price elasticity of supply k and the degree of competition α to the constant seller ’s share :
θα,k = k k + 1−2·α 1−α
.
Data Analysis . As the price elasticity k increases , the seller ’s revenue share goes up . Intuitively , as the distribution of the seller ’s opportunity costs become concentrated on high values , the platform has to increase the seller ’s revenue share to make sure that the seller is willing to participate in the trading mechanism with high enough probability . In turn , for fixed k , the seller revenue share increases as the degree of competition α increases . Figure 1 represents the α optimal constant sharing rule as a function of α for the following price elasticities of supply : k = {0.4 , 0.5 , 0.6 , 1 , 15}
Furthermore , we explore a way of adjusting the design of the AdX mechanism to incorporate the above characterization , and apply it on real data sets . In particular , we use data on the distribution of publishers’ opportunity costs to estimate ( i ) the polynomial distribution that better approximates its random generating ) process , and ( ii ) the objective function pursued by intermediaries as a function of the revenue share given to publishers . Our analysis suggests that a revenue share of 80 % ( which is the current practice of Google ’s AdEx ) is consistent with assigning a weight of 47 % to publishers’ revenues on the platform ’s objective . See details in Section 41 Constant Fee . Finally , we analyze an alternative model of competition between auction platforms . Namely , we assume that competition drives down expected profits to equal the quasi fixed of cost of intermediating each publisher ’s trans
20 tions , [ 10 ] derive asymptotic reserve prices when the number of principals grows large .
Allowing for both arbitrary mechanisms and also dispensing with the large markets assumption , [ 9 ] provides a sufficient condition for the equilibrium outcome to be quasiefficient ( in the sense that inefficiencies are due to exclusion , but not to misallocations ) . Under this condition , sellers employ second price auctions in equilibrium .
In contrast to the above cited papers , in our model , publishers choose which platform to patronize before knowing the realized opportunity cost of each impression . This assumption captures the notion that the publishers’ choice of platform is often a long term choice , while the opportunity cost of each impression is a short term contingency . Other E commerce Applications . Other than ad serving systems , the results of this paper apply to various online and offline retailers and e commerce websites like Amazon and Ebay . For example , Ebay applies similar revenuesharing auctions to the ones studied in this paper when it serves as a broker between a set of buyers and a seller . Roughly speaking , Ebay takes a 9 % cut on each sale , referred to as final value fee , and also fixed fee for listing an item , referred to as an insertion fee 1 . They also apply a convex cost function for the fixed fee as the number of listings , and a maximum of $250 for the final value fee . A very recent paper by [ 4 ] studies EBay ’s double auction problem , but their setting is different from this paper as they consider multiple sellers and one buyer , and explore approximately optimal pricing schemes for this setting .
2 . MODEL
Before studying competition , we will introduce the model ’s notation by considering the problem of a single platform populated by N buyers indexed by i = 1 , , N and one seller ( whose index is 0 ) . The seller can obtain a price v0 for his good by trading it outside of the platform ( for example , by using the impression to fulfill guaranteed contracts ) . The value of v0 is private information of the seller . From the perspective of the platform , v0 is a draw from the distribution G with support [ a , b ] ( and density g ) .
Each buyer i has a valuation vi for the good offered by the seller . The valuation of each buyer is his private information . From the perspective of the platform , the valuation of each buyer is an independent draw from the distribution F with support [ a , b ] ( and density f ) . As standard in mechanism design , we assume that F possesses a weakly increasing hazard rate , and that G possesses a weakly decreasing reverse hazard rate . Denote by v≡ ( v0 , v1 , , vN ) the profile of types ( including the buyer and all sellers ) . Following the Revelation Principle , we will confine attention to truthful direct revelation mechanisms . A direct revelation mechanism consists of ( i ) an allocation rule {qi(v)}i=0,1,,N that maps v into probabilities that each agent is assigned the good ( q0(v ) stands for the probability that the seller keeps the good ) , and ( ii ) a payment rule {pi(v)}i=0,1,,N that maps v into payments for each buyer i and the seller . We denote a mechanism by M = {{qi(v)}i=0,1,,N ,{pi(v)}i=0,1,,N}
1For details see http://enwikipediaorg/wiki/EBay , and the charging table at http://pagesebaycom/help/sell/ feeshtml#if_auction
Figure 1 : The α optimal revenue sharing rules as a function of α when the price elasticity of supply equals k = 0.4 , 0.5 , 0.6 , 1 and 1.5 ( from lower to higher curves respectively ) . action . We give a characterization of optimal double auctions in this setting , and present an indirect implementation in terms of sharing schemes .
1.2 Related Work Double Auctions . Optimal double auctions have been widely studied in the economics literature and more recently CS literature . Following the Nobel prize winning work of [ 7 ] , [ 8 ] generalized the design of optimal auctions for two sided settings , and characterized the platform optimal double auction . This article generalizes the analysis of [ 8 ] by ( i ) studying settings in which the platform ’s objective function is a convex combination of the seller ’s profit and the platform ’s profit , ( ii ) analyzing indirect implementation by sharing schemes , and ( iii ) providing a necessary and sufficient condition under which constant sharing schemes indirectly implement the optimal mechanism .
More recently , [ 1 ] studied multidimensional variants of the Bayesian optimal double auctions and present polynomialtime approximation algorithms for the problem . For the non Bayesian ( prior free ) setting , [ 2 ] studied revenue maximizing double auctions when the auctioneer has no prior knowledge about bids . Unlike this paper , all the above work focus on the platform optimal auctions , and do not consider other objective functions or fixed percentage or fixed cost auctions . Competing Mechanisms . There is a large literature in economics studying competing mechanism design . The seminal work of [ 6 ] allows principals to post arbitrary trading mechanisms , but assumes that principals’ deviations do not account for their effects on the payoffs of agents who visit other principals ( this is known as the large market assumption ) . In this setting , McAfee shows that there exists an equilibrium in which principals post second price auctions . Dispensing with the large market assumption , but assuming that principals are only allowed to post second price auc
21 To recap , direct revelation mechanisms display the follow extensive form :
1 . The seller is asked to report his opportunity cost v0 and buyers are asked to report their valuations vi ,
2 . The platform delivers the good according to the allo cation rule {qi(v)}i=0,1,,N ,
3 . The platform charges pi(v ) to each buyer and transfers
−p0(v ) to the seller .
An allocation is feasible ifN i=0 qi(v ) = 1 for all v .
Denote by Qi(vi ) ≡ Ev−i [ qi(v ) ] the interim probability that agent i is assigned the good and by Pi(vi ) ≡ Ev−i [ pi(v ) ] the interim payment of each agent i . A mechanism is individually rational(IR ) and incentive compatible(IC ) for buyers if and only if for all i ∈ {1 , , N}
Ui(v ) = Qi(v ) · v − Pi(v ) ≥ max{Qi(ˆv ) · v − Pi(ˆv ) , 0} . for all v , ˆv ∈ [ a , b ] .
A mechanism is individually rational and incentive com patible for the seller if and only if U0(v ) = Q0(v ) · v − P0(v ) ≥ max{Q0(ˆv ) · v − P0(ˆv ) , v} . for all v , ˆv ∈ [ a , b ] . It is standard to show that a mechanism is incentive compatible if and only if for all i ∈ {0 , 1 , , N} , Qi(· ) is weakly increasing and
Ui(v ) = Ui(a ) +
Qi(ˆv)dˆv = Ui(b ) − a v
Qi(ˆv)dˆv .
( 1 )
The platform ’s expected profits from mechanism M are v b b then
Π(M ) ≡ N b
Pi(v)dF ( v ) +
P0(v)dG(v ) . i=1 a a
The seller ’s ex ante expected payoff from mechanism M is
Γ(M ) ≡ b a
U0(v)dG(v ) .
As we will show in Section2.1 , the optimal best response strategy for the platform is to solve the following α optimal problem : The α optimal problem ( denoted P α ) is to choose {qi(v ) , pi(v)}i=0,1,,N to
P α : max
αk · Γ(M ) + ( 1 − αk ) · Π(M )
, where α ∈ [ 0 , 1 ] , ( 2 ) subject to IR , IC , the feasibility constraint , and the platform ’s break even constraint
Π ≥ 0 ,
( 3 ) which states that the platform makes non negative profits . As will be discussed in Section 2.1 , the parameter α captures the intensity of competition in the market : in more competitive markets , the platform should assign a higher weight in its objective function to the sellers’ payoffs . We refer to the mechanism that solves problem P α as the α optimal mechanism , and denote it by {qα i ( v)}i=0,1,,N . i ( v ) , pα
2.1 Platforms’ Competition and Best Responses
In this section , we study some general properties of competition games between between K platforms , indexed by k ∈ {1 , , K} . It is often the case that publishers often have ex ante preferences over which platform to join . These ex ante preferences can be conveniently summarized by a vector ( h1 , , hK ) , where each component hk describes the pure utility gain ( or loss ) that publishers associate with joining platform k .
Consider the following extensive form competition game between K platforms . consisting of an allocation rule(qk i ( v ) )
1 . Each platform k simultaneously post a mechanism M k and a 0 ( v ) i ( v ) to each buyer and transfers −pk i=0,1,,N payment rule pk to the seller .
2 . Before observing her opportunity costs v0 , but knowing her horizontal preferences ( h1 , , hK ) , the seller chooses the platform k that maximizes her ex ante utility
Γ(M k ) + hk .
All buyers join all platforms .
3 . The buyers and the seller play the mechanism proposed at stage 1 by the platform selected by the seller .
Notice that the class of games described above accommodates any form of horizontal differentiation a la Hotelling [ 3 ] . Consider the set I of all pairs ( Π , Γ ) of expected payoffs to the platform and seller induced by all implementable mechanisms . The Pareto frontier of I , denoted by E , consists of all pairs ( Π , Γ ) such that there exists no implementable mechanism that leads to expected payoffs ( Π , Γ ) such that Π > Π and Γ ≥ Γ , or Π ≥ Π and Γ > Γ . If a pair ( Π , Γ ) belongs to the Pareto frontier E , we say that ( Π , Γ ) is Pareto efficient .
It is important to note that the set of implementable payoffs I is a convex set . To see why , take two implementable mechanisms M and M that lead to expected payoffs ( Π , Γ ) and ( Π , Γ ) , respectively . Now consider the random mechanism M ≡ β · M + ( 1 − β ) · M . It follows directly from the incentive and rationality constraints that the mechanism M is implementable . Moreover , the expected payoffs of mechanism M are ( β · Π + ( 1− β)· Π , β · Γ + ( 1− β)· Γ ) . The previous observation is key to prove the following result .
Proposition 1 . Let {M 1 , , M K} be a Nash equilibrium of the competition game described above , and let ( Πk , Γk ) be the expected payoff of mechanism M k . Then there exists a vector ( α1 , , αK ) ∈ [ 0 , 1]K such that each mechanism M k solves
P αk
: max
M
αk · Γ(M ) + ( 1 − αk ) · Π(M )
.
Moreover , if the equilibrium is symmetric , αk = α for all k .
The proof of this proposition is an immediate application of the Support Hyperplane Theorem [ 5 ] ( together with the fact that , in any equilibrium , the pair of expected payoffs is Pareto efficient ) . The result above formalizes the intuition
22 that competition among platforms has the effect of making each platform internalize ( at least partially ) the sellers’ payoffs in its objective function .
Obviously , the vector of weights ( α1 , , αK ) is endogenous to the equilibrium , and crucially depends on the horizontal preferences of the seller over platforms . Each αk captures the equilibrium intensity of competition faced by platform k : in more competitive markets , each platform should assign a higher weight in its objective function to the sellers’ payoffs . Proposition 1 allows us to abstract from the details of the competition game played by firms , and derive properties of equilibrium mechanisms of any competition game . Specifically , in light of this proposition , we can characterize the equilibrium play of each firm by studying its respective P αk problem . As stated earlier , for some arbitrary α , we refer to the mechanism that solves problem P α as the α optimal mechanism , and denote it by {qα i ( v)}i=0,1,,N . i ( v ) , pα
Obviously , when α = 0 , the platform ’s problem is that of maximizing profits ( as in Myerson and Satterthwaite ( 1983) ) . In turn , when α = 1 , the platform maximizes the seller ’s payoff subject to attaining weakly positive profits ( which , as will be clear soon , is equivalent to the problem considered in Myerson ( 1981) ) . For α ∈ ( 0 , 1 ) , the platform behaves as if it were “ partially owned ” by sellers .
3 . THE α OPTIMAL MECHANISM
In this section , we derive the direct revelation mechanism that solves each problem P α .
Proposition 2 . ( The α Optimal Direct Revelation Mechanism ) Let us choose indexes such that vi = maxj∈{1,,N} {vj} . The α optimal direct revelation mechanism is described below .
1 . Let α ≤ 1 i ( vi ) = 1 if
2 . Then qα vi − 1 − F ( vi ) f ( vi )
− v0 − 1 − 2 · α 1 − α
· G(v0 ) g(v0 )
≥ 0 .
Otherwise , no sale occurs : qα
0 ( v ) = 1 .
2 . Let α > 1
2 . Then qα i ( vi ) = 1 if vi − 1 − F ( vi ) f ( vi )
− v0 ≥ 0 .
Otherwise , no sale occurs : qα
0 ( v ) = 1 .
Proof . Applying the envelope formula ( 1 ) , the platform ’s profits can be rewritten as
N
[ a,b]N +1 i=1 vi − 1 − F ( vi ) dF ( vi)dG(v0 ) − N f ( vi ) qi(v ) ·
· N i=1
− v0 − G(v0 ) g(v0 )
Ui(a ) − U0(b ) . ( 4 ) i=1 i=1
In turn , the seller ’s payoff can be written as
U0(b ) −
U0(v0)dG(v0 ) = a
Q0(ˆv)g(v0)dˆvdv0 = b b b b v0 a a
U0(b ) −
G(v0 ) · Q0(v0)dv0 =
G(v0)· a
U0(b ) − b N · N i=1 dvi f ( vi ) U0(b ) − b + E(˜v0)+ dv0 = dF ( vi)dG(v0 ) .
( 5 ) b a b a
···
1 − N N i=1
[ a,b]N +1 i=1
N i=1 qi(v ) qi(v ) · G(v0 ) g(v0 )
The platform objective is then
( 1 − α ) · vi − 1 − F ( vi ) f ( vi )
− v0 i=1
[ a,b]N +1
N i=1 qi(v ) ·
·
− ( 1 − 2α ) · G(v0 ) g(v0 )
N dF ( vi)dG(v0 ) −
Ui(a )
N i=1
( 1 − α ) · i=1
+ α · ( E(˜v0 ) − b ) + ( 2α − 1 ) · U0(b ) . ( 6 )
If α ≤ 1
2 , the platform ’s objective is decreasing in Ui(a ) and U0(b ) . This implies that , at the α optimum , the individual rationality constraints have to bind for every buyer of type a and every seller of type b : Ui(a ) = 0 and U0(b ) = b . Maximizing the integral above point wise leads to the foli ( vi ) = 1 for i ∈ {1 , , N} lowing bang bang solution : qα if − v0 − 1 − 2 · α 1 − α − v0 − 1 − 2 · α 1 − α vi − 1 − F ( vi ) vj − 1 − F ( vj )
· G(v0 ) g(v0 ) · G(v0 ) g(v0 ) j∈{1,,N} fl f ( vj ) f ( vi ) max
, 0
=
, ( 7 )
0 ( v ) = 1 if there is no j ∈ {1 , , N} that satisfies the and qα equality above .
In turn , if α > 1
2 , the platform ’s objective is decreasing in Ui(a ) and increasing in U0(b ) . This implies that , at the α optimum , Ui(a ) = 0 , and U0(b ) is set to satisfy the breakeven constraint with equality :
· vi − 1 − F ( vi ) · N f ( vi )
U0(b ) =
N i=1 qi(v )
[ a,b]N +1
− v0 − G(v0 ) g(v0 ) dF ( vi)dG(v0 ) .
23
·α · vi − 1 − F ( vi ) f ( vi )
− v0
· N
N i=1 qi(v )
[ a,b]N +1 dF ( vi)dG(v0 ) +α · ( E(˜v0 ) − b ) . i=1
Plugging ( 8 ) into the objective ( 6 ) leads to
( 8 )
Maximizing the integral above point wise leads to the foli ( vi ) = 1 for i ∈ {1 , , N} lowing bang bang solution : qα if vi − 1 − F ( vi )
− v0 = max vj − 1 − F ( vj )
− v0 , 0
, f ( vi ) 0 ( v ) = 1 if there is no j ∈ {1 , , N} that satisfies the j∈{1,,N} f ( vj ) fl and qα equality above .
Because F has an increasing hazard rate and G has a decreasing reverse hazard rate , it follows that qα i ( vi , v−i ) is weakly increasing in vi for every α ∈ [ 0 , 1 ] ( ie , the αoptimal mechanism is implementable ) . QED
When α ≥ 1
2 , the α optimal mechanism coincides with the mechanism that the seller would run if he owned the platform ( derived in Myerson ( 1981) ) . To understand this result , notice that the platform ’s objective function puts weakly higher weight on the seller ’s payoff than in its own profits . Because of the seller ’s incentive constraints , by giving up one dollar in profits , the platform can add more than on dollar to the seller ’s payoff . As a consequence , the platform maximizes its objective by following the seller ’s optimal mechanism ( that is , the Myerson auction ) .
When α < 1
2 , the platform puts strictly more weight on its profits than on the seller ’s payoffs . As a consequence , it is willing to introduce distortions on the seller side of the market ( therefore reducing the seller ’s payoffs ) in order to generate higher profits . The allocative distortions generated by the seller ’s informational rents are captured by the term
1 − 2 · α 1 − α
· G(v0 ) g(v0 )
, which is decreasing in α . As expected , when α = 0 , the α optimal mechanism coincides with the platform profitmaximizing mechanism derived in Myerson in Satterthwaite ( 1983 ) .
4 .
INDIRECT IMPLEMENTATION : SHARING RULES AND CONSTANT CUTS
The direct revelation mechanism derived above offers little insight on the actual practice of ad exchanges , as the payment functions that implement the optimal allocations are not very intuitive . In order to shed light on the actual mechanisms used by advertising platforms , we will now study one natural ( and widely adopted ) indirect implementation : Revenue sharing mechanisms . They work as follows :
1 . The seller is asked to report a reserve price ˆr .
2 . The platform runs a second price auction with reserve price ˆr .
3 . The platform gives to the seller a fraction θ(ˆr ) of the proceeds of the auction ( we call θ(· ) the sharing rule ) .
Before proceeding , let us define the function if α ≤ 1 2 if α > 1 2 .
1−α 0 h(α ) = fl 1−2·α
Note that the function h(α ) is continuous at α = 1 2 . The next proposition shows how to define the sharing rule θα(· ) that implements the α optimal mechanism identified in Proposition 2 . To this end , let us define the function rα(· ) such that rα(v0 ) − 1 − F ( rα(v0 ) ) f ( rα(v0 ) )
= v0 + h(α ) · G(v0 ) g(v0 )
, and the inverse vα
0 ( r ) according to r − 1 − F ( r ) f ( r )
= vα
0 ( r ) + h(α ) · G(vα g(vα
0 ( r ) ) 0 ( r ) )
.
Define the minimum reserve price r according to r− 1−F ( r ) f ( r ) = a ( if this equation does not admit a solution in [ a , b ] , set r = a ) .
Denote by R(r , N ) the expected revenue of a second price auction with N bidders and reserve price r :
R(r , N ) ≡ N · v − 1 − F ( v ) f ( v ) f ( v ) · F N−1(v)dv . b fl r
Proposition 3 . ( α Optimal Revenue Sharing Mechanism ) Consider the revenue sharing mechanism described by the sharing rule
0 ( ˆr ) · F N ( ˆr ) − b b − vα
0 ( ˆr ) F N ( r(ˆv))dˆv
θα(ˆr ) = for ˆr ∈ [ r , b ] ( 9 ) and θα(ˆr ) = 0 for ˆr < r . This mechanism indirectly implements the α optimal direct revelation mechanism . vα R(ˆr , N )
Proof . By the Envelope formula ( 1 ) , incentive compatibility implies that the expected payment to a seller with value v0 under the α optimal mechanism is given by b − v0 · F N ( rα(v0 ) ) −
F N ( rα(ˆv))dˆv .
( 10 ) b v0
Rather than asking sellers to report v0 , the revenue sharing mechanism considered here requires that sellers report some reserve price r . Let us posit that the seller equilibrium reserve price strategy is given by rα(v0 ) . We will derive the expected payments induced by incentive compatibility under this strategy , and then argue that submitting reserve prices according to rα(v0 ) is indeed profit maximizing for the seller . Because F has an increasing hazard rate , G has a decreasing reverse hazard rate , and h(· ) ≥ 0 , we know that the function rα(v0 ) is strictly increasing . Therefore we can rewrite the expected payments of a seller with value v0 ( as implied by IC ) in terms of his submitted reserve price ˆr = rα(v0 ) : b − vα
0 ( ˆr ) · F N ( ˆr ) −
F N ( rα(ˆv))dˆv . b vα 0 ( ˆr )
We will define the sharing rule θα(· ) such that the expected revenue that the seller obtains from the second price auction run at stage 2 equals the expected payments implied by incentive compatibility . This is equivalent to θα(ˆr ) · R(ˆr , N ) = b − vα
0 ( ˆr ) · F N ( ˆr ) −
F N ( rα(ˆv))dˆv . b vα 0 ( ˆr )
24
= λ(ˆr)· N bN ·
In turn , bN +1 · N − 1
− ˆrN +1 ·
+ bˆrN · 1 N ( 11 ) incentive compatibility ( and the envelope for
N ( N + 1 )
N + 1
2
. mula ) deliver another expression for the seller ’s revenue : b − r
−1(ˆr ) · F N ( ˆr ) −
F N ( r(ˆv))dˆv b b
ˆr− b
2
2 b
·
ˆr N − b N − 1 ˆr
1
1 − N
N + 1 bN
1
· b
−
2N
N ( N + 1 ) b 2
= b −
ˆr − b 2
−
= b 2
ˆr − b 2
=
+
ˆrN +1 bN
=
N bN · bN +1 · r−1(ˆr ) b N N +1 ·
2 + ˜v0 b d˜v0 −
+ ˜v0
2
1
N + 1 b b 2 dˆv b
2
ˆr− b
2
− bN +1 bN
1
N + 1
+ b
ˆrN bN · 1
2
− ˆrN +1
1
N + 1
+ bˆrN · 1 2N
.
After rearranging , we get the formula ( 9 ) .
We will now argue that submitting reserve prices according to rα(v0 ) is profit maximizing for the seller . To see why , notice that the seller problem can be written as v0 · F N ( ˆr ) + θα(ˆr ) · R(ˆr , N ) . max
ˆr
By construction , the selection rα(v0 ) satisfies the envelope formula ( 1 ) . Because the seller ’s objective satisfies strictly increasing differences , we can use the Constraint Simplification Theorem ( Milgrom ( 2004 ) , page 105 ) to conclude that rα(v0 ) maximizes the seller ’s payoff among all reserve prices in the range [ r , b ] if and only if rα(· ) is weakly increasing . As argued before , because F has an increasing hazard rate , G has a decreasing reverse hazard rate , and h(· ) ≥ 0 , we know that the function rα(v0 ) is indeed strictly increasing . Because it is clearly suboptimal to submit a reserve price lower than r ( since θα(ˆr ) = 0 for ˆr < r ) or greater than b , we conclude that submitting reserve prices according to rα(v0 ) is profit maximizing for the seller . QED
An important class of revenue sharing mechanisms is described by constant sharing rules , where θα(· ) is constant across all possible reserve prices . Such “ constant sharing schemes ” are fairly simple to describe and are widely adopted in practice by Ad Exchanges and internet auction sites .
The next proposition provides a necessary and sufficient condition for the α optimal mechanism to employ a constant sharing rule .
Proposition 4 . ( α Optimal Constant Sharing Rule ) The α optimal direct revelation mechanism can be implemented by a revenue sharing mechanism that employs a constant sharing rule if and only if v0 k b
,
G(v0 ) = where k > 0 . In this case ,
θα(r ) = k k + h(α ) for all r ∈ [ r , b ] , and θα(ˆr ) = 0 for ˆr < r .
Before going through the proof , we present the following example confirming the above result for the case of uniform distribution and α = 0 , ie , the platform optimal mechanism . Interestingly , under uniform distribution , the platform optimal mechanism can be indirectly implemented by a fifty fifty revenue sharing rule .
Example 1 . Assume α = 1 , and F = G ∼ U [ 0 , b ] , in which case r(v0 ) = b 2 . Then the seller ’s revenue under some sharing rule λ(ˆr ) ( which a priori is not necessarily constant ) is given by
2 + v0 and r−1(ˆr ) = ˆr − b fl b f ( v ) · F N−1(v)dv =
λ(ˆr ) · N ·
ˆr b
ˆr
= λ(ˆr)· N bN · f ( v )
λ(ˆr ) · N · v − 1 − F ( v ) b
2vN − bvN−1
ˆr
{2v − b} · 1 b
· v b
N−1 2vN +1 dv
N + 1 dv = λ(ˆr)· N bN ·
=
N bN · bN +1 · N − 1
2N ( N + 1 )
− ˆrN +1
1
N + 1
+ bˆrN · 1 2N
( 12 ) Comparing ( 11 ) and ( 12 ) leads to λ(ˆr ) = 1 2 , b ] This shows that the only revenue sharing auction that implements the platform optimal mechanism shares the revenue from the auction evenly between the platform and the seller .
2 for all ˆr ∈ [ b
The proof below establishes that constant sharing rules implement the α optimal mechanisms if and only if the distribution of the seller ’s outside options has a power form distribution .
Proof of Proposition 4 . The expression ( 9 ) can be rewritten as θα(r ) · R(r , N ) = b − vα
0 ( r ) · F N ( r ) −
F N ( rα(ˆv))dˆv . b vα 0 ( r )
Differentiating with respect to r leads to the following linear differential equation .
( θα )
−vα
( r ) · R(r , N ) + θα(r ) · ∂R ∂r
( r , N ) = 0 ( r ) · N · F N−1(r ) · f ( r ) . ( r ) = 0 for all r if and only if ( r , N ) = −vα
0 ( r ) · N · F N−1(r ) · f ( r ) .
Therefore , ( θα ) θα(r ) · ∂R ∂r
Note that at the α optimal mechanism b
ˆr
− bvN N fl
= −N · fl
= −N · r − 1 − F ( r ) f ( r ) 0 ( r ) ) 0 ( r ) )
∂R ∂r
( r , N ) f ( r ) · F N−1(r ) f ( r ) · F N−1(r ) .
0 ( r ) + h(α ) · G(vα vα g(vα
25
Therefore , ( θα )
( r ) = 0 for all r if and only if
0 ( r ) + h(α ) · G(vα vα g(vα
0 ( r ) ) 0 ( r ) )
θα(r ) = vα
0 ( r ) , which can be rewritten as
1 − θα(r )
θα(r )
= h(α ) ·
G(vα 0 ( r ) ) 0 ( r ) · g(vα vα
0 ( r ) )
.
The function vα 0 ( r ) is strictly increasing in r . Therefore , the expression above is constant for every r if and only if xg(x ) G(x ) is constant , what leads to G(v0 ) = , v0 if G(v0 ) = , v0
k . Finally , note that
k , then b b
1 − θα(r ) h(α )
,
= k
θα(r ) k+h(α ) for all r ∈ [ r , b ] . QED what leads to θα(r ) = k
The result above can be understood in the light of monopsonistic price theory . Intuitively , polynomial distribution functions have a constant price elasticity of supply ( which measures how many more percentage points of inventory sellers are willing to offer for one percentage increase in expected revenue ) . Namely , a distribution of the form G(v0 ) =
k has a price elasticity of supply equal to k for all oppor
, v0 tunity costs v0 . As it turns out , constant sharing schemes are optimal provided that the price elasticity of supply is constant . b
As the price elasticity k increases , the seller ’s revenue share goes up . Intuitively , as the distribution of the seller ’s opportunity costs become concentrated on high values , the platform has to increase the seller ’s revenue share to make sure that the seller is willing to participate in the trading mechanism with high enough probability .
In turn , for fixed k , the seller revenue share increases as the weight α on the seller ’s payoffs increases .
The next section applies the results above to data in order to estimate the objective function that rationalizes “ constantsharing schemes ” commonly used in practice . 4.1 Data Analysis : Estimating a Platform ’s Ob jective Function
In this section we bring the theory developed above to data . We apply the results above to answer the following questions : ( i ) Given an objective function in mind for the platform , what is the best constant cut sharing rule to use ? and ( ii ) What objective function rationalizes the revenuesharing rule used by an Ad Exchange ( AdX platform ) , which uses a constant sharing rule that assigns ( for example ) 80 % of the auction revenue to sellers , and 20 % to the platform ? To answer the above questions , a main methodological challenge is the estimation of the distribution of opportunity costs of publishers ( as data on the value of guaranteed contracts signed by publishers is not available ) . In order to overcome this difficulty , we will make the assumption that the distribution of opportunity costs of publishers coincides with the distribution of revenue in the Ad Exchange . This assumption captures the idea that publishers should be indifferent between selling impressions in the Ad Exchange and selling impressions through guaranteed contracts ( as otherwise , publishers are expected to sell all of their inventory through one of these channels ) .
Under this assumption , we can use the following procedure to estimate the platform optimal mechanism :
• get the empirical distribution of revenues obtained by a given publisher on a particular ad slot ,
• remove the observation where AdX platform was not able to sell the publisher ’s ad slot ,
• estimate the power distribution that best fits the em pirical revenue distribution , with coefficient k∗
• use this estimate to pin down the weight that the AdX platform gives to sellers’ payoffs , denoted α∗ , by solving the equation
0.8 = k∗ k∗ + h(α∗ )
.
In order to estimate the polynomial distribution that best fits the data , we use the maximum likelihood method . This method consists in choosing the distribution parameter k∗ that maximizes the theoretical probability that the realized sample was generated by a power distribution with parameter k∗ .
We applied the technique described above to five ad slots , and obtained the following results .
#obs
710,195 42,037 29,813 78.324 6,059
#sales 515,509 37,152 21,919 65,582 3,616 bid support
[ 0,20.35 ] [ 0,7.99 ] [ 0,12 ]
[ 0,27.07 ] [ 0,54.38 ] k∗ 0.42 0.65 0.51 0.39 0.29
α∗
47.22 % 45.51 % 46.59 % 47.43 % 48.11 %
Our estimate of α∗ is roughly constant in the five data sets considered . Interestingly , our estimate suggests that an AdX platform that uses 20 % as a constant cut puts roughly 46 % of weight on the seller ’s payoffs when designing the auction rules of AdX . Also given a desirable objective function , and k∗ for each publisher , the ad exchange can decide about the declared fixed percentage if it needs to negotiate them .
5 . SELLER OPTIMAL MECHANISM WITH
A MINIMUM PROFIT CONDITION
In the previous sections , we studied the mechanism design problem of an Ad Exchange that wishes to maximize a convex combinations of its own profits and the seller ’s payoffs . This formulation captures in reduced form competition between Ad Exchanges : as more Ad Exchanges are present in the market , the higher is the weight assigned to the sellers’ payoff in the Ad Exchanges objective function .
In this section , we follow an alternative approach to study competition between Ad Exchanges . Namely , we assume that Ad Exchanges maximize the sellers’ payoff subject to attaining a minimal profit level ( which should be used to cover operating costs , for example ) . Such reduced form formulation is the outcome of a Bertrand competition game between Ad Exchanges ( under the assumption that sellers can multi home and have non binding capacity constraints ) . Formally , the Ad Exchange problem is to choose a mechanism {qi(v ) , pi(v)}i=0,1,,N to maximize the seller ’s profit subject to attaining a minimum profit level of π . max
U0(v)dG(v ) ,
( 13 ) b a
26 subject to IR , IC , the feasibility constraint , and b
N b
Pi(v)dF ( v ) +
P0(v)dG(v ) ≥ π . i=1 a a
The next proposition characterizes the solution to this problem .
Proposition 5 . ( The π Optimal Direct Revelation Mechanism ) Let us choose indexes such that vi = maxj∈{1,,N} {vj} . The π optimal direct revelation mechanism sets qπ if and only if i ( vi ) = 1 vi − 1 − F ( vi ) 0 ( v ) = 1 otherwise . The function λ : [ 0 , π∗ ] → and sets qπ [ 0 , 1 ] is strictly increasing in π , and satisfies λ(0 ) = 0 and λ(π∗ ) = 1 , where
− v0 − λ(π ) · G(v0 ) g(v0 )
≥ 0 , f ( vi ) b b fl a r(v0 )
∗
π
= v − 1 − F ( v ) f ( v )
− v0 − G(v0 ) f ( v ) g(v0 ) ·F N−1(v)g(v0)dvdv0 , with r(v0)− 1−F ( r(v0 ) ) f ( r(v0 ) ) = v0 + G(v0 ) g(v0 ) . For each π , λ(π ) solves b b fl a s(v0,λ(π ) ) v − 1 − F ( v ) f ( v )
π = − v0 − λ(π ) · G(v0 ) g(v0 ) f ( v ) · F N−1(v)g(v0)dvdv0 ,
( 14 ) with s(v0 , λ ) − 1−F ( s(v0,λ ) ) f ( s(v0,λ ) ) = v0 + λ · G(v0 ) g(v0 ) .
Proof . The platform ’s profits can be rewritten as b
··· b
N a a i=1
·g(v0 )
N i=1 qi(v ) · vi − 1 − F ( vi ) f ( vi )
− v0 − G(v0 ) g(v0 ) dF ( vi )
− Ui(a ) + [ b − U0(b ) ] .
In turn , the platform ’s objective ( which is the seller ’s payoff ) rewrites b
··· b
N a a i=1
U0(b ) − b + E(˜v0 ) − qi(v ) · G(v0 ) g(v0 )
N i=1
·g(v0 ) dF ( vi )
.
Expressing the platform ’s constrained maximization prob lem in Lagrangian form leads to b
µ · vi − µ · 1 − F ( vi )
· a b
N a i=1
···
− µ · v0 − ( 1 + µ ) · G(v0 ) g(v0 ) f ( vi ) qi(v )
N
·g(v0 ) dF ( vi )
−µ · Ui(a ) + µ · [ b − U0(b ) ] + U0(b ) − b + E(˜v0 ) , i=1 where µ > 0 . It is immediate that at the optimum Ui(a ) = 0 and U0(b ) = b . Maximizing the integral above point wise leads to the following bang bang solution : qπ
µ · vi − µ · 1 − F ( vi ) 0 ( v ) = 1 otherwise . Defining λ ≡ µ
− ( 1 + µ ) · v0 − G(v0 ) g(v0 ) f ( vi ) and qπ 1+µ leads to the statement in the proposition . Finally , since the profit constraint is always binding , the value of λ is given by ( 14 ) . QED i ( vi ) = 1 if ≥ 0 ,
In order to obtain insight on the actual practice of adexchanges , the next proposition derives the Revenue sharing mechanisms that implement the direct revelation mechanism described above . Define the function v0(r , λ ) according to r − 1 − F ( r ) f ( r )
= v0(r , λ ) + λ · G(v0(r , λ ) ) g(v0(r , λ ) )
.
Then the following result is true . The proof is identical to that of Proposition 4.1 , and is therefore omitted .
Proposition 6 . ( π Optimal Indirect Implementation ) The following trading procedure indirectly implements the π optimal mechanism :
1 . The seller is asked to report a reserve price ˆr .
2 . The platform runs a second price auction with reserve price ˆr .
3 . The platform gives to the seller a fraction θπ(ˆr ) of the proceeds of the auction , where the sharing rule θπ(ˆr ) satisfies b − v0(ˆr , λ(π ) ) · F N ( ˆr ) − b v0(ˆr,λ(π ) ) F N ( r(ˆv))dˆv
R(ˆr , N )
θπ(ˆr ) = for ˆr ∈ [ r , b ]
Interestingly , constant sharing schemes are not able to implement the π optimal mechanism . This suggests that platforms might need to adopt non constant sharing schemes if competition in the ad exchange market increases , therefore approaching Bertrand competition , and operational costs per transaction are bounded by some π greater than zero .
6 . FUTURE RESEARCH
This paper studies the optimality of constant sharing schemes in settings plagued by two sided asymmetric information and competition . We provide necessary and sufficient conditions under which the optimal mechanism can be implemented by constant cuts for the seller , and analyze how such cuts are affected by the degree of competition in the market . One fruitful direction of future research pertains the relative performance of constant sharing mechanisms when the necessary and sufficient conditions identified in this paper fail . In such settings , what fraction of the revenue associated with the optimal mechanism does constant sharing schemes achieve ? The widespread use of constant sharing rules renders this an important question with first order practical relevance . Acknowledgements . We thank our colleagues Gagan Goel , Eyal Manor , and Martin Pal , for very helpful discussions and comments on the paper .
27 7 . REFERENCES [ 1 ] X . Deng , P . Goldberg , B . Tang , and J . Zhang .
Revenue maximization in a bayesian double auction market . In ISAAC , 2011 .
[ 2 ] K . Deshmukh , A . V . Goldberg , J . D . Hartline , and
A . R . Karlin . Truthful and competitive double auctions . In ESA , pages 361–373 , 2002 .
[ 3 ] H . Hotelling . Stability in competition . The Economic
Journal , 39(153 ) , 1929 .
[ 4 ] K . Jain and C . A . Wilkens . Ebay market intermediation problem . 2012 .
[ 5 ] A . Mas Colell , M . D . Whinston , and J . R . Green .
Microeconomic Theory . Oxford University Press , 1995 .
[ 6 ] R . P . McAfee . Mechanism Design by Competing
Sellers . Econometrica , pages 1281–1312 , 1993 .
[ 7 ] R . Myerson . Optimal auction design . Mathematics of operations research , pages 58–73 , 1981 .
[ 8 ] R . Myerson and M . Satterthwaite . Efficient mechanisms for bilateral trading . Journal of Economics Theory ( JET ) , pages 265–281 , 1983 .
[ 9 ] M . Pai . Competing auctioneers . 2012 .
[ 10 ] M . Peters and S . Severinov . Competition among sellers who offer auctions instead of prices . Journal of Economics Theory ( JET ) , 75:141–179 , 1997 .
28

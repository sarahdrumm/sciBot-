Price Competition in Online Combinatorial Markets
Moshe Babaioff
Noam Nisan
Microsoft Research
Microsoft Research and HUJI moshe@microsoft.com noamn@microsoft.com
Renato Paes Leme∗ Google Research NYC renatoppl@google.com
Abstract
We consider a single buyer with a combinatorial preference that would like to purchase related products and services from different vendors , where each vendor supplies exactly one product . We study the general case where subsets of products can be substitutes as well as complementary and analyze the game that is induced on the vendors , where a vendor ’s strategy is the price that he asks for his product . This model generalizes both Bertrand competition ( where vendors are perfect substitutes ) and Nash bargaining ( where they are perfect complements ) , and captures a wide variety of scenarios that can appear in complex crowd sourcing or in automatic pricing of related products .
We study the equilibria of such games and show that a pure efficient equilibrium always exists . In the case of submodular buyer preferences we fully characterize the set of pure Nash equilibria , essentially showing uniqueness . For the even more restricted “ substitutes ” buyer preferences we also prove uniqueness over mixed equilibria . Finally we begin the exploration of natural generalizations of our setting such as when services have costs , when there are multiple buyers or uncertainty about the the buyer ’s valuation , and when a single vendor supplies multiple products .
4 1 0 2 n a J
8
] T G . s c [
1 v 9 5 5 1
.
1 0 4 1 : v i X r a
∗This work was done while the author was a post doctoral researcher at Microsoft Research Silicon Valley .
0
1
Introduction
It is a common practice in electronic commerce for sellers to use algorithmic techniques to automatically adjust the price of goods and services in response to prices posted by other sellers . Such practices are specially in evidence when malfunctioning algorithms lead to rather amusing results : Eisen [ 13 ] observed that the biology book ’The Making of a Fly’ was priced at 23.6 million dollars by a seller in Amazon and at 18.6 million dollars by another seller . By observing how prices changed over time , Eisen concluded that this result was reached by sellers recurrently applying price update rules p1 ← .998 · p2 and p2 ← 1.27 · p1 , without taking the valuation of the prospective buyers into account . Prices reached these high values as after each time both sellers updated their prices , the prices grew by a factor of .998 · 1.27 > 1 .
Such absurd outcomes are uncommon ( but this example is by no means unique ) and are often the result of faulty algorithms , but they hint at at a complex game between different sellers that adjust their prices based on the price of their competitors and based on the dependencies among products ( substitutabilities and complementarities ) . The fact that sellers frequently update their prices in response to other sellers and the resulting fluctuations have been traditionally observed in financial markets as well as in prices for airline tickets . A recent news article [ 1 ] observed that the same technique is being adopted by online retailers for more mundane consumer goods . The article tracks the price of a microwave across three different online retailers : Amazon , Best Buy and Sears . They observed the price being changed 9 times during the day by Amazon and twice by Best Buy , in response to Amazon prices .
Our goal in this paper is to formally model the pricing game played by the sellers and study properties of its equilibria as a function of the dependencies among goods/services offered by the sellers . Such phenomena are not an exclusive feature of internet markets . Traditional economic models such as Bertrand competition [ 5 ] and Nash Bargaining [ 26 ] explore versions of this question . Two aspects of online markets , however , are particularly relevant . The first is operational : the internet provides quick access to the information on prices of other sellers and allows sellers ( or software agents acting on their behalf ) to respond in real time . The second aspect is structural : products and services exhibit complex dependencies . We exemplify below some situations in which such dependencies arise :
• cloud services : building a cloud service involves assembling various components such as storage , databases , bandwidth , etc . . Each of those is available through a variety of vendors . Complex dependencies arise from the fact that some product are more compatible with each other and some are less . For example , a certain database might place some requirements on storage and bandwidth , making some combinations of services infeasible .
• information and data streams : it is common for internet advertisers to use behavioral and demographic information about the users to bid on ads and to choose which content to display . This information is typically purchased from third party data providing agencies who collect and curate databases for this purpose . Each data providing agency has a partial view of the user and complex queries often require advertisers to purchase data from multiple vendors . Two pieces of data might exhibit subtitutability ( eg if they provide the same information about the user ) or might be complements ( eg if they have a common attribute that allows the advertiser to perform a join and link two different views about the same user ) .
• crowdsourcing and online marketplaces : online platforms such as oDesk allow workers to post hourly wages and buyers to assemble teams of workers with different skills . Workers with
1 similar skills are substitutes while two workers that are in same geographic location and can more easily work together might be complements .
• routing : given a source and a destination in a network , one needs to buy a path connecting them . Two edges needed to complete a path are complements . Two parallel edges are perfect substitutes . This corresponds to the path auctions of Immorlica et al [ 19 ] .
Our results . We first define a simple model of a pricing game , in which we wish to capture the essential aspects of the competition among sellers . Our basic game consists of n sellers and one buyer : the buyer has a public1 combinatorial valuation over the items and reacts to item prices by purchasing the bundle of items/services that maximizes his utility ( total value minus total price ) , breaking ties according to a fixed rule . The sellers are strategic agents and each seller ’s strategy consists of setting a price for the service he is providing .
Our first result is the existence of pure Nash equilibria for every combinatorial valuation if the buyer breaks ties maximally , ie , favoring supersets . For arbitrary tie breaking rules , we show existence of ǫ Nash equilibria for all ǫ > 0 . Both results rely on a structural characterization of the set of equilibria .
Although pure Nash equilibrium always exists , it might fail to be unique , as in the case of Nash Bargaining . When two sellers are perfect substitutes from the buyer ’s perspective , the classical Bertrand competition model asserts that the unique equilibrium consists of both buyers pricing at zero . For combinatorial valuations , are there properties encoding that items are substitutes that lead to uniqueness of equilibrium ? We explore four common notions of substitutes in economics and study their effect on the set of equilibria of the pricing game . In increasing generality , we study the following models of substitutability : gross substitutability ( a traditional notion of substitutes in economics due to Kelso and Crawford [ 21] ) , submodularity , XOS and subadditivity . We refer to [ 23 ] for an extensive discussion on the various notions of substitutability .
First we show that for subadditive and XOS valuations , utilities of players might not be unique across all pure Nash equilibria . If the buyer valuation is submodular , however , each player has the same utility at every pure Nash equilibrium.2 For the subclass of gross substitutes valuations a stronger claim is true : utilities are the same across all mixed Nash equilibrium , under mild assumptions on the tie breaking rules used by the buyer .
Extensions . We extend our basic model in three different directions , relaxing assumptions made on the basic model :
• service costs : we consider each seller as having a cost to perform the service if selected by the buyer . The utility of the seller then becomes , zero if not selected and the price posted minus his cost if selected . We show that the existence of equilibrium still holds in this setting , moreover , there is always an equilibrium maximizing the total welfare of the system , which is defined by the total value obtained by the buyer minus the total cost by the sellers . In other words , the Price of Stability3 is 1 . We show that if valuations are gross substitutes , all equilibria are welfare maximizing , ie , the Price of Anarchy is 1 . For submodular functions , however , we show that inefficient equilibria might arise . Moreover , we show that if there are costs , even if the valuation is submodular , the utilities in equilibria might not be unique .
1the case in which there is uncertainty about the buyer ’s valuation is briefly discussed in Section 52 2The equilibrium might fail to be unique , but only because sellers with zero utility have different strategies resulting with that utility .
3the Price of Stability measures the ratio between the optimal welfare achievable and the optimal welfare in equilibrium . The Price of Anarchy measures the ratio between the optimal welfare achievable and the worse welfare in equilibrium .
2
• value uncertainty and multiple buyers : we relax the assumption that the valuation of the buyer is public knowledge of the sellers , and assume instead that sellers only know that the valuation is drawn from a certain distribution . This framework also captures the model where there are multiple buyers and sellers are not allowed to price discriminate between them . We show that pure Nash equilibrium might not exist in this setting . Moreover , not even ǫ Nash are guaranteed to exist for small ǫ > 0 .
• multiple services per seller : in the basic model , we assumed that each service is controlled by a single seller . We consider the model where each seller sets item prices and collects utility from potentially many items . We note that even the special case of a monopolist seller , where there is only one seller controlling all items , is quite non trivial . We show that for this case , both the Price of Anarchy and Price of Stability are Θ(log n ) . Moreover , the problem of bestresponding in this game is a generalization of the Unique Coverage problem , which was shown to be O(log n) hard to approximate by Demaine et al [ 11 ] . In this paper , here we provide an O(log n ) approximation to the pricing problem faced by the monopolistic seller for the case where the buyer ’s valuation is submodular .
Conclusions and Open Problems . In this paper we propose a model for the price competition in combinatorial markets generalizing traditional models such as Bertrand Competition and Nash Bargaining to scenarios with more complex dependencies over goods . Through our model we seek to understand which conditions are necessary so that the price competition leads to an equilibrium and also under which conditions is this equilibrium unique or efficient .
The lack of equilibrium where there is uncertainty about the valuation of the buyer ( Section 5.2 ) offers a possible explanation for the price cycles observed in [ 1 ] . Given such interpretation , it leads to the interesting open question of trying to learn the belief of the sellers about buyers based on their history of price updates . Our extensions also lead to other open questions :
• bounding the Price of Anarchy over the set of mixed Nash equilibria when there is uncertainty about the buyer valuation .
• characterizing the set of Nash equilibria when there are multiple services per seller beyond the monopolistic seller case .
Related Work Our work situates in the broader agenda of understanding the structure of Nash equilibria of games motivated by auction mechanisms – both direct and reverse . Closely related to our work is the study of pay your bid mechanisms for the reverse auction settings , in which a buyer solicits price quotes from different sellers and decides to buy from a certain subset based on the quotes received . The same problem is often phrased as hiring a team of agents , in which a firm solicits wages from different workers and chooses a subset of them to hire . Immorlica et al [ 19 , 20 ] study the Nash equilibria for procurement settings in which a firm needs to choose a subset of workers subject to some feasibility constraint . Their model differs from ours in two aspects : ( i ) while in our paper the buyer has a value for each subset and chooses the one maximizing his utility , in [ 20 ] the buyer is required to buy some feasible set . In other words , their setting corresponds to the special case of our setting where the value of the buyer is either −∞ for infeasible sets or ∞ for feasible sets . ( ii ) their focus is on bounds on the total payment of the buyer ( which is commonly referred as frugality ) , while our focus is on properties of the equilibrium and on measuring welfare . Welfare makes sense in our model since there are quantitative values associated with each outcomes rather then feasibility constraints .
For direct auction settings , in which a seller holds a set of items and solicits bids from various buyers on those items , Bernheim and Whinston [ 4 ] study the set of equilibria of an auction where
3 agents bid on generic outcomes ( menu auctions ) . Christodoulou , Kov´acs and Schapira [ 10 ] study the case where outcomes are partitions over items and agents bid on each item individually despite having combinatorial valuations over items ( item bidding auctions ) . This research line was followedup by a series of subsequent papers [ 6 , 18 , 16 , 27 ] . We refer to [ 24 ] for a survey .
The previously described related work focuses on equilibrium analysis for games that are likely to arise naturally in direct and reverse markets . A different line of research studies the mechanism design problem , in which a ( direct or reverse ) auctioneer engineers the rules of the market in order to guarantee desired outcome such as efficiency and frugality . For work in mechanism design more closely related to our setting , we refer to [ 2 , 15 , 14 , 9 , 22 ] .
Another stream of related work consists of papers who extend the traditional price competiton model due to Bertrand [ 5 ] to combinatorial settings . Babaioff , Lucier and Nisan [ 3 ] model the case each buyer can only access some of the sellers but not others . Chawla and Roughgarden [ 8 ] and Chawla and Niu [ 7 ] study Bertrand competition in the context of network routing .
2 Preliminaries
We first define a basic version of the pricing game , which is the central object of study in this paper . Later we discuss and analyze extensions of the basic model . A ( basic ) pricing game is defined by a set N = [ n ] of services ( items ) , each controlled by a different provider ( a seller ) and one buyer with valuation v : 2N → R+ , where v(S ) is the value for acquiring a subset S ⊆ N of those services . We assume that v(∅ ) = 0 and that the valuation is monotone v(S ) ≤ v(T ) for S ⊆ T . The strategy of each seller is to set a price pi for his service .
While facing a price vector p , the buyer chooses to purchase a set according to a decision map + → 2N that associated each price vector p to a set that maximizes the quasi linear utility
X : Rn of the buyer X(p ) ∈ D(v ; p ) := argmaxS⊆N v(S ) −Pi∈S pi . We refer to D(v ; p ) as the demand correspondence . The decision map essentially fixes how ties are broken between sets in the demand correspondence . We will say that a decision map is maximal if there is no X ′ ∈ D(v ; p ) such that X(p ) ( X ′ .
A valuation function v together with a decision map define a game among the providers in which each provider strategy is to set a price pi for his service . As in the basic model we assume that providers have no cost providing their services,4 the utility of each provider i equals to his revenue and is : uX i ( p ) = pi · I{i ∈ X(p)} where I{·} is the indicator function .
We are interested in studying the set of pure Nash equilibria of this game :
NashX = {p ∈ Rn
+ ; uX i ( pi , p−i ) ≥ uX i ( p′ i , p−i ) , ∀p′ i ∈ R+} ie , strategy profiles where no seller can increase his utility by deviating . We say that a strategy profile is a ( pure ) ǫ Nash equilibrium if no seller can improve his utility by more then ǫ by deviating :
NashX
ǫ = {p ∈ Rn
+ ; uX i ( pi , p−i ) ≥ uX i ( p′ i , p−i ) − ǫ , ∀p′ i ∈ R+}
We also consider the sets of mixed Nash equilibria : mNashX = {p ∈ ( ∆R+)n ; EuX i ( pi , p−i ) ≥ EuX i ( p′ i , p−i ) , ∀p′ i}
4We discuss the extension to providers with costs in Section 51
4 where the elements of ( ∆R+)n are vectors of n independent random variable taking values in R+ . When the decision map X is clear from the context , we omit it from the notation , for example , we refer to ui , Nash , Nashǫ , mNash instead of uX i , NashX , NashX
ǫ and mNashX .
We will characterize the set of equilibria in terms of properties of the buyer ’s valuation v .
Consider the following classes of valuation functions , from more general to more specific :
• combinatorial : no assumptions on the valuation besides monotonicity .
• subadditive : v(S ∪ T ) ≤ v(S ) + v(T ) , ∀S , T .
• XOS : v(S ) = maxt∈IPi∈S wit for wit ∈ R+ .
• submodular : v(S ∪ T ) + v(S ∩ T ) ≤ v(S ) + v(T ) , ∀S , T .
• gross substitutes : given a price vector p ∈ Rn
+ , if S ∈ D(v ; p ) then for any vector p′ ≥ p , there is T ∈ D(v ; p′ ) such that S ∩ {j ; pj = p′ j} ⊆ T .
It is known that every class in the above list is a strict subclass of the previous one . We refer to Lehmann , Lehmann and Nisan [ 23 ] for a comprehensive discussion on such classes and on their relations .
We fix some additional notation that will be useful for the rest of the paper : given a valuation v and sets S and T such that S ∩ T = ∅ , the marginal values of T with respect to S is defined to be v(T |S ) = v(S ∪ T ) − v(S ) . Given a price vector p ∈ Rn the context , we sometimes omit braces in the representation of sets . For example , we represent v({i}|S ) by v(i|S ) , A ∪ {i} by A ∪ i and S \ {j} by S \ j .
+ , denote p(S ) =Pj∈S pj . When clear from
We keep our model as simple as possible to highlight its interesting features . Later in Section 5 we consider extensions of the basic model to incorporate service costs , multiple services provided by the same seller , a market with multiple sellers and multiple buyers and settings with incomplete information . We discuss how such additional features influence the results for the basic model .
3 Examples , Existence and Characterization of Equilibrium
First notice that the pricing game has , as special cases , the classical models of Bertrand competition [ 5 ] and Nash bargaining [ 26 ] .
Example 1 ( Bertrand competition ) If n > 1 , v(∅ ) = 0 and v(S ) = c for S 6= ∅ for some constant c > 0 , all services are perfect substitutes and the buyer has no utility for purchasing more then one . In this case X(p ) will be either empty if pi > c for all i or will contain at most one service of positive price . It is known that for this case there is a unique Nash equilibrium that corresponds to every seller posting price pi = 0 .
Example 2 ( Nash bargaining ) The other extreme case is when v(N ) = c > 0 and v(S ) = 0 for any S 6= N . This models the scenario where all the services are necessary components for the buyer . correspond to :
Nash = {p ∈ Rn
Let X(p ) = N if Pi pi ≤ c and X(p ) = ∅ otherwise . The set of pure Nash equilibria of this game In order to see that the profiles above are Nash equilibria , notice that if Pi pi = c , then X(p ) = N If Pi pi ≥ c + maxi pi , then and no seller has incentive to change his price , since by decreasing his price , he can only decrease his utility . By increasing his price , he can only make X(p ) = ∅ .
+;Pi pi = c} ∪ {p ∈ Rn
+;Pi pi ≥ c + maxi pi}
5 i > 0 , X(p′ clearly X(p ) = ∅ and for any seller i and price p′ i , p−i ) is still ∅ , since Pj6=i pi + p′ Pj pi − maxi pi ≥ c . For the converse , notice that if p ∈ Nash , then either ( i ) X(p ) = N in which case Pi pi ≤ c . If Pi pi < c , any player can deviate to p′ i = c −Pj6=i pj > pi and improve his utility . So , it must be the case that Pi pi = c or : ( ii ) X(p ) = ∅ , in which case it must be the case that no seller can decrease his price such that pi > 0 and Pi pi ≤ c , so it must be the case that Pi pi ≥ c + maxi pi .
Now we extend the characterization of Example 2 to a generic combinatorial valuation . i >
Lemma 3 Given a price vector p ∈ Rn the following two properties hold :
+ and S = X(p ) ∈ D(v ; p ) , then p is a Nash equilibrium if
∀i ∈ S , ∃T 6∋ i st v(S ) − p(S ) = v(T ) − p(T )
∀i /∈ S , ∀T ∋ i , v(S ) − p(S ) ≥ v(T ) − p(T \ i )
Moreover , if the map X is maximal , the above statement holds with ’if and only if’ .
The first condition ensures that a provider that is picked cannot gain by slightly increasing his price . The second condition ensure that a provider that is not picked cannot gain by being picked even if he posts a positive price that is arbitrarily low .
If a price vector p is a Nash equilibrium , then for any i ∈ S and ǫ > 0 , ui(pi + ǫ , p−i ) ≤ Proof : ui(pi , p−i ) , so it must be the case that ui(pi + ǫ , p−i ) = 0 as with pi + ǫ seller i will not sell . So , for every ǫ , there is a set Tǫ such that i /∈ Tǫ and v(S ) − p(S ) − ǫ ≤ v(Tǫ ) − p(Tǫ ) . Taking ǫt = 1 for t ∈ Z+ , since there are finitely many values for Tǫt , there must be one that occurs t infinitely often . Let this be T . Then taking the limit as t → ∞ in this subsequence one gets that : v(S ) − p(S ) ≤ v(T ) − p(T ) . Since S ∈ D(v ; p ) , then v(S ) − p(S ) ≥ v(T ) − p(T ) thus it must be the case that v(S ) − p(S ) = v(T ) − p(T ) .
Given i /∈ S , then it must be the case that 0 = ui(pi , p−i ) ≥ ui(ǫ , p−i ) for every ǫ ≥ 0 , so for any set T ∋ i , it must be the case that v(S ) − p(S ) ≥ v(T ) − p(T \ i ) + ǫ . Taking the limit as ǫ → 0 , we get the desired condition . i , p−i ) = 0 . i > pi , ui(p′
For the converse direction , observe that for i ∈ S , there is no incentive to decrease his price . i , pi ) = 0 , since there is a set T ∋ i such i > 0 , fi
Also , the first property guarantees that for any p′ that v(S ) − p(S ) = v(T ) − p(T ) . For i /∈ S , the second property guarantees that for any p′ X(p′ i , p−i ) = S , so ui(p′ One can define the welfare W ( p ) of a decision map X at a price vector p as the sum of the utilities of the agents ( all sellers plus the buyer ) when the buyer buys X(p ) , ie , W ( p ) = v(X(p) ) . We show that for any valuation function v , when the decision map is maximal the set of Nash equilibrium in non empty , moreover , there is always a welfare maximizing equilibrium , one in which the buyer buys all services . The next theorem can be seen as showing that the Price of Stability is one , ie , it states that there is always an equilibrium that produces maximal welfare .
Theorem 4 If X is maximal , then the set of pure Nash equilibria with X(p ) = N is non empty .
Proof : Define the set F as :
F = {p ∈ Rn
+ ; p(T ) ≤ v(T |N \ T ) , ∀T ⊆ N } and notice the condition defining F corresponds to v(N ) − p(N ) ≥ v(N \ T ) − p(N \ T ) for all T , so N ∈ D(v ; p ) . Note that 0 ∈ F and thus F 6= ∅ .
6
Now , define the set of Pareto vectors in F as :
Par(F ) = {p ∈ F ; 6 ∃p′ ∈ F st p′ ≥ p and Pi p′ i >Pi pi}
Since F is non empty and compact , Par(F ) is also non empty . Now , we argue that Par(F ) is exactly the set of Nash equilibria with X(p ) = N . Since the full set of sellers is selected , it is enough to argue about the first condition in Lemma 3 .
If p ∈ Par(F ) then for any t ∈ Z+ , X(pi + 1 t , p−i ) 6= N , so there must be some Tt ( N and i /∈ Tt such that v(Tt ) − p(Tt ) ≥ v(N ) − p(N ) − 1 t . Since there are finitely many values for Tt , some set T must occur infinitely often . Taking the limit t → ∞ for this subsequence we get v(T ) − p(T ) ≥ v(N ) − p(N ) , since N ∈ D(v ; p ) , this must hold with equality . Therefore , by Lemma 3 , this is a Nash equilibrium .
Conversely , if p /∈ Par(F ) , we want to show that p is not a Nash equilibrium with X(p ) = N . If p /∈ F , then for some T ⊂ N such that v(N ) − p(N ) < v(N \ T ) − p(N \ T ) , so we can’t have X(p ) = N . If p ∈ F \ Par(F ) , then there is p′ ∈ F with p′ ≥ p and i such that p′ i > pi . In particular , for all T ∋ i , p(T ) < p′ i + p(T \ i ) ≤ v(T |N \ T ) . That is , for all such T ∋ i , v(N ) − p(N ) > v(N \ T ) − p(N \ T ) , which contradicts the first condition on Lemma 3 and therefore can’t be an equilibrium . fi
If X(p ) is not maximal , then Nash equilibria are not guaranteed to exist . Consider for example the pricing game with one seller and one buyer with valuation v({1} ) = 1 and a decision map such that X(p1 ) = {1} for p1 < 1 and X(p1 ) = ∅ otherwise . Note that X(p ) is not maximal for p1 = 1 as {1} is also in the demand correspondence yet X(1 ) = ∅ . This game has no Nash equilibria , since for p1 < 1 the deviation p′ 2 ( 1 + p1 ) is a strict best response . For p1 ≥ 1 , the deviation p′ 1 = 0.9 is a strict best response . This is the same phenomenon that happens in first price auctions . Yet , similarly to first price auctions , it is possible to show that given any decision map ( which corresponds to tie breaking rules in first price auctions ) , there exists an ǫ Nash equilibrium for every ǫ > 0 . To prove that we first show that if p is an equilibrium with respect to some maximal tie breaking rule X , then for any other tie breaking rule X ′ there always exists pǫ that is an ǫ Nash equilibria with respect to X ′ and results with the same welfare , W ( X ′(pǫ ) ) = W ( X(p) ) .
1 = 1
Theorem 5 Fix a combinatorial valuation v . Let X be a maximal decision map and p ∈ NashX , i.e , p is a pure Nash equilibrium with respect to the game defined by X . Now , for any ( not necessarily maximal ) decision map X ′ , there are ǫ Nash equilibria with respect to X ′ converging to p , ie , ∀ǫ > 0 , ∃pǫ ∈ NashX ′ ǫ such that W ( X ′(pǫ ) ) = W ( X(p ) ) and pǫ → p . i = [ pi − ǫ
The main idea of the proof is to construct for every p ∈ NashX and ǫ > 0 a price vector pǫ such i = pi otherwise . Then we argue that pǫ must be an ǫ Nash that pǫ equilibrium of the game induced by any decision map X ′ . We defer the details of the proof to the appendix . We note that the combination of Theorem 4 and Theorem 5 implies that : n ]+ for i ∈ X(p ) and pǫ
Corollary 6 For any combinatorial valuation v , any decision map X ′ and any ǫ > 0 , the set of welfare maximizing ǫ Nash equilibria is non empty .
4 Uniqueness of Equilibria
In the previous section , we showed that if the decision map is maximal , equilibria are guaranteed to exist for any combinatorial valuation . This equilibrium might not be unique , as the Nash Bargaining Example ( Example 2 ) shows . In this section we show that submodularity of the valuation function
7 is a sufficient condition to guarantee uniqueness of utilities for pure Nash equilibrium . Moreover , equilibrium prices are unique for every seller with non zero utility . For the subclass of grosssubstitute valuation , the same claim also hold for mixed Nash equilibrium .
4.1 Submodular valuations : uniqueness of pure equilibria
We start with a few observations :
Lemma 7 If the buyer valuation is submodular , then for any pure Nash equilibrium p , pi ≥ v(i|N \ i ) . Moreover , if S = X(p ) and i /∈ S , then v(i|S ) = 0 .
Setting price pi < v(i|N \ i ) makes seller i always be chosen , since for any S ⊆ N \ i , Proof : v(S ∪ i ) − p(S ∪ i ) > v(S ) − p(S ) + [ v(i|S ) − v(i|N ) ] ≥ v(S ) − p(S ) , where the last step follows by submodularity . Therefore , no price pi < v(i|N \ i ) can be in equilibrium , since a deviation to any price between pi and v(i|N \ i ) is an improvement .
Also , if i /∈ S = X(p ) , then v(i|S ) = 0 , otherwise he could deviate to p′ i = 1
2 v(i|S ) , get selected fi by the buyer and have positive utility .
The following simple fact about submodular functions will be useful in the following proof :
Lemma 8 If v is a submodular function and S ∩ T = ∅ , then v(T |S ) = 0 iff v(t|S ) = 0 for all t ∈ T
Proof : all t ∈ T then for let T = {t1 , . . . , tk} and
If v(T |S ) = 0 , then by monotonicity of v , v(t|S ) ≤ v(T |S ) = 0 . Now , if v(t|S ) = 0 for v(T |S ) = k
Xi=1 v(ti|S ∪ {tj ; j < i} ) ≤ v(ti|S ) = 0 k
Xi=1 fi
The previous lemma together with Lemma 7 imply that if v is submodular , then for any Nash equilibrium p and S = X(p ) , it must holds that v(S ) = v(N ) . Looking again from the perspective of the welfare function , W ( p ) = v(X(p) ) , the theorem above gives a Price of Anarchy result for pricing games with submodular function : is states that all Nash equilibria maximize the welfare , and thus the Price of Anarchy is exactly one .
Theorem 9 If the valuation v is submodular , then the utility of each seller i in any pure Nash equilibrium is ui = v(i|N \ i ) . In particular , for every pure Nash equilibrium profile p , if v(i|N \ i ) > 0 , then pi = v(i|N \ i ) and i ∈ X(p ) .
Let p be a pure Nash equilibrium and S = X(p ) . From Lemma 7 , we know that Proof : pi ≥ v(i|N \ i ) for all i . Additionally for i /∈ S , v(i|S ) = 0 and therefore by sub modularity v(i|N \ i ) = 0 . We are left to prove that for i ∈ S , pi ≤ v(i|N \ i ) . Fixing i ∈ S , we use the first condition in Lemma 3 to obtain a set T 6∋ i such that v(S ) − p(S ) = v(T ) − p(T ) . We consider two cases :
Case ( i ) T 6⊂ S . Observe that for all j ∈ T \ S , pj = 0 , otherwise this seller could deviate to 1 2 pj , making T be selected by the buyer instead of S and getting positive utility . Given that since S ∈ D(v ; p ) : v(S ) − p(S ) ≥ v(S ∪ T \ i ) − p(S ∪ T \ i ) = v(S ∪ T \ i ) − p(S \ i )
8 which implies that : pi ≤ v(S ) − v(S ∪ T \ i ) = v(N ) − v(N \ i ) = v(i|N \ i ) where v(S ) = v(N ) follows from Lemma 7 . The fact that v(S ∪ T \ i ) = v(N \ i ) comes from the observation that for k /∈ S ∪ T , v(k|T ) = 0 , otherwise seller k could set his price to 1 2 v(k|T ) and be selected , since T ∪ {k} would be preferable then S at such prices . Since v(k|T ) = 0 , by submodularity v(k|S ∪ T \ i ) = 0 and therefore v(S ∪ T \ i ) = v(N \ i ) by Lemma 8 .
Case ( ii ) T ⊂ S . We have that v(S ) − p(S ) = v(T ) − p(T ) ≥ max(v(S \ i ) − p(S \ i ) , v(T ∪ {i} ) − p(T ∪ {i}) ) . In particular : v(i|T ) ≤ pi ≤ v(i|S \ i ) . Since by submodularity v(i|T ) ≥ v(i|S \ i ) , the inequalities must hold with equality , so pi = v(i|S \i ) = v(S)−v(S \i ) = v(N )−v(N \i ) = v(i|N \i ) . We know v(S ) = v(N ) from Lemma 7 . In order to see that v(S \ i ) = v(N \ i ) , notice that for any j /∈ S by the second condition of Lemma 3 : v(S \ i ) − p(S \ i ) = v(S ) − p(S ) ≥ v(S ∪ j \ i ) − p(S \ i ) and therefore v(j|S \ i ) = 0 . Using Lemma 8 , we get that v(S \ i ) = v(N \ i ) . fi
We emphasize that even if X(p ) = S 6= N , the utility of i ∈ S is vi(i|N \ i ) and not vi(i|S \ i ) .
These two might be different , for example , this is the case for Bertrand competition .
The next example shows that submodularity is in some sense necessary . Weaker concepts of
’s ubstitutability’ such as XOS or subadditivity are not enough to ensure uniqueness of equilibria .
Example 10 Consider the following instance of the pricing game with three sellers and a buyer with valuation v such that v(∅ ) = 0 , v(S ) = 2 for 1 ≤ |S| ≤ 2 and v(S ) = 3 for |S| = 3 . This function is in XOS and is subadditive , but it is not submodular , since v(3|{1} ) = 0 < 1 = v(3|{1 , 2} ) . The utilities in equilibrium are not unique , indeed , using the conditions in Lemma 3 it is easy to see that the pure equilibria p with X(p ) = N are given by : and permutations thereof . p = ( x , x , 1 − x ) for 0 ≤ x ≤ 1 2
4.2 Gross substitute valuations : uniqueness of mixed equilibria
One other question that arises from the previous theorem is weather the uniqueness in utilities also holds for mixed Nash equilibria . In what follows we give a mixed Nash uniqueness result for the subclass of gross substitute valuations . Recall that a valuation v is gross substitute if when some prices are increased , there is always a demanded set which contains all previously demanded items for any price vectors p′ ≥ p for which the price did not change . Formally , v is gross substitute if j} ⊆ S′ . We say that a decision map and S ∈ D(v ; p ) , there is S′ ∈ D(v ; p′ ) such that S ∩ {j ; pj = p′ v is Gs consistent with a gross substitute valuation v if given p′ ≥ p , X(p ) ∩ {j ; pj = p′ j} ⊆ X(p′ ) . It is known that when v is a gross substitute valuation , then the greedy algorithm with lexicographic tie breaking implements a Gs consistent decision map . This greedy algorithm starts with S = ∅ and while maxi /∈S v(i|S ) − pi ≥ 0 , adds to S the lexicographically first element for which the maximum is reached . Let X(p ) be the resulting set from this process . It follows from [ 12 , 25 ] that X(p ) ∈ argmaxS v(S ) − p(S ) .
Before stating and proving the uniqueness result for gross substitutes , we give a version of
Lemma 7 for mixed Nash equilibria and a technical lemma about gross substitute valuations .
Lemma 11 If the buyer valuation is submodular , then for any mixed Nash equilibrium p , pi ≥ v(i|N \ i ) with probability 1 . Moreover , if E[ui(p ) ] = 0 , then P[v(i|X(p ) ) > 0 ] = 0 .
9
Proof : The first part follows directly from the proof of Lemma 7 . For the second part , if P[v(i|X(p ) ) > 0 ] > 0 , then there is ǫ > 0 for which P[v(i|X(p ) ) > ǫ ] > 0 . Therefore , by deviating to price pi = ǫ , seller i can be obtain utility ǫ with positive probability , contradicting that E[ui(p ) ] = 0 for this equilibrium . fi
Lemma 12 Consider a gross substitute valuation function v over N , disjoint sets A , B and j /∈ A ∪ B . Assume that v(i|A ∪ j ) = 0 for all i ∈ B and that 0 ≤ v(j|A ) − x < v(B|A ) for some x ≥ 0 . Then there is i ∈ B such that v(j|A ) − x < v(i|A ) .
Proof : Let ǫ = 1 2n [ v(B|A ) − v(j|A ) + x ] and define a price vector p such that pj = x , pi = 0 for i ∈ A , pi = ǫ for i ∈ B and pi = ∞ otherwise . Let S be a maximal set in D(v ; p ) . Clearly A ⊆ S since the elements in A have zero price . Now , we argue that S \ A ⊆ B . We note that if j ∈ S , then no element in B can be in S , since v(i|A ∪ j ) = 0 and pi > 0 for all i ∈ B while pi > 0 . But A ∪ j is not optimal , since v(B|A ) − ǫ|B| > v(j|A ) − x . Therefore , S must be a subset of A ∪ B . Also , since v(B|A ) − ǫ|B| > v(j|A ) − x ≥ 0 , there must be some i ∈ B ∩ S .
Consider such i and the price vector p′ such that p′ k = ∞ otherwise . By the definition of gross subtitutes , there must be S′ ∈ D(v , p′ ) such that i ∈ S′ . Since items in A have zero price , we can assume that A ⊆ S′ . Since i has positive price and v(i|A∪ j ) = 0 , then j can’t be in S′ . So , S′ = A ∪ i . This implies that v(A ∪ i ) − p(A ∪ i ) ≥ v(A ∪ j ) − p(A ∪ j ) , which can be re written as : v(i|A ) > v(i|A ) − ǫ ≥ v(j|A ) − x . fi k = pk for all k ∈ A ∪ {i , j} and p′
Theorem 13 Let the valuation v be gross substitutes , X be a Gs consistent decision map and p be a vector of independent random variables forming a mixed Nash equilibrium . It holds that if v(i|N \ i ) > 0 then pi = v(i|N \ i ) and i ∈ X(p ) deterministically . Additionally , if v(i|N \ i ) = 0 , then seller i has expected utility of zero at any mixed Nash equilibrium , ie , E[ui(p ) ] = 0 .
Proof : We know by Lemma 11 that pi ≥ v(i|N \ i ) with probability 1 . Let S = {i ∈ N ; P[pi > v(i|N \ i ) ] > 0} . If we show that for every i ∈ S , E[ui(p ) ] = 0 , then we are done , since then clearly v(i|N \i ) = 0 , otherwise this seller would be able to get positive utility by posting a price 1 2 v(i|N \i ) . i ] ≥ 1 Let pt i , p−i) ] , P[pi ≥ pt t and n ) . Since X(pt ) can take finitely many values , there is P[pi ≤ pt a set T ⊂ N such that T = X(pt ) infinitely often . We know that S 6⊆ T , since for very large t , pt i > v(i|N \ i ) for all i ∈ S . i be some price in the support of pi for which E[ui(p ) ] = E[ui(pt i ] ≥ 1 − 1 t . Define pt = ( p1
1 , . . . , pt
For any i /∈ T we know that
E[ui(p ) ] = E[ui(pt i , p−i ) ] = pt i · P[i ∈ X(pt i , p−i ) ] where the first equality comes from pt decision map , if p−i ≤ pt
−i , then i /∈ X(pt i , p−i ) , therefore : i being a best response to p−i . Now , since X is a Gs consistent
P[i ∈ X(pt i , p−i ) ] ≤ P[∃j 6= i ; pj > pt j ] ≤ j ] ≤ n−1 t
≤Pj6=i P[pj > pt
Taking t → ∞ we get that E[ui(p ) ] = 0 .
Now we claim that v(i|T ) = 0 . i ∈ X(p′ ) for p′ = ( p′ Therefore , by the fact that the valuations are gross substitutes : i , pt
2 v(i|T ) would guarantee that : −i ) since v(T ∪ {i} ) − p′(T ∪ {i} ) > v(T ) − p′(T ) = maxS ′;i /∈S ′ v(S′ ) − p′(T ′ ) .
If not , then the price p′ i = 1
E[ui(p ) ] ≥ E[ui(p′ i , p−i ) ] = p′ i · P[i ∈ X(p′ i , p−i ) ]
≥ p′ i · P[pj ≥ pt j , ∀j 6= i ] ≥
1 tn−1 > 0
10 which contradicts that E[ui(p ) ] = 0 . So , it must be the case that v(i|T ) = 0 . v(N ) = v(T ) by Lemma 8 .
In particular ,
Now , in order to complete the proof , we want to show that S ∩ T = ∅ , since this implies that if for some seller j , P[pj > v(j|N \ j ) ] > 0 , then j /∈ T and therefore E[uj(p ) ] = 0 . Assume for contradiction that there is j ∈ S ∩ T and take t large enough we can assume that pt j > v(j|N \ j ) . Then : v(j|T \ j ) − pt j < v(j|T \ j ) − v(j|N \ j ) = v(N \ T |T \ j ) since v(T ) = v(N ) . This allows us to apply Lemma 12 with j , A = T \ j , B = N \ T and x = pj , we get that there is i /∈ T such that : v(j|T \ j ) − pt j < v(i|T \ j ) . Therefore , if such i deviates to price p′ −i ) , since v(T ∪ i \ j ) − p′(T ∪ i \ j ) > v(T ) − p′(T ) ≥ maxS ′6∋i v(S′ ) − p′(S′ ) . Therefore : i > 0 such that v(j|T \ j ) − pt i , then i ∈ X(p′ ) for p′ = ( p′ j < v(i|T \ j ) − p′ i , pt
E[ui(p ) ] ≥ E[ui(p′ i , p−i ) ] ≥ p′ i · P[pj ≥ pt j , ∀j 6= i ] > 0 contradicting that E[ui(p ) ] = 0 . This shows that there can’t be a seller j in S ∩ T , concluding the proof . fi
5 Extensions of the basic model
In this section we explore some natural generalizations of the basic model . We first consider costly services , then we consider valuation uncertainty and the connection to the model of multiple buyers with no price discrimination . Finally , we consider the case that a single seller controls multiple services but can only price individual services .
5.1 Service costs
In the basic model we assumed that the seller has no cost in providing the service . Now , we consider the extension in which each seller i has cost ci ≥ 0 for providing the service . We model this by changing the utility of each seller i to : ui(p ) = ( pi − ci ) · I{i ∈ X(p)}
Clearly in this new game , it is a dominated strategy to post a price pi < ci . The first thing we notice is that maximality of the map is not enough to guarantee existence of pure Nash equilibrium anymore . Consider , the following example :
Example 14 Consider a game with two sellers and a buyer with valuation v(S ) = 3 if |S| ≥ 1 and v(∅ ) = 0 , and two sellers with costs c1 = 1 and c2 = 2 . Also , let the seller break ties in favor of the costlier seller , ie , X(p ) = {i} if pi < p3−i ≤ 3 , X(p ) = {2} if p1 = p2 ≤ 3 and X(p ) = ∅ otherwise . The map X is maximal , and yet there is no pure Nash equilibrium : there is no equilibria with min{p1 , p2} > 3 , since one of the sellers can decrease his price and be selected . For the case min{p1 , p2} ≤ 3 , there is no equilibria with p1 6= p2 since the seller with lowest price can improve his utility by slightly increasing his price . We are left with p1 = p2 ≤ 3 . By the tie breaking rule , X(p ) = {2} and since c2 = 2 , we must have p1 = p2 ≥ 2 , otherwise 2 would be getting negative utility . This can’t be an equilibrium since p1 can decrease his price and be selected .
However , we show that with an additional mild assumption on the decision map X , we can prove the existence of ǫ Nash equilibria for any ǫ > 0 . We say that a map is up consistent if for any price vector p if X(p ) = S and p′ i , p−i ) . Lexicographically breaking ties is up consistent as we show next . i > pi , then either X(p′ i , p−i ) = S or i /∈ X(p′
11
Lemma 15 The map that chooses the lexicographically first set among the ( maximal ) sets of D(v ; p ) is ( maximal ) up consistent . i , p−i ) . We want to show that if i ∈ X(p′ ) , Proof : Let S = X(p ) , i ∈ S , p′ then X(p′ ) = S . By the lexicographic rule , if X(p′ ) 6= S , there must be T ∈ D(v ; p′ ) \ D(v ; p ) such that i ∈ T . Given that T /∈ D(v ; p ) , there must be a set T ′ such that v(T ) − p(T ) < v(T ′ ) − p(T ′ ) . Since p coincides with p′ except from coordinate i and i ∈ T , then : v(T ) − p′(T ) < v(T ′ ) − p′(T ′ ) , therefore T can’t be in D(v ; p′ ) . fi i > pi and p′ = ( p′
Using the definition of up consistency , we show the existence of ǫ Nash for any ǫ > 0 . Moreover , the following theorem also states that there are ǫ Nash equilibria with optimal welfare , where the welfare function defined as the sum of the utilities of the agents ( the sellers and the buyer ) : W ( p ) = v(X(p ) ) − c(X(p) ) . This implies a Price of Stability of one .
Theorem 16 Consider any combinatorial valuation v , a vector of service costs c and an upconsistent decision map X . For every ǫ > 0 , there exists an ǫ Nash equilibrium p with X(p ) = X(c ) .
Proof : Fix ǫ > 0 , let S = X(c ) and define :
F =(p ∈ RN
+ ; p ≥ c , X(p ) = S ) i ≥ pi + ǫ , update pi to p′
Clearly c ∈ F . Set initially p = c and while there exists some i ∈ S such that i ∈ X(p′ i , p−i ) , for some p′ i . By up consistency we mantain the invariant that X(p ) = S during this procedure . When it stops , we have a vector p such that X(p ) = S , for all i ∈ S and p′ i ≥ pi + ǫ , X(p′ i ) 6∋ i and for i /∈ S , pi = ci .
Now , it is easy to see that this is an ǫ Nash equilibrium : for i ∈ S , ui = pi . In order to increase his utility by ǫ , each seller needs to deviate to a price p′ i ≥ pi + ǫ , but from the construction he won’t be allocated at that price . For i /∈ S , we know that for any set T ∋ i , v(S ) − p(S ) ≥ v(T ) − p(T ) , so if i deviated to any price p′ i , pi ) we would have v(S ) − p′(S ) > v(T ) − p′(T ) , hence i /∈ X(p′ ) . i > ci , then for p′ = ( p′ fi
The following result characterizes the sets picked in equilibrium :
Lemma 17 If p is a pure Nash equilibrium ( or the limit of ǫ Nash equilibria as ǫ → 0 ) , then : v(i|S \ i ) ≥ ci , ∀i ∈ S v(T ∪ j ) + c(S \ T ) − cj ≤ v(S ) , ∀T ⊆ S and j /∈ S
Proof : The first part follows from the fact that S ∈ D(v ; p ) and therefore v(S ) − p(S ) ≥ v(S \ i ) − p(S \ i ) and the fact that pi ≥ ci . The second statement comes from the fact that for j /∈ S and p′ j → cj and using the fact that pi ≥ ci , we get the desired result . fi j , p−j ) , in particular : v(S ) − p(S ) ≥ v(T ∪ j ) − p(T ) − p′ j > cj , i /∈ X(p′ j . Taking p′
In particular , v(S)−c(S ) ≥ max{v(S \i)−c(S \i ) , v(S ∪j)−c(S ∪j ) , v(S ∪j \i)−c(S ∪j \i ) , ∀i ∈ S , j /∈ S} . This corresponds to a minimum of the local search procedure that seeks to optimize v(S ) − c(S ) by either adding an element , removing an element or swapping an element in the set by an element outside . Gul and Stachetti [ 17 ] show that if a valuation function v is gross subtitutes , then this procedure doesn’t get stuck in suboptimal local maxima . In particular , this implies that :
12
Corollary 18 If the valuation v is gross substitutes and p is a Nash equilibrium ( or a limit of ǫ Nash equilibria ) , then the welfare of the allocation W ( p ) = v(X(p ) ) − c(X(p ) ) is optimal , ie , W ( p ) = maxS⊆N v(S)−c(S ) . In other words , the Price of Anarchy of this game , for gross substitute valuations is 1 .
In the following example we show that submodularity is not enough to guarantee that all Nash equilibria have optimal welfare , unlike the case without costs . In fact , the welfare of a Nash equilibrium might be arbitrarily smaller then the optimal welfare , ie , the Price of Anarchy is unbounded .
Example 19 Let k and ℓ be integers with k ≫ ℓ and k odd . Now , consider a pricing game with k + ℓ + 1 sellers indexed by {0 , 1 , . . . , k + ℓ} with costs ci = k − ℓ for i = 0 , , ℓ and ci = 0 for i = ℓ + 1 , , ℓ + k . Define the valuation of the buyer as follows : v(S ) = min{k · ℓ,Pi∈S wi} where wi = k for i = 0 , , ℓ and wi = ℓ for i = ℓ + 1 , , ℓ + k . Assume that the buyer breaks ties lexicographically .
Consider now the following price vector : pi = k−ℓ for i = 0 , , ℓ and pi = ℓ for i = ℓ+1 , , ℓ+k . First we claim that this price vector is a Nash equilibrium . By the lexicographic rule , X(p ) = {0 , . . . , ℓ − 1} . For any seller i ∈ X(p ) , if i increases his price , the buyer will replace him by seller ℓ , choosing the set {0 , 1 , . . . , ℓ} \ i . For seller ℓ , he cannot become selected by increasing his price and if he decreases his price he gets negative utility since his cost is k − ℓ . Now , for any seller i ∈ {ℓ + 1 , . . . , ℓ + k} , they are not selected even if they decrease their price to zero . Now , notice that W ( p ) = v(X(p ) ) − c(X(p ) ) = ℓ · ℓ . For the set S∗ = {ℓ + 1 , . . . , ℓ + k} , v(S∗ ) − c(S∗ ) = ℓ · k . As k/ℓ → ∞ the gap between the optimal welfare and the welfare of this Nash equilibrium goes to infinity .
We also note that even when equilibria exist , it is not necessarily unique , even when the valua tions are submodular . Consider the following example :
Example 20 Consider the game with three sellers {1 , 2 , 3} with costs 0.1 , 0.1 and 0.3 and a buyer with the following submodular valuation v(S ) = min{2 , I{1 ∈ S} + I{2 ∈ S} + 2 · I{3 ∈ S}}
Also , let X be the decision map that picks the lexicographically first element in D(v ; p ) . Now , note that all the vectors ( p1 , p2 , 0.3 ) with p1 ≥ 0.1 , p2 ≥ 0.1 and p1 + p2 ≤ 0.3 are Nash equilibria .
5.2 Value uncertainty and Multiple buyers
The basic pricing game assumes that the valuation function of the buyer is public information . We consider here the case where sellers have uncertainty about the true valuation of the buyer , ie , sellers only know that v is drawn from a certain distribution D . In such case each seller i seeks to maximize : ui(p ) = Ev∼D[pi · I{i ∈ Xv(p)} ]
If D is the uniform distribution , this is equivalent to the scenario where there are multiple buyers , each buyer k ∈ [ m ] with a valuation function vk : 2N → R+ and sellers are not allowed to price discriminate , i.e , they need to post the same price for all the buyers . Upon facing a price vector p , each buyer purchases the bundle Xk(p ) ∈ D(vk , p ) and the revenue of seller i is : k=1 pi · I{i ∈ Xk(p)} ui(p ) =Pm
13
We observe that the above model is a generalization of Bertrand networks that were defined by Babaioff , Lucier and Nisan [ 3 ] . A Bertrand Network is a game defined on a graph where each node is a seller and his strategy is to set a price pi ∈ [ 0 , 1 ] . Each edge corresponds to a set of buyers each interested in buying one item for price at most 1 and who chooses to purchase from the accessible seller ( incident node ) offering the cheaper price , breaking ties in a fixed but arbitrary manner . This defines a game among the sellers whose utility is given by their total revenue , ie , the price posted multiplied by number of buyers that decide to purchase from this seller . This naturally maps to an instance of our pricing game , where each node corresponds to a seller and each edge e = ( i , j ) corresponds to a buyer k whose valuation is vk(Sk ) = 1 if Sk ∩ {i , j} 6= ∅ and zero otherwise .
Babaioff et al [ 3 ] show that pure Nash equilibria might not exist , but mixed Nash equilibria always exist . Both results carry over to our setting . The non existence of pure Nash for some instances follows directly , since Bertrand Networks is a particular case of our pricing game . The existence of mixed Nash equilibria proof in [ 3 ] is non trivial and it doesn’t follow from Nash ’s Theorem , as usual , since the strategy space is infinite and the utility functions are discontinuous . The strategy used for proving existence of equilibrium , follows by applying a general result by Simon and Zame [ 28 ] . The same type of technique yields the existence of mixed Nash in our setting as well . We defer the proof to the full version of this paper .
We remark that the example in [ 3 ] can also be used to show an instance of the game with multiple buyers without ǫ Nash equilibria for small values of ǫ :
Example 21 Consider a setting with two sellers {A , B} and two buyers with valuations v1(S1 ) = I{A ∈ S1} and v2(S2 ) = I{S2 6= ∅} . We show that for sufficiently small ǫ , no ( pure ) ǫ Nash exist for any tie breaking rule .
Fix some value of ǫ such that 0 < ǫ < 1
10 and assume that p is an ǫ Nash equilibrium . First we note that it must be the case that u1(p ) ≥ 1 − ǫ since for any p2 , u1(1 , p2 ) ≥ 1 . Now , consider two cases :
Case ( i ) p1 ≥ 1 − ǫ . If p2 ≥ p1 , then u2(p ) = 0 and seller 2 can deviate to p1 − ǫ giving him utility : u2(p1 , p1 − ǫ ) = p1 − ǫ ≥ 1 − 2ǫ > ǫ . If p1 ≥ p2 ≥ p1 − ǫ , then seller 1 can deviate to p2 − 2ǫ and get utility u1(p2 − 2ǫ , p2 ) = 2(p2 − 2ǫ ) ≥ 2 − 8ǫ ≥ p1 + ( 1 − 8ǫ ) > p1 + ǫ . Now , if p2 < p1 − ǫ , then seller 2 can increase his utility by raising his price by ǫ and still be chosen .
Case ( ii ) : p1 < 1 − ǫ . If p2 < p1 or p1 < 1−ǫ utility by more then ǫ by raising his price to 1 . If 1−ǫ lower his price to p1 − ǫ , getting utility at least 1−ǫ
2 , then u1(p ) < 1 − ǫ and player 1 can improve his 2 ≤ p1 ≤ p2 , then u2(p ) = 0 , but seller 2 can
2 − ǫ ≥ ǫ .
5.3 Multiple services per seller
Finally , we relax the assumption that each seller controls a single service . Let N be the total set i=1Ni be a disjoint partition ( Ni ∩ Ni′ = ∅ for i 6= i′ ) where Ni represent of services and let N = ∪r the services controlled by seller i . Given a buyer with valuation v : 2N → R and a decision map X , this defines a game between sellers where the strategy of each seller is to set prices for each service in Ni , ie , pi ∈ RNi
+ . The utility of seller i is then given by : ui(p ) =Pj∈Ni pj · I{j ∈ X(p)}
Observe that with two goods that are perfect substitutes but controlled by the same seller , their price won’t go down to zero as in Bertrand competition , since a seller won’t be competing with himself .
We illustrate the subtleties of this variant by analyzing the special case of the monopolistic seller , ie , where one seller ( seller 1 ) controls all the services and posts prices for each of them
14 individually . This boils down to an optimization problem where the goal of the seller is to find a price vector p that optimizes his utility : u1(p ) := Xj∈N pj · I{j ∈ X(p)}
Note that the constraint that the seller prices individual services and not bundles might prevent the seller , although a monopolist , from extracting the entire surplus .
First we show the case that for the case of submodular valuations , this can be phrased as an optimization over sets :
Lemma 22 If the valuation v is submodular and X is maximal , then maxp∈RN i )
+ u1(p ) = maxS⊆NPi∈S v(i|S\
Proof : Given p ∈ RN
+ , let S = X(p ) . Since S ∈ D(v ; p ) it must be the case that pi ≤ v(i|S \ i ) ,
Since there are no costs , the welfare of this game can be defined as W ( p ) = v(X(p) ) . We note that unlike the case where each seller controls one good , the welfare in equilibrium can be far from 1 j = Θ(log n ) be the k th harmonic number and define the valuation v(S ) such that : v(S ) = 1 + ǫ if |S| = 1 and v(S ) = H|S| if |S| ≥ 2 . This function is clearly submodular ( in fact , it is also gross substitutes ) . By Lemma 22 , so u1(p ) = Pi∈S pi ≤ Pi∈S v(i|S \ i ) . Conversely , given S ⊆ N , setting prices pi = v(i|S \ i ) for i ∈ S and pi = ∞ otherwise , we get X(p ) = S and u1(p ) =Pi∈S v(i|S \ i ) . efficient even if the buyer ’s valuation is gross substitutes . Let Hk =Pk the revenue in a Nash equilibrium is of the formatPi∈S v(i|S \ i ) for S = X(p ) , which is maximized for sets S of size 1 . Therefore , for all equilibria , the buyer buys at most one item , generating 1 + ǫ welfare , while the optimal achievable welfare is Hn . Since this is the unique equilibrium , this implies an logarithmic lower bound on the Price of Anarchy and Price of Stability . j=1 fi
In what follows , we show that this bound is tight , i.e , for all Nash equilibria the welfare is at least a Ω(1/ log n ) fraction of the optimal welfare . In other words , this implies an upper bound of log n of the Price of Anarchy ( and thus also on the Price of Stability ) . We show that by proving Hn v(N ) . Therefore , the seller can always that there is always a set S such that Pi∈S v(i|S \ i ) ≥ 1 secure that much revenue . Since the seller revenue is a lower bound to the welfare we have :
Theorem 23 If the valuation v is submodular and X is maximal , then for every pure Nash equilibrium p of the monopolistic seller game5 , v(X(p ) ) ≥ 1 Hn v(N ) . In other words , the Price of Anarchy is bounded by Hn = O(log n ) . Moreover , there is a randomized polynomial time algorithm that finds a vector p with u1(p ) ≥ v(N )/2Hn with constant probability .
This is a consequence of the following lemma :
Lemma 24 Given a function v : 2N → R+ , consider the following randomized algorithm : pick a size k ∈ {1 , . . . , n} with probability ( k · Hn)−1 and then pick a random set S of size k . Then : v(N ) .
Hn
E.Pi∈S v(i|S \ i)fi = 1 E"Xi∈S
Proof : Observe that we can rewrite the expectation as : v(i|S \ i)# = n
Xk=1
1 kHn
E|S|=k"k · v(S ) −Xi∈S v(S \ i)#
5since it is a one player game , a Nash equilibrium corresponds to an optimal price vector
15
Let ˜v(k ) = E|S|=kv(S ) . We note that :
E|S|=kXi∈S = XT :|T |=k−1 Hn · E"Xi∈S
Therefore : v(S \ i ) = XS:|S|=k n − k + 1
1 v(S \ i )
,n kv(T ) = XT :|T |=k−1
,n k v(T ) = k˜v(k − 1 ) k
, n k−1 v(i|S \ i)# =
˜v(k ) − ˜v(k − 1 ) = ˜v(n ) = v(N ) n
Xk=1 fi
This in particular implies a polynomial time randomized approximation algorithm for the optimization problem faced by the seller . We remark that since u1(p ) is bounded from above by v(N ) , we can get expected utility of Ω(v(N )/Hn ) with high probability by running the algorithm Θ(log n ) and taking the best output . We make this statement precise in following Lemma :
Lemma 25 Given a submodular function v and r(S ) := Pi∈S v(i|S \ i ) , then if S1 , . . . , Sk are independent samples according to the procedure described in Lemma 24 for k = s · Hn , then P[maxi r(Si ) ≥ v(N )
2Hn ] ≥ 1 − e−s/2 .
Proof : Since v is a submodular function r(S ) =Pi∈S v(i|S \ i ) ≤ v(N ) for all S . Therefore , for all t ∈ [ 0 , v(N ) ]
= E[r(Si ) ] ≤ t · P [ r(Si ) < t ] + v(N ) · P [ r(Si ) ≥ t ] v(N ) Hn so P [ r(Si ) ≥ t ] ≥ v(N ) Hn
−t v(N )−t ≥ 1
Hn
− t
2Hn v(N ) . Taking t = v(N ) 2Hn ≥ 1 − ( 1 − v(N )
1
2Hn
Pmax i r(Si ) ≥ we get Phr(Si ) ≥ v(N )
2Hni ≥ 1
2Hn
)sHn ≥ 1 − e−s/2
. Therefore , fi
Finally , we note that the optimization problem faced by the monopolistic seller is a particular case of the Unique Coverage Problem studied by Demaine et al [ 11 ] : given an universe set U and subsets Y1 , Y2 , . . . , Yn , find a collection of subsets that maximizes the number of elements covered by exactly one set . In other words , find S ⊆ [ n ] in order to maximize Pi∈S |Yi \ ∪j∈S\iYj| . This is exactly the optimization problem faced by the monopolistic seller when v(S ) = |∪i∈SYi| . Demaine et al [ 11 ] give a O(log n ) approximation of the Unique Coverage problem and show an Ω(logσ n ) hardness of approximation for some constant σ > 0 under suitable complexity assumptions . This in particular implies logarithmic hardness of approximation for the monopolistic seller problem .
Acknowledgements
We thank Balasubramanian Sivan for many comments on this manuscript , specially for helping us to improve our Example 19 .
16
References
[ 1 ] J . Angwin and D . Mattioli .
Coming soon : Toilet paper priced like airline tickets . http://onlinewsjcom/article/SB10000872396390444914904577617333130724846html , 2012 .
[ 2 ] A . Archer and ´E . Tardos . Frugal path mechanisms . In SODA , pages 991–999 , 2002 .
[ 3 ] M . Babaioff , B . Lucier , and N . Nisan . Bertrand networks . In ACM Conference on Electronic
Commerce , pages 33–34 , 2013 .
[ 4 ] D . Bernheim and M . D . Whinston . Menu auctions , resource allocation , and economic influence .
The Quarterly Journal of Economics , 101(1 ) , 1986 .
[ 5 ] J . Bertrand . Book review of theorie mathematique de la richesse sociale and of recherches sur les principles mathematiques de la theorie des richesses . J des Savants , 67(2):499–508 , 1883 .
[ 6 ] K . Bhawalkar and T . Roughgarden . Welfare guarantees for combinatorial auctions with item bidding . In SODA , pages 700–709 , 2011 .
[ 7 ] S . Chawla and F . Niu . The price of anarchy in bertrand games .
In ACM Conference on
Electronic Commerce , pages 305–314 , 2009 .
[ 8 ] S . Chawla and T . Roughgarden . Bertrand competition in networks . In SAGT , pages 70–82 ,
2008 .
[ 9 ] N . Chen , E . Elkind , N . Gravin , and F . Petrov . Frugal mechanism design via spectral techniques .
In FOCS , pages 755–764 , 2010 .
[ 10 ] G . Christodoulou , A . Kov´acs , and M . Schapira . Bayesian combinatorial auctions . In ICALP
( 1 ) , pages 820–832 , 2008 .
[ 11 ] E . D . Demaine , U . Feige , M . Hajiaghayi , and M . R . Salavatipour . Combination can be hard :
Approximability of the unique coverage problem . SIAM J . Comput . , 38(4):1464–1483 , 2008 .
[ 12 ] A . Dress and W . Terhalle . Well layered maps – a class of greedily optimizable set functions .
Applied Mathematics Letters , 8(5):77 – 80 , 1995 .
[ 13 ] M .
Eisen .
Amazon ’s
$23,698,655.93 book about flies . http://wwwmichaeleisenorg/blog/?p=358 , 2011 .
[ 14 ] E . Elkind , L . A . Goldberg , and P . W . Goldberg . Frugality ratios and improved truthful mech anisms for vertex cover . In ACM Conference on Electronic Commerce , pages 336–345 , 2007 .
[ 15 ] E . Elkind , A . Sahai , and K . Steiglitz . Frugality in path auctions . In SODA , pages 701–709 ,
2004 .
[ 16 ] M . Feldman , H . Fu , N . Gravin , and B . Lucier . Simultaneous auctions are ( almost ) efficient . In
STOC , pages 201–210 , 2013 .
[ 17 ] F . Gul and E . Stacchetti . Walrasian equilibrium with gross substitutes . Journal of Economic
Theory , 87(1):95–124 , July 1999 .
17
[ 18 ] A . Hassidim , H . Kaplan , Y . Mansour , and N . Nisan . Non price equilibria in markets of discrete goods . In ACM Conference on Electronic Commerce , pages 295–296 , 2011 .
[ 19 ] N . Immorlica , D . R . Karger , E . Nikolova , and R . Sami . First price path auctions . In ACM
Conference on Electronic Commerce , pages 203–212 , 2005 .
[ 20 ] N . Immorlica , D . R . Karger , E . Nikolova , and R . Sami . First price procurement auctions .
Manuscript , 2010 .
[ 21 ] A . Kelso and V . Crawford . Job matching , coalition formation , and gross substitutes . Econo metrica , 50(6):1483–1504 , November 1982 .
[ 22 ] D . Kempe , M . Salek , and C . Moore . Frugal and truthful auctions for vertex covers , flows and cuts . In FOCS , pages 745–754 , 2010 .
[ 23 ] B . Lehmann , D . J . Lehmann , and N . Nisan . Combinatorial auctions with decreasing marginal utilities . Games and Economic Behavior , 55(2):270–296 , 2006 .
[ 24 ] R . P . Leme , V . Syrgkanis , and ´Eva Tardos . The dining bidder problem : a la russe et a la francaise . SIGecom Exchanges , 11(2 ) , 2012 .
[ 25 ] K . Murota . Convexity and steinitz ’s exchange property . Advances in Mathematics , 124(2):272
– 311 , 1996 .
[ 26 ] J . Nash . The bargaining problem . Econometrica , 18(2):155–162 , April 1950 .
[ 27 ] R . Paes Leme , V . Syrgkanis , and ´E . Tardos . Sequential auctions and externalities . In SODA , pages 869–886 , 2012 .
[ 28 ] L . K . Simon and W . R . Zame . Discontinuous games and endogenous sharing rules . Economet rica , 58(4):861–72 , July 1990 .
A Proof of Existence of ǫ Nash
In this appendix , we prove Theorem 5 . First , consider the following Lemma :
Lemma 26 Given a combinatorial valuation v and a maximal decision map X , if X(p ) = S , and i = [ pi − ǫ i = pi otherwise , then for any decision map X ′ , and Sǫ = X ′(pǫ ) , it pǫ holds that S ∩ {j ; pj > 0} ⊆ Sǫ ⊆ S . n ]+ for i ∈ S and pǫ
Proof : First we show that if Sǫ \ S 6= ∅ , then Sǫ /∈ D(v ; pǫ ) , contradicting the definition of Sǫ . Since X is maximal , we must have pj > 0 for all j ∈ Sǫ \ S . Thus , if Sǫ \ S 6= ∅ , then for j ∈ Sǫ \ S , by the second condition in Lemma 3 , v(S ) − p(S ) ≥ v(Sǫ ) − p(Sǫ ) + pj > v(Sǫ ) − p(Sǫ ) so it must also be the case that v(S ) − pǫ(S ) > v(Sǫ ) − pǫ(Sǫ ) since for i ∈ Sǫ \ S , pǫ i = pi . We conclude that if Sǫ \ S 6= ∅ , then Sǫ /∈ D(v ; pǫ ) . So , it must be the case that Sǫ ⊆ S .
Now , we show that S ∩ {j ; pj > 0} ⊆ Sǫ . If not , we show that Sǫ /∈ D(v ; pǫ ) . Indeed , since S ∈ D(v ; p ) , then v(S ) − p(S ) ≥ v(Sǫ ) − p(Sǫ ) . Now , given that pǫ ≤ p and there is some j ∈ S \ Sǫ with pǫ fi j < pj , v(S ) − pǫ(S ) > v(Sǫ ) − pǫ(Sǫ ) .
Proof of Theorem 5 : Let S = X(p ) and let pǫ and Sǫ by as in Lemma 26 . We want to show that pǫ is an ǫ Nash equilibrium .
18
First we consider i ∈ S . Since S ∩ {j ; pj > 0} ⊆ Sǫ ( by Lemma 26 ) , we know that uX ′ In order to increase his utility by more then ǫ , it is necessary for him to deviate to ˜pi > pǫ ˜p = ( ˜pi , pǫ in Lemma 3 , there is T 6∋ i , such that v(T ) − p(T ) = v(S ) − p(S ) ≥ v( ˜S ) − p( ˜S ) . We note that : i ( pǫ ) = pǫ i . i + ǫ . Let −i ) . We argue that i /∈ ˜S := X ′(˜p ) . Assume otherwise . We note that by the first condition v(T ) − ˜p(T ) = v(T ) − pǫ(T ) ≥ v(T ) − p(T ) ≥ v( ˜S ) − p( ˜S ) > v( ˜S ) − ˜p( ˜S ) where the last inequality follows from ˜p( ˜S ) = ˜pi+pǫ(S′\i ) > ( pi+ǫ− ǫ Which contradicts that ˜S ∈ D(v ; ˜p ) , so it must be the case that i /∈ ˜S . n )+(p( ˜S \i)−(n−1 ) ǫ n ) = p( ˜S ) .
Now , consider a seller i /∈ S . His utility uX ′ i ( pǫ ) = 0 since X ′(pǫ ) ⊆ S . In order to increase it by −i ) , i /∈ ˜S := X ′(˜p ) . more then ǫ , he needs to deviate to ˜pi > ǫ . Again , we argue that for ˜p = ( ˜pi , pǫ Assume otherwise . Since i ∈ ˜S , by the second condition of Lemma 3 we have v(S ) − p(S ) ≥ v( ˜S ) − p( ˜S \ i ) . Therefore : v(S ) − pǫ(S ) = v(S ) − p(S ) + [ p(S ) − pǫ(S ) ]
≥ v( ˜S ) − p( ˜S \ i ) + [ p( ˜S \ i ) − pǫ( ˜S \ i ) ] = v( ˜S ) − pǫ( ˜S \ i ) > v( ˜S ) − ˜p( ˜S ) which contradicts the fact that ˜S ∈ D(v ; ˜p ) .
In order to see that Sǫ = X ′(pǫ ) and S = X(p ) produce the same welfare , notice that Sǫ ⊆ S fi and all j ∈ S \ Sǫ are priced at zero . Therefore : v(S|Sǫ ) = 0 .
19
